<!DOCTYPE html><html lang="zh-TW" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>计算机网络学习笔记-网络层 | Kalyan的小书房</title><meta name="keywords" content="计算机网络"><meta name="author" content="Kalyan,3148862192@qq.com"><meta name="copyright" content="Kalyan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="IP数据报格式TCP&#x2F;IP协议栈  IP数据报主要格式  首先发送的是首部，首部分为固定部分以及可变部分   版本字段：IPv4&#x2F;IPv6？  首部长度： 单位是4B，最小为5，实际会被填充成四的倍数  区分服务：期望获得哪种类型服务  总长度： 首部+数据，单位是1B  生存时间（TTL）：IP分组的保质期，经过一个路由器-1，变为0则丢弃，防止无法交付的数据报无限地兜圈子。防止消耗网络资源。">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络学习笔记-网络层">
<meta property="og:url" content="https://kalyan-zitiu.github.io/2022/10/13/%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%88%E6%B5%85%EF%BC%89/index.html">
<meta property="og:site_name" content="Kalyan的小书房">
<meta property="og:description" content="IP数据报格式TCP&#x2F;IP协议栈  IP数据报主要格式  首先发送的是首部，首部分为固定部分以及可变部分   版本字段：IPv4&#x2F;IPv6？  首部长度： 单位是4B，最小为5，实际会被填充成四的倍数  区分服务：期望获得哪种类型服务  总长度： 首部+数据，单位是1B  生存时间（TTL）：IP分组的保质期，经过一个路由器-1，变为0则丢弃，防止无法交付的数据报无限地兜圈子。防止消耗网络资源。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://kalyan-zitiu.github.io/img/WallPaper%20(9).jpg">
<meta property="article:published_time" content="2022-10-13T14:30:04.000Z">
<meta property="article:modified_time" content="2022-11-15T03:52:32.272Z">
<meta property="article:author" content="Kalyan">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kalyan-zitiu.github.io/img/WallPaper%20(9).jpg"><link rel="shortcut icon" href="/img/%E9%A1%B6%E9%83%A8%E6%A0%87%E7%AD%BE(2).jpg"><link rel="canonical" href="https://kalyan-zitiu.github.io/2022/10/13/%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%88%E6%B5%85%EF%BC%89/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '计算机网络学习笔记-网络层',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-15 11:52:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Kalyan的小书房" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/%E5%A4%B4.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">42</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">34</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清單</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/WallPaper%20(9).jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Kalyan的小书房</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清單</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">计算机网络学习笔记-网络层</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2022-10-13T14:30:04.000Z" title="發表於 2022-10-13 22:30:04">2022-10-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2022-11-15T03:52:32.272Z" title="更新於 2022-11-15 11:52:32">2022-11-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="计算机网络学习笔记-网络层"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="IP数据报格式"><a href="#IP数据报格式" class="headerlink" title="IP数据报格式"></a>IP数据报格式</h2><h2 id="TCP-IP协议栈"><a href="#TCP-IP协议栈" class="headerlink" title="TCP/IP协议栈"></a>TCP/IP协议栈</h2><ul>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101048607.png" alt="image-20221009151537340" style="zoom:50%;" /></li>
<li>IP数据报主要格式 <img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101047278.png" alt="image-20221009151618409"></li>
<li>首先发送的是首部，首部分为固定部分以及可变部分<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101047494.png" alt="image-20221009151748549"  /></li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101047029.png" alt="image-20221009151849391"><ul>
<li> 版本字段：IPv4/IPv6？</li>
<li> 首部长度： 单位是4B，最小为5，实际会被填充成四的倍数</li>
<li> 区分服务：期望获得哪种类型服务</li>
<li> 总长度： 首部+数据，单位是1B</li>
<li> 生存时间（TTL）：IP分组的保质期，经过一个路由器-1，变为0则丢弃，防止无法交付的数据报无限地兜圈子。防止消耗网络资源。</li>
<li>协议：数据部分的协议<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101047422.png" alt="image-20221009152639531"><ul>
<li>TCP:面向连接的服务  </li>
<li>UDP：不是面向连接，不建立连接是有可能产生丢包现象的</li>
</ul>
</li>
<li>首部检验和：只检验首部（检验首部数据是否变化或者出错） </li>
<li> 源地址以及IP地址：32位</li>
<li> 可选字段：支持排错，测量以及安全等措施</li>
<li> 填充：，全0，把首部补全成4B的整数倍<h2 id="IP数据报分片"><a href="#IP数据报分片" class="headerlink" title="IP数据报分片"></a>IP数据报分片</h2><h3 id="MTU最大传送单元"><a href="#MTU最大传送单元" class="headerlink" title="MTU最大传送单元"></a>MTU最大传送单元</h3></li>
</ul>
</li>
<li>链路层数据帧可封装数据的上限<ul>
<li> <img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101047011.png" alt="image-20221009155352562"></li>
</ul>
</li>
<li>以太网的MTU是1500字节</li>
<li>过长就会分片，不分则不传递，返回ICMP的差错报文</li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101047353.png" alt="image-20221009161328524"><ul>
<li> 标识：同一数据报的分片使用同一标识</li>
<li>标志：只有两位有意义<ul>
<li>中间位DF，DF=1（禁止分片），DF=0（允许分片）</li>
<li>最低位MF，MF=1（后面还有分片），MF=0（代表最后一片/没分片）（只有经过DF=0的前提下才能进行）</li>
</ul>
</li>
<li>片位移：指出较长分组分片后，某片在原分组中的相对位置。以8B为单位。<ul>
<li>离开头0字节的距离/8;  <h2 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h2></li>
</ul>
</li>
</ul>
</li>
<li>全世界唯一的32位/4字节标识符</li>
<li>组成{&lt;网络号&gt;,&lt;主机号&gt;}</li>
<li>采用点分十进制 </li>
<li>网桥：不能分割广播域，仍然是一个局域网以及一个网络号 <h3 id="分类的地址"><a href="#分类的地址" class="headerlink" title="分类的地址"></a>分类的地址</h3><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101046452.png" alt="image-20221009163738683"><h3 id="特殊的IP地址"><a href="#特殊的IP地址" class="headerlink" title="特殊的IP地址"></a>特殊的IP地址</h3></li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101046300.png" alt="image-20221009165513754"><h3 id="私有IP地址"><a href="#私有IP地址" class="headerlink" title="私有IP地址"></a>私有IP地址</h3><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101045404.png" alt="image-20221009170129863"><h3 id="网络地址转换NAT"><a href="#网络地址转换NAT" class="headerlink" title="网络地址转换NAT"></a>网络地址转换NAT</h3></li>
<li>在传用网连接到因特网的路由器上安装NAT软件，安装了NAT软件的路由器叫NAT路由器，它至少有一个有效的外部全国IP地址<h3 id="子网划分与子网掩码"><a href="#子网划分与子网掩码" class="headerlink" title="子网划分与子网掩码"></a>子网划分与子网掩码</h3></li>
<li>分类的IP地址的弱点：</li>
</ul>
<p>1.IP地址空间的利用率有时很低<br>2.两级IP地址不够灵活</p>
<h4 id="子网划分"><a href="#子网划分" class="headerlink" title="子网划分"></a>子网划分</h4><ul>
<li>三级IP地址组成<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101045548.png" alt="image-20221010121507901"></li>
<li>某单位划分子网后，对外仍然表现为一个网络，即本单位外的网络看不见本单位内的子网的划分<h4 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h4></li>
<li>子网掩码是一个32位地址，用于屏蔽IP地址的一部分以区别网络标识和主机标识，并说明该IP地址是在局域网上，还是在广域网上。</li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101045323.png" alt="image-20221010123420588">橙色的代表网络号，蓝色代表主机号</li>
<li>两级与三级的IP地址的子网掩码很简单，只要是网络号全是1，只要是主机号就是全0.</li>
<li>怎么识别发送数据报的目标IP地址：子网掩码与IP地址<strong>相与</strong>，得到的就是子网的网络地址</li>
</ul>
<h2 id="无分类编址CIDR（超网）"><a href="#无分类编址CIDR（超网）" class="headerlink" title="无分类编址CIDR（超网）"></a>无分类编址CIDR（超网）</h2><ul>
<li>无分类域间路由选择CIDR：<ul>
<li>1.消除了传统的A类，B类和C类地址以及划分子网的概念</li>
<li>2.CIDR记法：IP地址后加上/，然后写上网络前缀（可以任意长度）的位数</li>
<li>3.融合子网地址与子网掩码，方便了子网划分</li>
</ul>
</li>
<li>CIDR地址块<ul>
<li>只要网络前缀都相同的连续IP地址就同属于一个地址块 </li>
</ul>
</li>
<li>构成超网：将多个子网聚合成一个较大的子网或叫路由聚合<ul>
<li>方法：将网络前缀缩短。</li>
</ul>
</li>
<li>最长前缀匹配<ul>
<li>使用CIDR时候，查找路由表可能得到几个匹配结果，应选择具有最长网络前缀的路由</li>
<li>前缀越长，地址块越小，路由越具体</li>
</ul>
</li>
</ul>
<h2 id="ARP协议"><a href="#ARP协议" class="headerlink" title="ARP协议"></a>ARP协议</h2><ul>
<li>发送数据的过程<ul>
<li>ARP高速缓存（IP地址与MAC地址的映射）</li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101045967.png" alt="image-20221011144044073"></li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101044761.png" alt="image-20221011144024726"></li>
<li>除此之外还得价格目的地址的MAC地址</li>
<li>首先广播一个ARP请求（先封装成数据帧）<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101044249.png" alt="image-20221011144140528"><ul>
<li>当交换机收到广播端口，会把它从所有端口发出。</li>
<li>其实说白了就是MAC1地址在寻找MAC3地址的一个过程</li>
</ul>
</li>
<li>当目的MAC地址收到请求消息则会返回一个单播ARP响应分组<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101042483.png" alt="image-20221011144437812"><ul>
<li>其实就是和源地址说明我在哪个位置。<br>注意：以上都是一个子网内的方法</li>
</ul>
</li>
</ul>
</li>
<li>如果IP1想发送分组到IP5，</li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101044074.png" alt="image-20221011145058836"><ul>
<li>1.还是先储存源地址和目的地址的信息以及MAC1地址</li>
<li><ol start="2">
<li>因为是一个跳网段的传输，因此首先会查询自己默认网关的目的地址。</li>
</ol>
</li>
<li>3.所以下一跳，一定先跳到默认网关上，也就是寻找MAC6而不是MAC5</li>
<li>4.所以响应分组先是由默认网关返回</li>
<li>然后会被封装成<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101042554.png" alt="image-20221011150015189"></li>
<li>如上图就是说源地址与目的地址并没有变化，但物理地址缺发生了变化。</li>
<li>到达MAC8后再封装成<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101042780.png" alt="image-20221011150307293"></li>
<li>继续发送ARP请求分组寻找MAC5<br>最终的总局：</li>
</ul>
</li>
<li>IP1 &gt; IP5(始终不变)</li>
<li>Mac1 &gt; Mac 6           Mac7&gt;Mac8     Mac9&gt;Mac5</li>
</ul>
<p><strong>总结：</strong></p>
<ul>
<li>由于在实际网络的链路上传送数据帧时候，最终必须使用MAC地址</li>
<li>ARP协议：完成主机或路由器IP地址到MAC地址的映射。</li>
<li>ARP协议使用过程：<ul>
<li>检查ARP高速缓存，有对应表项则写入MAC帧，没有则用目的MAC地址为FF-FF-FF-FF-FF-FF的帧封装并广播ARP请求分组，同一局域网中所有主机都能 收到该请求。</li>
<li>目的主机收到请求后就会向源主机单播一个ARP响应分组，源主机收到后将此映射写入ARP缓存</li>
<li>ARP协议4种经典情况：<ul>
<li>主机A发给本网络上的主机B：用ARP找到主机B的硬件地址；</li>
<li>主机A发给另一网络上的主机B：用ARP找到本网络上一个路由器（网关）的硬件地址；</li>
<li>路由器发给本网络的主机A：用ARP找到主机A的硬件地址</li>
<li>路由器发给另一网络的主机B:用ARP找到本网络上的一个路由器的硬件地址。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="DHCP协议"><a href="#DHCP协议" class="headerlink" title="DHCP协议"></a>DHCP协议</h2><ul>
<li><p>动态主机配置协议DHCP是<strong>应用层协议</strong>，使用的是<strong>客户/服务器方式</strong>，客户端和服务端通过<strong>广播</strong>方式进行交互，基于UDP。</p>
</li>
<li><p>DHCP提供即插即用联网的机制，主机可以从服务器动态获取IP地址，子网掩码，默认网关，DNS服务器名称与IP地址，且允许地址重用，支持移动用户加入网络，支持在用地址续租。</p>
</li>
<li><p>主要流程：</p>
<ul>
<li>主机进入后会寻找DHCP服务器，广播一个DHCP发现报文</li>
<li>DHCP服务器广播DHCP提供报文</li>
<li>主机广播DHCP请求报文</li>
<li>DHCP服务器广播DHCP确认报文</li>
</ul>
</li>
</ul>
<h2 id="ICMP协议"><a href="#ICMP协议" class="headerlink" title="ICMP协议"></a>ICMP协议</h2><ul>
<li>ICMP差错报告报文（5种）<ul>
<li>1.终点不可达：当路由器或者主机不能交付数据报时候就向源点发送终点不可达报文。</li>
<li>2.时间超过：但路由器收到生存事件TTL=0的数据报时候，除了丢弃该数据报以外，还要向源点发送事件超过报文。当终点再预先规定的时间内不能收到一个数据报全部的数据报片时，就把已经收到的数据报片都丢弃掉，并向源点发送时间超过报文。</li>
<li>3.参数问题：当路由器或目的主机收到的数据报的首部中有的字段的值不正确，就丢弃该数据报，并向源点发送参数问题报文。</li>
<li>4.改变路由（重定向）：路由器把改变路由报文发送给主机，让主机知道下次应将数据报发给另外的路由器（可通过更好的路由）。</li>
<li>5.源点抑制：当路由器或主机由于拥塞而丢弃数据报时，就向源点发送源点抑制报文，使源点知道应当把数据报的发送速率缓慢（注意：很多都已经停止使用了）</li>
</ul>
</li>
<li>ICMP差错报告报文数据字段<ul>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101042268.png" alt="image-20221011160932524"></li>
</ul>
</li>
<li>不应该发送ICMP差错报文<ul>
<li>ICMP差错报告报文不再发送ICMP差错报告报文。（因为ICMP差错报告报文也是一个IP数据报）</li>
<li>对第一个分片的数据报片的所有后续数据报片都不发送ICMP差错报告报文</li>
<li>对具有组播地址的数据报都不发送ICMP差错报告报文</li>
<li>对具有特殊地址（如127.0.0.0或0.0.0.0）的数据报不发送ICMP差错数据报文</li>
</ul>
</li>
<li>ICMP询问报文 、<ul>
<li>1.回送请求和回答报文：主机或路由器向特定目的主机发送的询问，收到此报文的主机必须给源主机或路由器发送ICMP回送回答报文。（测试目的站是否可达以及了解其相关状态）</li>
<li>2.时间戳请求和回答报文：请某个主机或路由器回答当前的日期和时间。（用来进行时钟同步和测量时间） </li>
</ul>
</li>
<li>ICMP应用<ul>
<li>PING：测试 两个主机之间的连通性，使用了ICMP回送请求和回答报文</li>
<li>Traceroute：跟踪一个分组从源点到终点的路径，使用了ICMP时间超过差错报告报文</li>
</ul>
</li>
</ul>
<h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><ul>
<li>IPv6数据报格式</li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041253.png" alt="image-20221011200337302"></li>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041407.png" alt="image-20221011213629483"><ul>
<li>优先级： 区分数据报的类别和处理优先级</li>
<li>流标签：“流”是互联网上从特定源点到特定终点的一系列数据报，所有属于同一个流的数据报都具有同样的流标签</li>
<li>有效载荷长度：（扩展首部+数据）的大小</li>
<li>下一个首部：标识下一个扩展首部或上层协议首部</li>
<li>跳数限制：类似于生存时间TT，不过依然是返回一个ICMP差错报文</li>
</ul>
</li>
</ul>
<h2 id="IPv4与IPv6区别"><a href="#IPv4与IPv6区别" class="headerlink" title="IPv4与IPv6区别"></a>IPv4与IPv6区别</h2><ul>
<li><p>IPv6将地址从32位扩大到128位，扩展了更大的地址空间</p>
</li>
<li><p>IPv6将IPv4的校验和字段彻底删除，以减少每跳的处理时间</p>
</li>
<li><p>加快了路由器的处理效率</p>
</li>
<li><p>IPv6支持了即插即用的自动配置，不需要了DHCP协议</p>
</li>
<li><p>IPv6首部长度必须是8B的整数倍，IPv4首部是4B的整数倍</p>
</li>
<li><p>IPv6只能在主机处分片，IPv4可以在路由器以及主机上分片</p>
</li>
<li><p>但IPv6的分组过大就会返回一个附加报文：ICMPv6</p>
</li>
<li><p>IPv6支持资源的预分配，支持实时视像等要求，保证一定的带宽和时延的应用</p>
</li>
<li><p>IPv6取消了协议字段，改成了下一个首部字段</p>
</li>
<li><p>IPv6取消了总长度字段，改用有效载荷长度字段</p>
</li>
<li><p>IPv6取消了服务类型字段</p>
</li>
<li><p>IPv6地址表示形式</p>
<ul>
<li>冒号十六进制记法<br> +<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041906.png" alt="image-20221011220335686"></li>
</ul>
</li>
<li><p>IPv6基本地址类型</p>
<ul>
<li>单播：一对一通信，可做源地址+目的地址</li>
<li>多播：一对多通信，可做目的地址</li>
<li>任播：一对多中的一个通信，可做目的地址</li>
</ul>
</li>
<li><p>IPv6向IPv4的过渡</p>
<ul>
<li>双栈协议：<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041422.png" alt="image-20221011221301471"></li>
<li>隧道技术： <img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041985.png" alt="image-20221011221311689"></li>
</ul>
</li>
</ul>
<h2 id="RIP协议及距离向量算法"><a href="#RIP协议及距离向量算法" class="headerlink" title="RIP协议及距离向量算法"></a>RIP协议及距离向量算法</h2><ul>
<li><p>路由选择协议</p>
<ul>
<li>1.内部网关协议IGP：一个AS内使用的RIP，OSPF</li>
<li>2.外部网关协议EGP：AS之间使用的是BGP </li>
<li>RIP使用的是距离向量：面对较小的网络</li>
<li>OSPF使用的是链路状态：面对较大的网络</li>
</ul>
</li>
<li><p>RIP协议</p>
<ul>
<li>是一种分布式的基于距离向量的路由选择协议。 </li>
<li>要求网络中每一个路由器都维护从它自己到其他每一个目的网络的唯一最佳距离记录</li>
</ul>
</li>
<li><p>距离（俗称跳数）</p>
<ul>
<li>从源端口到目的端口所经过的路由器个数，经过一个路由器跳数+1.</li>
<li>RIP允许一条路由最多只能包含15个路由器，因此距离为16表示网络不可达</li>
</ul>
</li>
<li><p>RIP协议交换 </p>
<ul>
<li>仅能和相邻的路由器交换消息</li>
<li>路由器交换的信息是自己的路由表</li>
<li>每30秒交换一次路由信息，然后路由器根据新信息更新路由表。</li>
<li>如果超过了180s后，没有收到邻居路由器的通告，则判定为邻居已经死了，并且更新自己的路由表</li>
</ul>
</li>
<li><p>收敛</p>
<ul>
<li>经过多次更新后，所有的路由器最终都会知道到达本自治体系任何一个网络的最短距离和下一跳路由器的地址</li>
</ul>
</li>
<li><p>距离向量算法</p>
<ul>
<li>1.对地址为X的相邻路由器发来的RIP报文。修改此报文中的所有项目：把下一跳字段中的地址改为X，并把所有的“距离”字段+1.</li>
<li>对修改后的RIP报文中的每一个项目，进行一下步骤：</li>
<li>R1路由表中没有Net3，则把该项目填入R1路由表中</li>
<li>R1路由表中若没有Net3，则查看下一跳的路由器地址：若下一跳是X。则用收到的项目替换路由表中的项目；若没有，原来距离比从X走的距离远则更新，否则不处理</li>
<li>若180s还没有收到路由器的X的更新路由表，则把X记为不可达路由器，即把距离设置为16.</li>
</ul>
</li>
<li><p>RIP协议的报文格式</p>
<ul>
<li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041843.png" alt="image-20221012165443308"></li>
</ul>
</li>
</ul>
<h2 id="OSPF协议以及链路状态算法"><a href="#OSPF协议以及链路状态算法" class="headerlink" title="OSPF协议以及链路状态算法"></a>OSPF协议以及链路状态算法</h2><ul>
<li><p>OSPF协议</p>
<ul>
<li>路由器会使用类似于广播的叫做洪泛法向自治系统内所有路由器发送信息。</li>
<li>发送的信息是与本路由器相邻的所有路由器的链路状态。</li>
<li>只有当链路状态发生变化时候，路由器才向所有路由器洪泛发送信息。</li>
</ul>
</li>
<li><p>链路状态路由算法</p>
<ul>
<li>1.路由器会向邻居发送<strong>Hello问候分组</strong>，并且了解邻居节点的网络地址</li>
<li>2.设置它邻居的成本度量metric</li>
<li>3.构造一个<strong>DD数据库描述分组</strong>，向邻居给出自己的链路状态数据库中的所有链路信息</li>
<li>4.如果数据库里面的摘要，自己都有的话，则不会做出任何处理。如果没有的话则会请求更新发送<strong>LSR链路状态请求分组</strong>请求得到自己没有的信息</li>
<li>如果一个路由器收到了LSR分组以后，他会发送<strong>LSU链路状态更新分组</strong>进行更新</li>
<li>更新后，邻居会和你说<strong>LSAsk链路状态确认分组</strong>进行确认</li>
</ul>
</li>
<li><p>只要有一个路由器变化：</p>
<ul>
<li>洪泛发送<strong>LSU链路状态更新分组</strong>进行更新</li>
<li>更新后,其他站返回一个<strong>LSAsk链路状态确认分组</strong>进行确认</li>
<li>使用Dijkstra根据自己的链路状态数据库构造到其他节点间的最短路径</li>
</ul>
</li>
<li><p>OSPF分组的格式</p>
</li>
<li><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041419.png" alt="image-20221012173536847"></p>
<ul>
<li>OSPF直接使用的是IP数据报的格式传送。 </li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li>每隔30min，刷新一次数据库的链路状态。</li>
<li>由于一个路由器的链路状态只涉及到与相邻路由器的连通状态，因而与整个互联网的规模并无直接关系。因此当互联网规模很大时，OSPF协议要比距离响亮协议RIP要好的。</li>
<li>OSPF协议不存在坏消息传的慢，他的收敛速度很快。</li>
</ul>
</li>
</ul>
<h2 id="BGP协议"><a href="#BGP协议" class="headerlink" title="BGP协议"></a>BGP协议</h2><ul>
<li><p>BGP可以是一个AS边缘路由器</p>
</li>
<li><p>它会与其他AS的邻站BGP发言人交换信息</p>
</li>
<li><p>交换是网络可达性信息，即到达某个网络所要经过的一系列AS</p>
</li>
<li><p>发生变化时候更新有变化的部分</p>
</li>
<li><p>BGP协议报文格式</p>
<ul>
<li> <img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101041196.png" alt="image-20221012213451408"></li>
<li> 一个BGP发言人与其他自治系统中的BGP发言人要求交换路由信息，就要建立TCP连接，即通过TCP传送，然后在此链接上交换BGP报文以建立BGP会话，利用BGP会话交换路由信息</li>
<li> BGP是应用层协议，借助TCP传送</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li>BGP支持CIDR </li>
<li>节省网络资源</li>
</ul>
</li>
<li><p>BGP-4四种报文</p>
<ul>
<li>OPEN报文：用来与相邻的另一个BGP发言人建立关系，并认证发送者</li>
<li>UPDATE报文：通告新路径或撤销源路径</li>
<li>KEEPALIVE报文：在无UPDATE时，周期性证实邻站的连通性；作为OPEN的确认</li>
<li>NOTIFICATION报文：报告先前报文的差错：也被用于关闭连接</li>
</ul>
</li>
</ul>
<h2 id="IP组播"><a href="#IP组播" class="headerlink" title="IP组播"></a>IP组播</h2><ul>
<li>IP数据报的三种传输方式<ul>
<li>单播：用于发送数据包到单个目的地，且每发一份单播报文都用一个单播IP地址作为目的地址，是点对点传输方式</li>
<li>广播：发送数据包到同一广播域或子网内的所有设备的一种数据传输方式，是一种点对多点传输方式</li>
<li>组播：仅发送一次数据，借助组播路由协议为组播数据包建立组播分发树，被传递的数据到达距离用户端尽可能近的节点后才开始复制和分发，是一种点对多点的传输方式</li>
</ul>
</li>
<li>特点<ul>
<li>组播数据报也是“尽最大努力交付”，不提供可靠交付，应用于UDP</li>
<li>对组播数据报不产生ICMP差错报文。</li>
<li>并非所有D类地址都可以作为组播地址 </li>
</ul>
</li>
</ul>
<h2 id="IGMP网际组管理协议"><a href="#IGMP网际组管理协议" class="headerlink" title="IGMP网际组管理协议"></a>IGMP网际组管理协议</h2><ul>
<li>IGMP协议让路由器知道本局域网上是否有主机（的进程）参加或退出某个组播组。</li>
<li>1.某主机想要加入组播组时，该主机会向组播组发送一个IGMP报文，声明自己要成为改组成员本地收到IGMP报文后，利用组播路由选择协议把这组成员关系发给因特网上的其他组播路由器</li>
<li>2.本地组播组路由器周期查询本地局域网上的主机，清楚这些主机是否还是该组播组成员，只要有一个主机对某个分组响应，则该组播组会认定该主机是活跃的，如果没有组播路由器则认定网络上没有这个组播组的主机。因此不会再把这组的成员关系发给其他组播路由器。</li>
</ul>
<h2 id="移动IP"><a href="#移动IP" class="headerlink" title="移动IP"></a>移动IP</h2><ul>
<li>相关术语<ul>
<li>移动结点：具有永久的IP地址的移动设备</li>
<li>移动IP技术：以固定的网络IP地址，实现跨越不同网段的漫游功能，并且保证了基于网络IP的网络权限在漫游过程中不发生任何改变</li>
<li>归属代理（本地代理）：一个移动结点拥有的“居所”称为归属网络，在归属网络中代表移动节点执行移动管理功能的实体叫做归属代理</li>
<li>外部代理（外地代理）：在外部网络中帮助移动节点完成移动管理功能得实体称为外部代理</li>
<li>永久地址：移动站点在归属网络中得原始地址</li>
<li>转交地址：移动结点在外部网络使用的临时地址</li>
</ul>
</li>
<li>移动IP通信过程<ul>
<li>A刚进入外地网络<ul>
<li>1.在外部代理登记获得一个转交地址，离开时候注销</li>
<li>2.外部代理向本地代理登记转交地址。</li>
</ul>
</li>
<li>B给A发送数据报<ul>
<li>1.本地代理截获数据报</li>
<li>2.本地代理再封装数据报，新的数据报目的地址是转交地址，发送给外部代理（隧道）</li>
<li>3.外部代理拆封数据报并发给A</li>
</ul>
</li>
<li>A给B发送数据报<ul>
<li>A用自己的主地址作为数据报源地址，用B的IP地址作为数据报的目的地址 </li>
</ul>
</li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://kalyan-zitiu.github.io">Kalyan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章連結: </span><span class="post-copyright-info"><a href="https://kalyan-zitiu.github.io/2022/10/13/%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%88%E6%B5%85%EF%BC%89/">https://kalyan-zitiu.github.io/2022/10/13/%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%88%E6%B5%85%EF%BC%89/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版權聲明: </span><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 許可協議。轉載請註明來自 <a href="https://kalyan-zitiu.github.io" target="_blank">Kalyan的小书房</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></div><div class="post_share"><div class="social-share" data-image="/img/WallPaper%20(9).jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/10/24/Morris%20%E9%81%8D%E5%8E%86/"><img class="prev-cover" src="/img/WallPaper%20(10).jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">神奇的Morris遍历</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/10/Grammarly/"><img class="next-cover" src="/img/WallPaper%20(8).jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Grammarly</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/2022/10/08/%E5%BA%94%E7%94%A8%E5%B1%82/" title="计算机网络应用层"><img class="cover" src="/img/WallPaper%20(3).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-08</div><div class="title">计算机网络应用层</div></div></a></div><div><a href="/2022/11/14/%E7%89%A9%E7%90%86%E5%B1%82/" title="计算机网络学习笔记-物理层"><img class="cover" src="/img/WallPaper%20(23).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-14</div><div class="title">计算机网络学习笔记-物理层</div></div></a></div><div><a href="/2022/11/05/%E9%93%BE%E8%B7%AF%E5%B1%82/" title="计算机网络学习笔记-链路层"><img class="cover" src="/img/WallPaper%20(15).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-05</div><div class="title">计算机网络学习笔记-链路层</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 評論</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/%E5%A4%B4.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Kalyan</div><div class="author-info__description">晚来天欲雪，能饮一杯无</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">42</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">34</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Kalyan-zitiu"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://www.douyin.com/user/MS4wLjABAAAA7q-IFMvdT163sFGcjg26o0XaCDYW4pJOLWdkgoDUz10" target="_blank" title="TikTok"><i class="fa-brands fa-tiktok"></i></a><a class="social-icon" href="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211122041246.jpg" target="_blank" title=""><i class="fa-regular fa-user"></i></a><a class="social-icon" href="https://chat.zitiu.top/" target="_blank" title="ChatGPT"><i class="fa-solid fa-robot"></i></a><a class="social-icon" href="https://auto.kalyan-dao.space/" target="_blank" title="AutoGPT"><i class="fa-solid fa-shuttle-space"></i></a><a class="social-icon" href="https://chat.zhile.io/" target="_blank" title="FakeGPT"><i class="fa-brands fa-kickstarter"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Everybody pay attention, I'm the boss</div><timing></timing></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">IP数据报格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-IP%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">2.</span> <span class="toc-text">TCP&#x2F;IP协议栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%88%86%E7%89%87"><span class="toc-number">3.</span> <span class="toc-text">IP数据报分片</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MTU%E6%9C%80%E5%A4%A7%E4%BC%A0%E9%80%81%E5%8D%95%E5%85%83"><span class="toc-number">3.1.</span> <span class="toc-text">MTU最大传送单元</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.</span> <span class="toc-text">IP地址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E7%9A%84%E5%9C%B0%E5%9D%80"><span class="toc-number">4.1.</span> <span class="toc-text">分类的地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.2.</span> <span class="toc-text">特殊的IP地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%89IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.</span> <span class="toc-text">私有IP地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT"><span class="toc-number">4.4.</span> <span class="toc-text">网络地址转换NAT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86%E4%B8%8E%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">4.5.</span> <span class="toc-text">子网划分与子网掩码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="toc-number">4.5.1.</span> <span class="toc-text">子网划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">4.5.2.</span> <span class="toc-text">子网掩码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80CIDR%EF%BC%88%E8%B6%85%E7%BD%91%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">无分类编址CIDR（超网）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.</span> <span class="toc-text">ARP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DHCP%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.</span> <span class="toc-text">DHCP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ICMP%E5%8D%8F%E8%AE%AE"><span class="toc-number">8.</span> <span class="toc-text">ICMP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv6"><span class="toc-number">9.</span> <span class="toc-text">IPv6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv4%E4%B8%8EIPv6%E5%8C%BA%E5%88%AB"><span class="toc-number">10.</span> <span class="toc-text">IPv4与IPv6区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RIP%E5%8D%8F%E8%AE%AE%E5%8F%8A%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E7%AE%97%E6%B3%95"><span class="toc-number">11.</span> <span class="toc-text">RIP协议及距离向量算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF%E5%8D%8F%E8%AE%AE%E4%BB%A5%E5%8F%8A%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E7%AE%97%E6%B3%95"><span class="toc-number">12.</span> <span class="toc-text">OSPF协议以及链路状态算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BGP%E5%8D%8F%E8%AE%AE"><span class="toc-number">13.</span> <span class="toc-text">BGP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E7%BB%84%E6%92%AD"><span class="toc-number">14.</span> <span class="toc-text">IP组播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IGMP%E7%BD%91%E9%99%85%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">15.</span> <span class="toc-text">IGMP网际组管理协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8IP"><span class="toc-number">16.</span> <span class="toc-text">移动IP</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/12/24/saa%E6%A6%82%E5%BF%B5/" title="Conspectus for SAA"><img src="/img/WallPaper%20(56).jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Conspectus for SAA"/></a><div class="content"><a class="title" href="/2023/12/24/saa%E6%A6%82%E5%BF%B5/" title="Conspectus for SAA">Conspectus for SAA</a><time datetime="2023-12-24T12:00:00.000Z" title="發表於 2023-12-24 20:00:00">2023-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/24/SAA%E6%8F%90%E7%BA%B2/" title="Basic for SAA"><img src="/img/WallPaper%20(54).jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Basic for SAA"/></a><div class="content"><a class="title" href="/2023/12/24/SAA%E6%8F%90%E7%BA%B2/" title="Basic for SAA">Basic for SAA</a><time datetime="2023-12-24T12:00:00.000Z" title="發表於 2023-12-24 20:00:00">2023-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/24/saa%E9%A2%98%E5%BA%93/" title="practise for SAA(updating)"><img src="/img/WallPaper%20(55).jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="practise for SAA(updating)"/></a><div class="content"><a class="title" href="/2023/12/24/saa%E9%A2%98%E5%BA%93/" title="practise for SAA(updating)">practise for SAA(updating)</a><time datetime="2023-12-24T12:00:00.000Z" title="發表於 2023-12-24 20:00:00">2023-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/30/K8s/" title="CKA基础预览"><img src="/img/WallPaper%20(53).jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CKA基础预览"/></a><div class="content"><a class="title" href="/2023/11/30/K8s/" title="CKA基础预览">CKA基础预览</a><time datetime="2023-11-30T07:00:00.000Z" title="發表於 2023-11-30 15:00:00">2023-11-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/22/Bash%20Basic/" title="Bash for Begginners"><img src="/img/WallPaper%20(52).jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Bash for Begginners"/></a><div class="content"><a class="title" href="/2023/11/22/Bash%20Basic/" title="Bash for Begginners">Bash for Begginners</a><time datetime="2023-11-22T07:00:00.000Z" title="發表於 2023-11-22 15:00:00">2023-11-22</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/WallPaper%20(9).jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Kalyan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直達評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://www.kalyan-dao.space/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://www.kalyan-dao.space/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>