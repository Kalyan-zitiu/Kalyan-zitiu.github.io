<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Kalyan的小书房</title>
  <icon>https://www.gravatar.com/avatar/26add54e467101c6779c59a0ed4ee504</icon>
  <subtitle>Kalyan is working hard</subtitle>
  <link href="https://kalyan-zitiu.github.io/atom.xml" rel="self"/>
  
  <link href="https://kalyan-zitiu.github.io/"/>
  <updated>2023-07-24T08:41:39.992Z</updated>
  <id>https://kalyan-zitiu.github.io/</id>
  
  <author>
    <name>Kalyan</name>
    <email>3148862192@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>OceanBase</title>
    <link href="https://kalyan-zitiu.github.io/2023/07/15/OceanBase/"/>
    <id>https://kalyan-zitiu.github.io/2023/07/15/OceanBase/</id>
    <published>2023-07-15T14:00:00.000Z</published>
    <updated>2023-07-24T08:41:39.992Z</updated>
    
    <content type="html"><![CDATA[<h1 id="OceanBase"><a href="#OceanBase" class="headerlink" title="OceanBase"></a>OceanBase</h1><h2 id="传统集中式数据库面临的挑战"><a href="#传统集中式数据库面临的挑战" class="headerlink" title="传统集中式数据库面临的挑战"></a>传统集中式数据库面临的挑战</h2><h3 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230718091134287.png" alt="image-20230718091134287"></p><ul><li>可扩展性方面：传统集中式数据库的扩展性有限，当数据量增加或者并发访问量增大时，集中式数据库可能无法提供足够的性能和吞吐量</li><li>单点故障：由于集中式数据库只有一个中心节点，一旦该节点发生故障，整个系统将无法正常工作。这种单点故障可能导致系统可用性和数据的丢失</li><li>数据库安全：传统型集中式数据库存储所有数据的中心节点成为攻击者的目标，一旦该节点被入侵或者遭受到其他安全威胁，整个数据库的数据会面临泄露和篡改的风险</li><li>数据一致性：由于集中式数据库的数据存储都在一个节点上，当多个用户同时对数据库进行操作时，可能会出现数据一致性的问题。例如，当一个用户在修改某个数据时，另一个用户可能正在读取该数据，导致读取的数据不一致</li><li>高延迟：远程用户在访问数据库时，可能会出现高延迟，这对于要低延迟响应的应用场景是不可接受的。</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230718094411164.png" alt="image-20230718094411164"></p><h3 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h3><ul><li>使用通用数据库，可以实现数据库线性的扩容</li><li>数据库是单点数据库，数据库之间没有联系，不知道其他数据库的存在，依靠中间件完成需要跨库的事务</li><li>数据库中间件连接各个数据库，实现分库分表</li></ul><h4 id="非短板"><a href="#非短板" class="headerlink" title="非短板"></a>非短板</h4><ul><li>能过通过线性扩展来达到分库分表，可以快速实现数据库的水平扩展；</li><li>技术成本较低，不需要改造核心数据库引擎，或者只需要做很少的改造；</li></ul><h4 id="短板"><a href="#短板" class="headerlink" title="短板"></a>短板</h4><ul><li>跨库分布式事物，数据库核心引擎没有分布式能力，只能通过中间件来完成分布式处理，但中间件很难做到RPO = 0，因此在遇到异常和故障时无法100%保证分布式事务的ACID能力</li><li>全局一致性，由于多个数据库服务器的时间戳不一致，因此很难保证多个库之间数据版本号的全局性一致</li><li>负载均衡，在扩容和缩容时候，底层数据库引擎无法在线调整数据分布规则，因此需要暂停业务并重新导数据，对业务和运维挑战很大；</li><li>跨库复杂SQL，跨库的复杂SQL运算，只能要求中间件能够完成，而中间件不具备分布式并行计算能力，最终会限制应用对SQL的使用，产生业务侵入性。</li></ul><h2 id="OceanBase-1"><a href="#OceanBase-1" class="headerlink" title="OceanBase"></a>OceanBase</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><h4 id="集群"><a href="#集群" class="headerlink" title="集群"></a>集群</h4><ul><li><p>OceanBase是蚂蚁金服完全自主研发的通用的分布式关系型数据库。OceanBase以集群的形式存在，至少三个节点分布在三个区域（Zone），每个节点上运行一个单进程程序，进程名observer。每个observer进程都包含连个模块：SQL引擎和存储引擎，所以每个节点地位基本是平等的。稍微特殊的是每个Zone里会有一个节点的observer内还会运行总控服务，三个总控服务内容一样，角色上会有一个Leader和Follower，只有Leader提供服务。</p></li><li><p>OceanBase集群还支持多租户管理</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230719094326659.png" alt="image-20230719094326659"></p></li></ul><h4 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h4><p>OceanBase的数据存在每个节点上，observer通过分区管理数据。分区是数据的子集，一个非分区就是一个分区，一个分区表包含多个分区，一个分区不能跨节点，分区表的不同分区可以跨节点。所以分区表可以做水平跨节点扩展。分区是数据的子集，是高可用的最小粒度。分析OceanBase是否丢数据，只要分析分区的数据写是否会丢。</p><h4 id="读写模式"><a href="#读写模式" class="headerlink" title="读写模式"></a>读写模式</h4><ul><li>OceanBase在初次读入一行数据时会将该行所在块读入到内存的Block Cache中，后面修改的时候并不是直接修改这个block，而是在另外一块内存中分配少量空间记录这笔修改，并且只记录变化部分，这称为增量数据（Memtable）。前面在Block Cache里的数据称为基线数据。同一记录如果反复修改多次，多个增量会议链表形式挂在该记录下</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230719095139281.png" alt="image-20230719095139281"></p><p>OceanBase的这种方式能够比传统数据库产生的脏块要小得多，所以OceanBase会把这些Memtable一直保存在缓存中或者推迟写入磁盘。当最后落盘的时候，Memtable会冻结成历史版本，然后和对应的基线数据在内存中进行合并，生成SSTable格式写入磁盘数据文件。合并的操作对资源有较大的影响，所以会在尽可能推迟合并操作到低峰期。若专门用户Memtable的内存利用率达到了一定的阈值，它会将Memtable直接以SSTable格式临时写入磁盘中。这就是转储的操作，相对对资源消耗比较小。</p><h4 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h4><p>OceanBase的Memtable一天只落盘一次，但是记录Memtable的时候OceanBase会遵循WAL机制，生成相关的事务日志保存在日志缓冲区里。和Oracle不同的是OceanBase的这些事务日志在事务提交之前会一直在日志缓冲区里，若节点宕机，没提交的事务日志对业务来说也没有数据丢失，当提交后，OceanBase会做事务日志的持久化动作。所以可能对于一些大事务会占用不少的内存空间。而且OceanBase是没有Undo，假设业务事务回滚了，它只会有一些清理逻辑。</p><h4 id="宕机恢复"><a href="#宕机恢复" class="headerlink" title="宕机恢复"></a>宕机恢复</h4><p>OceanBase的节点宕机后，节点上部分分区的访问会受影响，但OceanBase集群会很快恢复这些分区访问，这是OceanBase的可用性特性。和传统数据库一样，宕机后恢复，它会读取事务日志，重做事务，但在不同在于observer不需要再次读入基线数据，只需要在事务日志在增量内存中构建相关分区的Memtable。相关分区被业务读取时，对应的基线数据所在块才会被再次读入Block Cache中。</p><h4 id="副本复制"><a href="#副本复制" class="headerlink" title="副本复制"></a>副本复制</h4><ul><li>Oracle一样，光支持WAL是不足以保障数据安全，OceanBase还要设法保障事务日志的可靠性。除了使用DirectIO持久化到本节点磁盘外，也需要持久化到其他节点上。</li><li>跟传统关系数据库主备两副本架构不一样，OceanBase选择了多副本架构，是如果副本数是偶数，会有传统双机房容灾的脑裂问题。脑裂问题的本质就是全体成员在局部通信中断故障时无法就哪个节点接管服务作出一致性决议。成员数是奇数，才有可能形成多数派。</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230719104329304.png" alt="image-20230719104329304"></p><p>副本就是分区的别称，一个分区有三份数据，每份是一个副本。副本的内容除了数据还有事务日志。在这里我们只关心事务日志部分。三个副本在角色上是1个Leader（类似于主副本）2个Follower（类似于备副本）。只有Leader副本才会对外提供读写服务，这样就规避了单个分区多个节点同时写入的问题。但是注意每个分区只能单点写入跟OceanBase集群多个节点写入并不矛盾。因为Leader副本是可以分散到所有节点（OBServer）上。跟传统关系数据库一样，OceanBase维持三副本数据的同步是靠传输事务日志（Redo）机制实现的。</p><p>所以，为了保障事务日志的可靠性，OceanBase要把Leader副本上的事务日志持久化到本机和其他两个Follower副本上。宏观上表现就是可能存在各个节点彼此互相传输事务日志。这个跟MySQL的Master-Master架构里双向复制并不完全一样。 我们重点看看OceanBase如何认定事务日志可靠了。</p><p>使用Paxos协议，各个副本成员就事务日志持久化到磁盘进行表决。只要一半以上成员投票OK，Leader副本上的事务就可以继续提交了，Follower副本才开始应用Redo。这个协议是强制性约束，不够一半成员就会表决失败，Leader副本上事务就会回滚。这里没有类似Oracle或者MySQL的同步降级的做法。此外，剩余少数派成员最终也是要表决成功的，否则就是一个异常状态。</p><p>OceanBase会尽力自动去保障三副本成员状态的正常，否则就会告警等运维处理。这点也是强制性的约束，也是跟传统关系数据库不一样的地方。</p><h3 id="核心特性"><a href="#核心特性" class="headerlink" title="核心特性"></a>核心特性</h3><h4 id="分布性"><a href="#分布性" class="headerlink" title="分布性"></a>分布性</h4><ul><li>集群形式部署，支持水平扩展</li><li>在线扩容/缩容，自动负载均衡</li><li>跨机房/城市部署，容灾/多活</li></ul><h4 id="高可用"><a href="#高可用" class="headerlink" title="高可用"></a>高可用</h4><ul><li>基于Paxos协议，强一致性同步</li><li>少数副本故障，数据不丢，服务自动回复</li></ul><h4 id="多租户"><a href="#多租户" class="headerlink" title="多租户"></a>多租户</h4><ul><li>按需分配实例，即时创建和销毁</li><li>在线扩容/缩容</li><li>租户之间资源隔离</li></ul><h4 id="高兼容"><a href="#高兼容" class="headerlink" title="高兼容"></a>高兼容</h4><ul><li>Oracle/MySQL两种兼容模式</li><li>数据平滑迁移</li><li>原生的SQL和事物引擎</li></ul><h2 id="集群技术架构"><a href="#集群技术架构" class="headerlink" title="集群技术架构"></a>集群技术架构</h2><h3 id="Paxos协议与负载均衡"><a href="#Paxos协议与负载均衡" class="headerlink" title="Paxos协议与负载均衡"></a>Paxos协议与负载均衡</h3><h4 id="分区-1"><a href="#分区-1" class="headerlink" title="分区"></a>分区</h4><ul><li>当一个表很大，能够水平拆分为若干分区，每个分区包含表的若干记录。根据行数据到分区的映射关系不同，分为hash分区，List分区，range分区</li><li>每个分区还能过通过不同维度再分，称为二级分区</li><li>分区是OceanBase数据架构的基本单元，传统数据库的分区表在分布式系统上实现</li></ul><h4 id="副本"><a href="#副本" class="headerlink" title="副本"></a>副本</h4><ul><li>为数据安全和高可用的数据服务，分区的数据在物理层面上会存储多份，每一份叫做分区的一个副本</li><li>副本根据负载和特定的策略，由系统自动调度分散在多个Server上。副本支持迁移，复制，增删，类型转换等管理操作</li></ul><h5 id="副本构成"><a href="#副本构成" class="headerlink" title="副本构成"></a>副本构成</h5><p>副本构成由记录事务的日志，存储再内存的Memtable，磁盘上的静态数据SSTable</p><h5 id="副本类型"><a href="#副本类型" class="headerlink" title="副本类型"></a>副本类型</h5><ul><li>一个分区在一个zone中最多由一个全功能或日志型副本</li><li>只读型副本在同一个zone可以有多个<h6 id="全能型副本"><a href="#全能型副本" class="headerlink" title="全能型副本"></a>全能型副本</h6>拥有事务日志，MemTable和SSTable等全部完整的数据和功能，它可以随时快速切换为leader对外提供服务。<h6 id="日志型副本"><a href="#日志型副本" class="headerlink" title="日志型副本"></a>日志型副本</h6>只包含日志的副本，没有Memtable和SSTable。它参与日志投票并对外提供日志服务，可以参与其他副本的恢复，但子集不能变为主提供数据库服务。因为日志型副本所消耗的物理资源更少，它可以有效降低最后副本机器的成本，降低集群的总体成本<h6 id="只读型副本"><a href="#只读型副本" class="headerlink" title="只读型副本"></a>只读型副本</h6>包含完整的日志，MemTable和SSTable等，但是它的日志比较特殊。它不作为paxos成员参与日志的投票，而是作为一个观察者实时追赶paxos成员的日志，并在本地回放。可以在业务读取数据的一致性要求不高的时候，提供只读服务。因其不加入paxos成员组，又不会造成投票成员增加导致事务提交延时的增加</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230721195400362.png" alt="image-20230721195400362"></p><p>如上图，按照ID分为三个hash分区，每个分区再按照交易时间分为四个二级的range分区，然后会生成多份副本，副本数量会因集群数量而变化，一般来说会每个zone内只会包含一个副本</p><h4 id="多副本一致性协议"><a href="#多副本一致性协议" class="headerlink" title="多副本一致性协议"></a>多副本一致性协议</h4><h5 id="以分区为单位组建Paxos协议组"><a href="#以分区为单位组建Paxos协议组" class="headerlink" title="以分区为单位组建Paxos协议组"></a>以分区为单位组建Paxos协议组</h5><p>每个分区都有多份副本（Replica），自动建立Paxos组，在分区级用多副本保证数据可靠性和服务高可用，数据管理更加灵活方便</p><h5 id="自动选举主副本"><a href="#自动选举主副本" class="headerlink" title="自动选举主副本"></a>自动选举主副本</h5><p>OB自动生成多份副本，多副本自动选举主副本，主副本提供服务</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230721224526185.png" alt="image-20230721224526185"></p><h4 id="自动负载均衡与智能路由"><a href="#自动负载均衡与智能路由" class="headerlink" title="自动负载均衡与智能路由"></a>自动负载均衡与智能路由</h4><h5 id="自动负载均衡"><a href="#自动负载均衡" class="headerlink" title="自动负载均衡"></a>自动负载均衡</h5><p>主副本均匀打散到各个服务器中，使得各个服务器都能承载业务流量</p><h5 id="OB-Server相互独立"><a href="#OB-Server相互独立" class="headerlink" title="OB Server相互独立"></a>OB Server相互独立</h5><p>每台OB Server均可以独立执行SQL，如果应用需要访问的数据不同机器上，OB Server自动将请求路由至数据所在机器，对业务完全透明。</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230721225131923.png" alt="image-20230721225131923"></p><h4 id="多副本同步Redo-Log-确保数据持久化"><a href="#多副本同步Redo-Log-确保数据持久化" class="headerlink" title="多副本同步Redo Log 确保数据持久化"></a>多副本同步Redo Log 确保数据持久化</h4><ul><li>Paxos组成员通过Redo-Log的多数派强同步确保数据的持久化</li><li>Leader无需等待所有Follower的反馈，多数派完成同步即可向应用反馈成功</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230724153630019.png" alt="image-20230724153630019"></p><ol><li>应用写数据到P2分区。Zone2-OB Server1的P2为主副本（Leader），承接业务需求。</li><li>将Redo-Log同步请求发送到Zone1-OB Server1和Zone3-OB Server1中的P2从副本（Follower）；</li><li>任何一个Follower完成Redo-Log落盘并将响应返回给Leader后，Leader即认为Redo-Log完成强同步，无需再等待其他Follower的反馈；</li><li>Leader反馈应用操作完成。</li></ol><h4 id="智能路由服务，应用透明访问"><a href="#智能路由服务，应用透明访问" class="headerlink" title="智能路由服务，应用透明访问"></a>智能路由服务，应用透明访问</h4><h5 id="高效路由转发"><a href="#高效路由转发" class="headerlink" title="高效路由转发"></a>高效路由转发</h5><ul><li>对SQL做基本解析，确定对应Leader所在机器；</li><li>反向代理，将请求路由至对应Leader；Leader位置无法确定时随机选择OB Server；</li><li>轻量SQL解析 + 快速转发，保证高性能，单OB Proxy每秒转发百万次请求。</li></ul><h5 id="“非”计算节点，无状态"><a href="#“非”计算节点，无状态" class="headerlink" title="“非”计算节点，无状态"></a>“非”计算节点，无状态</h5><ul><li>每个OB Proxy是一个“无状态”的服务进程，不做数据持久化，对部署位置无要求；</li><li>OB Proxy不参与数据库引擎的计算任务，不参与事务处理；</li><li>多个OB Proxy之间无联系，可通过F5/SLB组成负载均衡集群；</li><li>不需要独立服务器，可以与OB Server共用一台服务器，如果应用对实时性要求高，也可以将OB Proxy部署到应用服务器中。</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230724160743540.png" alt="image-20230724160743540"></p><p>OB Proxy的故障是不会影响事务的功能，事务，持久化，落盘基本是由OB Server来完成。</p><h4 id="设置Primary-Zone，业务汇聚到特定Zone"><a href="#设置Primary-Zone，业务汇聚到特定Zone" class="headerlink" title="设置Primary Zone，业务汇聚到特定Zone"></a>设置Primary Zone，业务汇聚到特定Zone</h4><p>通过为不同的租户配置不同的Primary Zone，可以将业务流量集中到若干Zone中，减少跨Zone以及服务器的操作。Zone List，逗号两侧优先级相同，分号左侧优先级高于右侧</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230724161140837.png" alt="image-20230724161140837"></p><h4 id="Primary-Zone有租户，数据库和表不同的级别。"><a href="#Primary-Zone有租户，数据库和表不同的级别。" class="headerlink" title="Primary Zone有租户，数据库和表不同的级别。"></a>Primary Zone有租户，数据库和表不同的级别。</h4><ul><li>如无特殊指定，自动继承上级对象的Primary_zone:database继承租户的primary_zone设置，table继承database的primary_zone设置。</li><li>database和table可以指定各自的primary_zone，不必和上一级对象的设置保持一致；提供更加灵活的负载均衡策略。</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230724162242300.png" alt="image-20230724162242300"></p><h4 id="Table-Group-将多个表的相同分区ID的主副本聚集在一个OB-Server中，减少分布式事务引入的开销"><a href="#Table-Group-将多个表的相同分区ID的主副本聚集在一个OB-Server中，减少分布式事务引入的开销" class="headerlink" title="Table Group,将多个表的相同分区ID的主副本聚集在一个OB Server中，减少分布式事务引入的开销"></a>Table Group,将多个表的相同分区ID的主副本聚集在一个OB Server中，减少分布式事务引入的开销</h4><ul><li>如果多个表的分区方式完全相同（分区类型，分区键个数，分区数量等），可以在逻辑上将这些表归属到同一个Table Group中，以影响动态负载均衡的策略</li><li>同一个Table Group中的所有表，分区ID（partition_id） 相同的所有分区，他们的leader在同一个observer上：在不影响全局负载均衡的前提下，可有效减少分布式事务引入的跨机访问开销。</li><li>如果负载均衡被打破（服务器故障后，扩容缩容等），Table Group中的所有表会作为一个整体来调整分区分布和Leader分布</li><li>动态创建和删除，并且对上层应用完全透明。</li><li>如果租户的unit_num=1 且 primary_zone只有一个zone，不需要tablegroup。</li></ul><p>RDS实例，mysql扩容主备切换，ELR提前解行锁.。。。。。持续更新学习中………</p><h2 id="感谢OceanBase"><a href="#感谢OceanBase" class="headerlink" title="感谢OceanBase"></a>感谢OceanBase</h2><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230724163848260.png" alt="image-20230724163848260"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;OceanBase&quot;&gt;&lt;a href=&quot;#OceanBase&quot; class=&quot;headerlink&quot; title=&quot;OceanBase&quot;&gt;&lt;/a&gt;OceanBase&lt;/h1&gt;&lt;h2 id=&quot;传统集中式数据库面临的挑战&quot;&gt;&lt;a href=&quot;#传统集中式数据库面临的挑</summary>
      
    
    
    
    <category term="数据库" scheme="https://kalyan-zitiu.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="OceanBase" scheme="https://kalyan-zitiu.github.io/tags/OceanBase/"/>
    
  </entry>
  
  <entry>
    <title>Basic Cryptography</title>
    <link href="https://kalyan-zitiu.github.io/2023/06/29/Sercet/"/>
    <id>https://kalyan-zitiu.github.io/2023/06/29/Sercet/</id>
    <published>2023-06-29T08:50:04.000Z</published>
    <updated>2023-07-02T16:05:03.029Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基础密码学"><a href="#基础密码学" class="headerlink" title="基础密码学"></a>基础密码学</h1><p>密码学是研究信息的保密性、完整性和认证性的学科。它在现代通信和计算机系统中起着关键作用，保护着敏感数据的安全。</p><h2 id="对称加密"><a href="#对称加密" class="headerlink" title="对称加密"></a>对称加密</h2><p>对称加密是一种加密方法，其中使用相同的密钥进行加密和解密。以下是一些常见的对称加密算法和特点：</p><table><thead><tr><th>算法</th><th>特点</th></tr></thead><tbody><tr><td>DES</td><td>数据加密标准，使用56位密钥</td></tr><tr><td>AES</td><td>高级加密标准，使用128、192或256位密钥</td></tr><tr><td>3DES</td><td>三重数据加密标准，对数据进行三次加密</td></tr><tr><td>RC4</td><td>流密码算法，适用于嵌入式设备</td></tr></tbody></table><h2 id="非对称加密"><a href="#非对称加密" class="headerlink" title="非对称加密"></a>非对称加密</h2><p>非对称加密使用不同的密钥进行加密和解密。它包括公钥和私钥，其中公钥用于加密，私钥用于解密。以下是一些常见的非对称加密算法和特点：</p><table><thead><tr><th>算法</th><th>特点</th></tr></thead><tbody><tr><td>RSA</td><td>基于大素数分解的加密算法</td></tr><tr><td>Diffie-Hellman</td><td>密钥交换算法，用于安全地共享密钥</td></tr><tr><td>ECC</td><td>椭圆曲线密码学，使用较短的密钥提供相同的安全性</td></tr></tbody></table><h2 id="哈希函数"><a href="#哈希函数" class="headerlink" title="哈希函数"></a>哈希函数</h2><p>哈希函数将输入数据转换为固定长度的哈希值。它的主要特点是输入的任何小改变都会导致输出值的巨大改变。以下是一些常见的哈希函数和特点：</p><table><thead><tr><th>函数</th><th>特点</th></tr></thead><tbody><tr><td>MD5</td><td>128位哈希值，易于碰撞攻击</td></tr><tr><td>SHA-1</td><td>160位哈希值，被认为不够安全</td></tr><tr><td>SHA-256</td><td>256位哈希值，广泛用于数字签名和认证</td></tr></tbody></table><h2 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h2><p>数字签名用于验证消息的完整性和来源。它使用私钥对消息进行签名，然后使用公钥进行验证。以下是一些常见的数字签名算法和特点：</p><table><thead><tr><th>算法</th><th>特点</th></tr></thead><tbody><tr><td>RSA</td><td>基于大素数分解的加密算法</td></tr><tr><td>DSA</td><td>数字签名算法，用于确保消息的完整性和认证</td></tr><tr><td>ECDSA</td><td>椭圆曲线数字签名算法，提供相同安全性下较短的密钥长度</td></tr></tbody></table><h2 id="密钥交换"><a href="#密钥交换" class="headerlink" title="密钥交换"></a>密钥交换</h2><p>密钥交换是在通信双方之间安全地共享密钥的过程。以下是一些常见的密钥交换协议和特点：</p><table><thead><tr><th>协议</th><th>特点</th></tr></thead><tbody><tr><td>Diffie-Hellman</td><td>公钥密码学协议，双方通过交换信息生成共享密钥</td></tr><tr><td>RSA 密钥交换</td><td>基于RSA算法的密钥交换协议</td></tr><tr><td>ECDH</td><td>基于椭圆曲线密码学的密钥交换协议，提供较短的密钥长度</td></tr></tbody></table><h2 id="消息认证码"><a href="#消息认证码" class="headerlink" title="消息认证码"></a>消息认证码</h2><p>消息认证码（Message Authentication Code，MAC）用于验证消息的完整性和真实性，以防止消息被篡改。以下是一些常见的消息认证码算法和特点：</p><table><thead><tr><th>算法</th><th>特点</th></tr></thead><tbody><tr><td>HMAC</td><td>基于散列函数和密钥的消息认证码算法</td></tr><tr><td>CMAC</td><td>基于块密码的消息认证码算法</td></tr><tr><td>Poly1305</td><td>使用特殊的多项式计算的消息认证码算法</td></tr></tbody></table><h2 id="数字证书"><a href="#数字证书" class="headerlink" title="数字证书"></a>数字证书</h2><p>数字证书用于验证实体的身份和确保通信的安全。它包含了实体的公钥和其他身份信息，并由数字证书颁发机构（Certificate Authority，CA）签名。以下是一些与数字证书相关的概念和术语：</p><table><thead><tr><th>术语</th><th>解释</th></tr></thead><tbody><tr><td>公钥证书（Public Key Certificate）</td><td>包含公钥和实体身份信息的数字证书</td></tr><tr><td>数字签名（Digital Signature）</td><td>用于验证数字证书的完整性和真实性的签名</td></tr><tr><td>证书链（Certificate Chain）</td><td>由一系列数字证书组成的链，用于验证数字证书的信任链条</td></tr></tbody></table><h2 id="密码协议"><a href="#密码协议" class="headerlink" title="密码协议"></a>密码协议</h2><p>密码协议用于在不安全的通信环境中实现安全通信。它们定义了通信双方之间的消息格式、加密算法、密钥交换协议等。以下是一些常见的密码协议：</p><table><thead><tr><th>协议</th><th>特点</th></tr></thead><tbody><tr><td>SSL/TLS</td><td>安全套接层/传输层安全协议，用于保护Web通信</td></tr><tr><td>IPSec</td><td>用于保护IP网络通信的协议</td></tr><tr><td>SSH</td><td>安全外壳协议，用于远程登录和安全文件传输</td></tr></tbody></table><h2 id="抗量子密码学"><a href="#抗量子密码学" class="headerlink" title="抗量子密码学"></a>抗量子密码学</h2><p>随着量子计算机的发展，传统密码学算法的安全性受到了挑战。抗量子密码学致力于设计抵抗量子计算攻击的密码算法。以下是一些抗量子密码学的概念和算法：</p><table><thead><tr><th>概念/算法</th><th>解释</th></tr></thead><tbody><tr><td>Post-Quantum Cryptography（PQC）</td><td>用于抵抗量子计算攻击的密码学算法</td></tr><tr><td>Lattice-Based Cryptography</td><td>基于格的密码学，利用数学问题的困难性提供安全性</td></tr><tr><td>Code-Based Cryptography</td><td>基于编码的密码学，利用编码理论提供安全性</td></tr></tbody></table><h2 id="密码学应用"><a href="#密码学应用" class="headerlink" title="密码学应用"></a>密码学应用</h2><p>密码学在各个领域有广泛的应用。以下是一些常见的密码学应用和场景：</p><table><thead><tr><th>应用</th><th>描述</th></tr></thead><tbody><tr><td>数据加密</td><td>用于保护敏感数据的机密性，例如在存储和传输过程中进行加密</td></tr><tr><td>身份认证</td><td>用于验证用户的身份，例如使用密码、数字证书或生物特征识别</td></tr><tr><td>虚拟私人网络</td><td>通过加密和隧道技术实现安全的远程访问和通信</td></tr><tr><td>数字版权保护</td><td>用于保护数字内容的版权和防止非法复制和分发</td></tr><tr><td>安全电子支付</td><td>用于保护在线交易的机密性和完整性，例如使用加密货币和数字签名</td></tr></tbody></table><h2 id="密码破解与密码强度"><a href="#密码破解与密码强度" class="headerlink" title="密码破解与密码强度"></a>密码破解与密码强度</h2><p>密码破解是试图通过暴力猜测或使用各种技术手段来获取密码的过程。密码强度是衡量密码抵御密码破解攻击的程度。以下是一些与密码破解和密码强度相关的概念：</p><table><thead><tr><th>概念</th><th>解释</th></tr></thead><tbody><tr><td>字典攻击</td><td>使用预先生成的密码列表进行猜测的攻击方式</td></tr><tr><td>彩虹表攻击</td><td>使用预先计算的哈希值与密码对应表进行猜测的攻击方式</td></tr><tr><td>密码策略</td><td>设定密码要求和规则的策略，如密码长度、复杂性和更改频率等</td></tr><tr><td>双因素认证</td><td>使用两个或多个不同的身份验证因素来增强安全性，如密码+OTP令牌</td></tr></tbody></table><h2 id="密码学应用-1"><a href="#密码学应用-1" class="headerlink" title="密码学应用"></a>密码学应用</h2><p>密码学在各个领域有广泛的应用。以下是一些常见的密码学应用和场景：</p><table><thead><tr><th>应用</th><th>描述</th></tr></thead><tbody><tr><td>数据加密</td><td>用于保护敏感数据的机密性，例如在存储和传输过程中进行加密</td></tr><tr><td>身份认证</td><td>用于验证用户的身份，例如使用密码、数字证书或生物特征识别</td></tr><tr><td>虚拟私人网络</td><td>通过加密和隧道技术实现安全的远程访问和通信</td></tr><tr><td>数字版权保护</td><td>用于保护数字内容的版权和防止非法复制和分发</td></tr><tr><td>安全电子支付</td><td>用于保护在线交易的机密性和完整性，例如使用加密货币和数字签名</td></tr></tbody></table><h2 id="密码破解与密码强度-1"><a href="#密码破解与密码强度-1" class="headerlink" title="密码破解与密码强度"></a>密码破解与密码强度</h2><p>密码破解是试图通过暴力猜测或使用各种技术手段来获取密码的过程。密码强度是衡量密码抵御密码破解攻击的程度。以下是一些与密码破解和密码强度相关的概念：</p><table><thead><tr><th>概念</th><th>解释</th></tr></thead><tbody><tr><td>字典攻击</td><td>使用预先生成的密码列表进行猜测的攻击方式</td></tr><tr><td>彩虹表攻击</td><td>使用预先计算的哈希值与密码对应表进行猜测的攻击方式</td></tr><tr><td>密码策略</td><td>设定密码要求和规则的策略，如密码长度、复杂性和更改频率等</td></tr><tr><td>双因素认证</td><td>使用两个或多个不同的身份验证因素来增强安全性，如密码+OTP令牌</td></tr></tbody></table><h2 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a>密码管理</h2><p>密码管理是指有效管理和保护个人或组织的密码。以下是一些常见的密码管理实践和工具：</p><table><thead><tr><th>实践/工具</th><th>描述</th></tr></thead><tbody><tr><td>密码管理器</td><td>用于安全存储和生成密码的应用程序，如LastPass和1Password等</td></tr><tr><td>多因素身份验证</td><td>在登录过程中要求提供多个验证因素，增加账户安全性</td></tr><tr><td>定期更改密码</td><td>定期更改密码以减少密码泄露和破解的风险</td></tr><tr><td>强密码生成</td><td>使用随机字符、数字和符号生成强密码，避免使用弱密码</td></tr><tr><td>社会工程学防范</td><td>提高对社会工程学攻击的意识，避免将密码泄露给不信任的来源</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">code</summary>
    
    
    
    <category term="密码学" scheme="https://kalyan-zitiu.github.io/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"/>
    
    
    <category term="密码学" scheme="https://kalyan-zitiu.github.io/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>设计模型-行为型模式</title>
    <link href="https://kalyan-zitiu.github.io/2023/06/15/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA/"/>
    <id>https://kalyan-zitiu.github.io/2023/06/15/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA/</id>
    <published>2023-06-15T14:00:00.000Z</published>
    <updated>2023-07-02T15:50:03.467Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设计模式-行为型"><a href="#设计模式-行为型" class="headerlink" title="设计模式-行为型"></a>设计模式-行为型</h1><h2 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><ul><li>定义了对象之间一对多依赖，让多个观察者对象同时监听某一个主题对象，当主题对象发生变化时，它的所有依赖者都会收到通知并更新</li></ul><h3 id="模式组合"><a href="#模式组合" class="headerlink" title="模式组合"></a>模式组合</h3><table><thead><tr><th>角色</th><th>描述</th></tr></thead><tbody><tr><td>Subject</td><td>被观察者接口，定义了注册、移除和通知观察者的方法</td></tr><tr><td>Observer</td><td>观察者接口，定义了接收被观察者通知并进行更新的方法</td></tr><tr><td>ConcreteSubject</td><td>具体的被观察者类，实现Subject接口，维护观察者列表，当状态变化时通知观察者</td></tr><tr><td>ConcreteObserver</td><td>具体的观察者类，实现Observer接口，定义了接收通知后进行更新操作的方法</td></tr></tbody></table><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230626152258117.png" alt="image-20230626152258117"></p><h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 被观察者接口</span><br><span class="line">interface Subject &#123;</span><br><span class="line">    void registerObserver(Observer observer);</span><br><span class="line">    void removeObserver(Observer observer);</span><br><span class="line">    void notifyObservers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 观察者接口</span><br><span class="line">interface Observer &#123;</span><br><span class="line">    void update(float temperature, float humidity, float pressure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体的被观察者类</span><br><span class="line">class WeatherData implements Subject &#123;</span><br><span class="line">    private List&lt;Observer&gt; observers;</span><br><span class="line">    private float temperature;</span><br><span class="line">    private float humidity;</span><br><span class="line">    private float pressure;</span><br><span class="line">    </span><br><span class="line">    public WeatherData() &#123;</span><br><span class="line">        observers = new ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void registerObserver(Observer observer) &#123;</span><br><span class="line">        observers.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void removeObserver(Observer observer) &#123;</span><br><span class="line">        observers.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void notifyObservers() &#123;</span><br><span class="line">        for (Observer observer : observers) &#123;</span><br><span class="line">            observer.update(temperature, humidity, pressure);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void measurementsChanged() &#123;</span><br><span class="line">        // 当天气数据发生变化时调用该方法</span><br><span class="line">        notifyObservers();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void setMeasurements(float temperature, float humidity, float pressure) &#123;</span><br><span class="line">        this.temperature = temperature;</span><br><span class="line">        this.humidity = humidity;</span><br><span class="line">        this.pressure = pressure;</span><br><span class="line">        measurementsChanged();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体的观察者类</span><br><span class="line">class WeatherDisplay implements Observer &#123;</span><br><span class="line">    private float temperature;</span><br><span class="line">    private float humidity;</span><br><span class="line">    private float pressure;</span><br><span class="line">    </span><br><span class="line">    public void update(float temperature, float humidity, float pressure) &#123;</span><br><span class="line">        this.temperature = temperature;</span><br><span class="line">        this.humidity = humidity;</span><br><span class="line">        this.pressure = pressure;</span><br><span class="line">        display();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void display() &#123;</span><br><span class="line">        // 更新天气展示板上的数据显示</span><br><span class="line">        System.out.println(&quot;当前天气情况：温度 &quot; + temperature + &quot;℃，湿度 &quot; + humidity + &quot;%，气压 &quot; + pressure + &quot;Pa&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 测试代码</span><br><span class="line">public class ObserverPatternExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        WeatherData weatherData = new WeatherData();</span><br><span class="line">        </span><br><span class="line">        WeatherDisplay display1 = new WeatherDisplay();</span><br><span class="line">        WeatherDisplay display2 = new WeatherDisplay();</span><br><span class="line">        </span><br><span class="line">        weatherData.registerObserver(display1);</span><br><span class="line">        weatherData.registerObserver(display2);</span><br><span class="line">        </span><br><span class="line">        // 模拟天气数据变化</span><br><span class="line">        weatherData.setMeasurements(28.5f, 70.2f, 1013.2f);</span><br><span class="line">        </span><br><span class="line">        // 移除一个观察者</span><br><span class="line">        weatherData.removeObserver(display2);</span><br><span class="line">        </span><br><span class="line">        // 再次模拟天气数据变化</span><br><span class="line">        weatherData.setMeasurements(30.2f, 65.8f, 1012.5f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="模式特征"><a href="#模式特征" class="headerlink" title="模式特征"></a>模式特征</h3><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul><li>松耦合：被观察者和观察者之间是松耦合的关系，它们之间相互独立，可以独立地进行扩展和修改，一方的变化不会影响到另一方。 </li><li>可扩展性：可以轻松地增加新的观察者和被观察者，使系统具有更好的可扩展性。</li><li>随时通知：被观察者状态发生变化时，会立即通知所有观察者，观察者可以及时作出响应。</li><li>解耦：观察者模式将观察者和被观察者解耦，使它们之间的依赖关系降低，符合面向对象设计的原则。</li></ul><h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul><li>增加了复杂性：在使用观察者模式时，需要维护观察者列表并确保正确的通知顺序，这增加了系统的复杂性。</li><li>更新通知顺序：观察者的更新通知顺序是不确定的，这可能导致观察者之间的依赖关系问题。</li><li>观察者数量过多：当观察者数量过多时，被观察者通知所有观察者的时间和性能开销会增加。</li></ul><h2 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><ul><li>定义了一组算法类，将每个算法封装到单独的类中，并使他们可以相互替换，而不影响客户端的代码</li></ul><h3 id="模式组成"><a href="#模式组成" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th>角色</th><th>描述</th></tr></thead><tbody><tr><td>环境类（Context）</td><td>包含对策略的引用，可在运行时切换不同的策略。将具体的算法委托给策略对象执行。</td></tr><tr><td>抽象策略类（Strategy）</td><td>定义了通用的策略接口，所有具体策略类都必须实现该接口。通常是抽象类或接口，包含一个或多个用于执行策略的方法。</td></tr><tr><td>具体策略类（Concrete Strategy）</td><td>实现策略接口，提供具体的算法实现。每个具体策略类封装了一种特定的算法，可根据需要添加、删除或替换。</td></tr></tbody></table><h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><h4 id="类图-1"><a href="#类图-1" class="headerlink" title="类图"></a>类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/%E5%8C%85%20Strategy.png" alt="包 Strategy"></p><h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 环境类（Context）</span><br><span class="line">class Context &#123;</span><br><span class="line">    private Strategy strategy;</span><br><span class="line"></span><br><span class="line">    public void setStrategy(Strategy strategy) &#123;</span><br><span class="line">        this.strategy = strategy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void executeStrategy(int num1, int num2) &#123;</span><br><span class="line">        int result = strategy.doOperation(num1, num2);</span><br><span class="line">        System.out.println(&quot;Result: &quot; + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 抽象策略类（Strategy）</span><br><span class="line">interface Strategy &#123;</span><br><span class="line">    int doOperation(int num1, int num2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体策略类（Concrete Strategy）</span><br><span class="line">class AddStrategy implements Strategy &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public int doOperation(int num1, int num2) &#123;</span><br><span class="line">        return num1 + num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体策略类（Concrete Strategy）</span><br><span class="line">class SubtractStrategy implements Strategy &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public int doOperation(int num1, int num2) &#123;</span><br><span class="line">        return num1 - num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体策略类（Concrete Strategy）</span><br><span class="line">class MultiplyStrategy implements Strategy &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public int doOperation(int num1, int num2) &#123;</span><br><span class="line">        return num1 * num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Context context = new Context();</span><br><span class="line"></span><br><span class="line">        // 使用加法策略</span><br><span class="line">        context.setStrategy(new AddStrategy());</span><br><span class="line">        context.executeStrategy(5, 3); // Output: Result: 8</span><br><span class="line"></span><br><span class="line">        // 使用减法策略</span><br><span class="line">        context.setStrategy(new SubtractStrategy());</span><br><span class="line">        context.executeStrategy(5, 3); // Output: Result: 2</span><br><span class="line"></span><br><span class="line">        // 使用乘法策略</span><br><span class="line">        context.setStrategy(new MultiplyStrategy());</span><br><span class="line">        context.executeStrategy(5, 3); // Output: Result: 15</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="模式特征-1"><a href="#模式特征-1" class="headerlink" title="模式特征"></a>模式特征</h4><h5 id="策略模式的优点："><a href="#策略模式的优点：" class="headerlink" title="策略模式的优点："></a>策略模式的优点：</h5><p>可扩展性：策略模式使得新增或修改算法变得简单，通过添加新的具体策略类，可以轻松地扩展系统的功能。</p><p>灵活性：客户端可以根据需要在运行时选择不同的策略，无需修改原有的代码，提供了更高的灵活性和可定制性。</p><p>代码复用：策略模式利用了面向对象的多态特性，可以让多个具体策略类共享相同的接口或抽象类，提高了代码的复用性。</p><p>解耦合：策略模式将算法的选择与使用算法的客户端代码解耦，客户端只需要关注如何使用策略，而无需关注具体的算法实现细节，降低了代码的耦合度。</p><h6 id="策略模式的缺点："><a href="#策略模式的缺点：" class="headerlink" title="策略模式的缺点："></a>策略模式的缺点：</h6><p>增加类的数量：每个具体策略类都需要一个对应的类，当策略较多时，会增加类的数量，导致代码结构复杂。</p><p>客户端需要了解不同策略的区别：客户端在选择具体策略时需要了解不同策略的特点和适用场景，增加了客户端的理解和学习成本。</p><p>策略的切换开销：在运行时切换策略时，可能需要重新设置环境类的策略，会带来一定的切换开销，尤其是在需要频繁切换策略时。</p><h2 id="责任链模式"><a href="#责任链模式" class="headerlink" title="责任链模式"></a>责任链模式</h2><h3 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h3><ul><li>允许多个对象依次处理请求，形成一个处理请求的链条，每个对象都有机会处理请求，但具体是哪个对象处理请求由运行时决定。<h3 id="模式组成-1"><a href="#模式组成-1" class="headerlink" title="模式组成"></a>模式组成</h3></li></ul><table><thead><tr><th>组成部分</th><th>描述</th></tr></thead><tbody><tr><td>抽象处理者（Abstract Handler）</td><td>定义处理请求的接口，包含一个指向下一个处理者的引用。</td></tr><tr><td>具体处理者（Concrete Handler）</td><td>实现抽象处理者接口，并决定自己能处理的请求类型，如果可以处理就进行处理，否则将请求传递给下一个处理者。</td></tr><tr><td>客户端（Client）</td><td>发起请求的对象，将请求发送给第一个处理者。</td></tr></tbody></table><h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><h4 id="类图-2"><a href="#类图-2" class="headerlink" title="类图"></a>类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230626161056453.png" alt="image-20230626161056453"></p><h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 抽象处理者</span><br><span class="line">abstract class Handler &#123;</span><br><span class="line">    protected Handler successor; // 下一个处理者</span><br><span class="line"></span><br><span class="line">    public void setSuccessor(Handler successor) &#123;</span><br><span class="line">        this.successor = successor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public abstract void handleRequest(int request);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体处理者A</span><br><span class="line">class ConcreteHandlerA extends Handler &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void handleRequest(int request) &#123;</span><br><span class="line">        if (request &gt;= 0 &amp;&amp; request &lt; 10) &#123;</span><br><span class="line">            System.out.println(&quot;ConcreteHandlerA 处理请求：&quot; + request);</span><br><span class="line">        &#125; else if (successor != null) &#123;</span><br><span class="line">            successor.handleRequest(request); // 传递给下一个处理者</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体处理者B</span><br><span class="line">class ConcreteHandlerB extends Handler &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void handleRequest(int request) &#123;</span><br><span class="line">        if (request &gt;= 10 &amp;&amp; request &lt; 20) &#123;</span><br><span class="line">            System.out.println(&quot;ConcreteHandlerB 处理请求：&quot; + request);</span><br><span class="line">        &#125; else if (successor != null) &#123;</span><br><span class="line">            successor.handleRequest(request); // 传递给下一个处理者</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体处理者C</span><br><span class="line">class ConcreteHandlerC extends Handler &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void handleRequest(int request) &#123;</span><br><span class="line">        if (request &gt;= 20 &amp;&amp; request &lt; 30) &#123;</span><br><span class="line">            System.out.println(&quot;ConcreteHandlerC 处理请求：&quot; + request);</span><br><span class="line">        &#125; else if (successor != null) &#123;</span><br><span class="line">            successor.handleRequest(request); // 传递给下一个处理者</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 客户端</span><br><span class="line">public class Client &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Handler handlerA = new ConcreteHandlerA();</span><br><span class="line">        Handler handlerB = new ConcreteHandlerB();</span><br><span class="line">        Handler handlerC = new ConcreteHandlerC();</span><br><span class="line"></span><br><span class="line">        handlerA.setSuccessor(handlerB);</span><br><span class="line">        handlerB.setSuccessor(handlerC);</span><br><span class="line"></span><br><span class="line">        int[] requests = &#123; 2, 12, 25, 30 &#125;;</span><br><span class="line"></span><br><span class="line">        for (int request : requests) &#123;</span><br><span class="line">            handlerA.handleRequest(request);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="模式特征-2"><a href="#模式特征-2" class="headerlink" title="模式特征"></a>模式特征</h4><h5 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h5><p>责任链模式将发送者和接收者解耦，发送者无需知道具体的接收者，只需将请求发送给责任链的起始点即可，由责任链负责将请求传递给合适的接收者进行处理。<br>灵活性和可扩展性：责任链模式允许动态地添加、移除或重新排列处理者，可以根据需求对责任链进行灵活的组织和调整，而无需修改客户端代码。<br>可以确保请求被处理：由于责任链中的每个处理者都有机会处理请求，可以确保请求最终会被处理，而不会被忽略或丢失。</p><h5 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h5><p>性能问题：如果责任链过长或者处理者的判断逻辑过于复杂，可能会导致性能下降，因为每个请求都要依次经过链中的所有处理者。<br>请求的处理不一定成功：由于责任链模式并不保证请求一定会被处理，如果没有合适的处理者或者处理者链配置错误，请求可能会被忽略或丢失。<br>可能导致调试困难：责任链模式中请求的处理路径是动态确定的，可能会导致在调试时难以确定请求的具体处理路径。</p><h2 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h2><h3 id="简介-3"><a href="#简介-3" class="headerlink" title="简介"></a>简介</h3><ul><li>将请求封装成一个对象，该对象会包含了执行操作的方法，发送者将命令对象传递给调用者，并在需要执行操作的时候触发命令并执行相应操作。</li></ul><h3 id="模式组成-2"><a href="#模式组成-2" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th>模式组成</th><th>描述</th></tr></thead><tbody><tr><td>命令接口</td><td>定义命令的执行方法，通常包括一个执行操作的方法。</td></tr><tr><td>具体命令</td><td>实现命令接口，持有一个接收者对象，并将请求委托给接收者执行具体的操作。</td></tr><tr><td>接收者</td><td>知道如何实施与执行一个请求相关的操作。</td></tr><tr><td>调用者</td><td>将命令对象传递给调用者，并可选择性地触发命令执行。</td></tr></tbody></table><h3 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h3><h4 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h4><p>当然，以下是一个简单的 Java 实例来演示命令模式：</p><p>首先，我们定义一个命令接口 <code>Command</code>，它包含了一个执行操作的方法 <code>execute()</code>：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后，我们创建一个具体命令类 <code>ConcreteCommand</code>，它实现了 <code>Command</code> 接口，并持有一个接收者对象，用于执行具体的操作：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteCommand</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Receiver receiver;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteCommand</span><span class="params">(Receiver receiver)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.receiver = receiver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">        receiver.performAction();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来，我们定义一个接收者类 <code>Receiver</code>，它知道如何实施与执行请求相关的操作：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Receiver</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">performAction</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Receiver: Performing action...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后，我们创建一个调用者类 <code>Invoker</code>，它将接收到的命令对象传递给调用者，并在需要的时候触发命令的执行：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Invoker</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Command command;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCommand</span><span class="params">(Command command)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.command = command;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">executeCommand</span><span class="params">()</span> &#123;</span><br><span class="line">        command.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后，我们可以在客户端代码中配置和使用命令模式：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建接收者对象</span></span><br><span class="line">        <span class="type">Receiver</span> <span class="variable">receiver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Receiver</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建具体命令对象并设置接收者</span></span><br><span class="line">        <span class="type">Command</span> <span class="variable">command</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteCommand</span>(receiver);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建调用者对象并设置命令</span></span><br><span class="line">        <span class="type">Invoker</span> <span class="variable">invoker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Invoker</span>();</span><br><span class="line">        invoker.setCommand(command);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 执行命令</span></span><br><span class="line">        invoker.executeCommand();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="类图-3"><a href="#类图-3" class="headerlink" title="类图"></a>类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230702220522678.png" alt="image-20230702220522678"></p><h3 id="模式特征-3"><a href="#模式特征-3" class="headerlink" title="模式特征"></a>模式特征</h3><h4 id="优点-2"><a href="#优点-2" class="headerlink" title="优点"></a>优点</h4><ol><li>解耦发送者和接收者：命令模式将请求封装成对象，使得发送者和接收者之间解耦。发送者不需要知道接收者的具体实现细节，只需通过命令对象来执行请求。</li><li>容易扩展和修改：由于命令模式将请求封装成独立的对象，因此可以很容易地添加新的命令或修改现有命令，而不会对其他部分产生影响。这种可扩展性使得系统更加灵活和可维护。</li><li>支持撤销和重做：命令模式可以记录命令的历史，从而支持撤销和重做操作。通过保存命令的执行历史，可以在需要时回溯执行，实现撤销操作。</li><li>支持命令的排队和调度：命令模式可以将命令对象进行排队或者调度，从而实现更高级的控制和管理。可以按照特定的顺序执行命令，或者延迟执行命令。</li></ol><h4 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h4><ol><li>类的增加：在使用命令模式时，每个具体命令都需要一个独立的类，这可能会导致类的数量增加，增加了系统的复杂性。</li><li>可能导致系统过于细粒度：如果系统中有大量的命令对象，每个对象都只封装了一个操作，可能会导致系统过于细粒度，增加了管理和维护的成本。</li><li>可能引入额外的开销：命令模式需要创建额外的对象来封装请求，可能会引入一定的开销。但在大多数情况下，这种开销是可以接受的。</li></ol><h2 id="状态模式"><a href="#状态模式" class="headerlink" title="状态模式"></a>状态模式</h2><h3 id="简介-4"><a href="#简介-4" class="headerlink" title="简介"></a>简介</h3><ul><li>通过将不同状态抽象为独立的类，并将其与主对象关联，实现状态之间的切换和行为的动态变化。</li></ul><h3 id="模式组成-3"><a href="#模式组成-3" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th>组成要素</th><th>描述</th></tr></thead><tbody><tr><td>环境（Context）</td><td>环境类持有一个状态对象的引用，可以定义和维护对象的内部状态。它将状态相关的操作委托给当前状态对象，并在状态发生改变时更新当前状态对象。</td></tr><tr><td>抽象状态（State）</td><td>定义一个接口或抽象类，声明各个具体状态类共同的方法，这些方法可以是环境在某个特定状态下要执行的行为。</td></tr><tr><td>具体状态（Concrete State）</td><td>实现抽象状态接口或继承抽象状态类，具体状态类封装了特定状态下的行为。每个具体状态类负责处理与其状态相关的操作，并在必要时切换到其他状态。</td></tr></tbody></table><h3 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h3><h4 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 抽象状态类</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">OrderState</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">processOrder</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体状态类：新订单状态</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NewOrderState</span> <span class="keyword">implements</span> <span class="title class_">OrderState</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processOrder</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;处理新订单...&quot;</span>);</span><br><span class="line">        <span class="comment">// 执行新订单状态下的业务逻辑</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体状态类：已支付状态</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PaidOrderState</span> <span class="keyword">implements</span> <span class="title class_">OrderState</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processOrder</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;处理已支付订单...&quot;</span>);</span><br><span class="line">        <span class="comment">// 执行已支付订单状态下的业务逻辑</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体状态类：已发货状态</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ShippedOrderState</span> <span class="keyword">implements</span> <span class="title class_">OrderState</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processOrder</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;处理已发货订单...&quot;</span>);</span><br><span class="line">        <span class="comment">// 执行已发货订单状态下的业务逻辑</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 环境类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> OrderState currentState;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Order</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 默认初始状态为新订单状态</span></span><br><span class="line">        currentState = <span class="keyword">new</span> <span class="title class_">NewOrderState</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(OrderState state)</span> &#123;</span><br><span class="line">        currentState = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processOrder</span><span class="params">()</span> &#123;</span><br><span class="line">        currentState.processOrder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StatePatternExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 处理新订单</span></span><br><span class="line">        order.processOrder();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 切换为已支付状态</span></span><br><span class="line">        order.setState(<span class="keyword">new</span> <span class="title class_">PaidOrderState</span>());</span><br><span class="line">        order.processOrder();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 切换为已发货状态</span></span><br><span class="line">        order.setState(<span class="keyword">new</span> <span class="title class_">ShippedOrderState</span>());</span><br><span class="line">        order.processOrder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在上述示例中，抽象状态类<code>OrderState</code>定义了一个<code>processOrder()</code>方法，具体状态类<code>NewOrderState</code>、<code>PaidOrderState</code>和<code>ShippedOrderState</code>分别实现了这个方法，封装了不同状态下的具体行为逻辑。<code>Order</code>类作为环境类，维护了当前状态对象的引用，并在<code>processOrder()</code>方法中委托给当前状态对象执行相应的行为。</p><p>客户端代码创建了一个订单对象<code>order</code>，初始状态为新订单状态，然后依次处理订单并切换状态，观察不同状态下的行为执行情况。</p><h4 id="类图-4"><a href="#类图-4" class="headerlink" title="类图"></a>类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230702225657156.png" alt="image-20230702225657156"></p><h3 id="模式特征-4"><a href="#模式特征-4" class="headerlink" title="模式特征"></a>模式特征</h3><h4 id="优点-3"><a href="#优点-3" class="headerlink" title="优点"></a>优点</h4><ol><li>状态模式将对象的状态和行为进行了解耦，使得状态的变化可以独立于对象的行为变化。这提高了代码的可维护性和扩展性。</li><li>状态模式遵循开闭原则，可以通过添加新的具体状态类来增加新的状态，而无需修改现有的代码。</li><li>状态模式使得状态转换变得更加明确和可控。状态的切换逻辑集中在具体状态类中，不会分散在对象的各个方法中，使得代码更易理解和调试。</li><li>状态模式使得对象的状态变化可见，可以方便地观察和记录对象的状态变化历史。</li></ol><h4 id="缺点-3"><a href="#缺点-3" class="headerlink" title="缺点"></a>缺点</h4><ol><li>状态模式增加了系统中类的数量，特别是在具体状态类较多的情况下，可能会导致类的数量增加，增加了系统的复杂性。</li><li>如果状态转换较为复杂，可能会导致状态模式的实现变得复杂，需要维护大量的状态类和状态转换逻辑。</li><li>当状态较少且简单时，引入状态模式可能会带来不必要的复杂性，增加了代码的理解和维护成本。</li></ol><h2 id="访问者模式"><a href="#访问者模式" class="headerlink" title="访问者模式"></a>访问者模式</h2><h3 id="简介-5"><a href="#简介-5" class="headerlink" title="简介"></a>简介</h3><ul><li>用于将数据结构和对数据结构的操作分离开来，允许定义新的操作而无需修改已有的数据结构。</li></ul><h3 id="模式组成-4"><a href="#模式组成-4" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th>组成部分</th><th>描述</th></tr></thead><tbody><tr><td>元素（Element）</td><td>表示数据结构中的对象。它定义了一个接受访问者对象的方法，让访问者可以对自身进行操作。</td></tr><tr><td>具体元素（Concrete Element）</td><td>实现了元素接口的具体类。每个具体元素类都会实现自己的接受访问者的方法，并在其中调用访问者对象的操作方法。</td></tr><tr><td>访问者（Visitor）</td><td>定义了对元素进行操作的接口，其中包含了为每个具体元素类定义的操作方法。</td></tr><tr><td>具体访问者（Concrete Visitor）</td><td>实现了访问者接口的具体类。每个具体访问者类都会实现对应的操作方法，以便对具体元素进行相应的操作。</td></tr><tr><td>对象结构（Object Structure）</td><td>存储元素对象并提供访问者访问的接口。它可以是一个集合、列表、树或其他数据结构。</td></tr></tbody></table><h3 id="实例-5"><a href="#实例-5" class="headerlink" title="实例"></a>实例</h3><h4 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 元素接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Element</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Visitor visitor)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体元素类A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteElementA</span> <span class="keyword">implements</span> <span class="title class_">Element</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Visitor visitor)</span> &#123;</span><br><span class="line">        visitor.visitConcreteElementA(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationA</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ConcreteElementA operation&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体元素类B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteElementB</span> <span class="keyword">implements</span> <span class="title class_">Element</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Visitor visitor)</span> &#123;</span><br><span class="line">        visitor.visitConcreteElementB(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ConcreteElementB operation&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 访问者接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Visitor</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">visitConcreteElementA</span><span class="params">(ConcreteElementA elementA)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">visitConcreteElementB</span><span class="params">(ConcreteElementB elementB)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体访问者类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteVisitor</span> <span class="keyword">implements</span> <span class="title class_">Visitor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitConcreteElementA</span><span class="params">(ConcreteElementA elementA)</span> &#123;</span><br><span class="line">        elementA.operationA();</span><br><span class="line">        System.out.println(<span class="string">&quot;ConcreteVisitor visits ConcreteElementA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitConcreteElementB</span><span class="params">(ConcreteElementB elementB)</span> &#123;</span><br><span class="line">        elementB.operationB();</span><br><span class="line">        System.out.println(<span class="string">&quot;ConcreteVisitor visits ConcreteElementB&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象结构类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ObjectStructure</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Element&gt; elements = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addElement</span><span class="params">(Element element)</span> &#123;</span><br><span class="line">        elements.add(element);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Visitor visitor)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Element element : elements) &#123;</span><br><span class="line">            element.accept(visitor);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建具体元素对象</span></span><br><span class="line">        <span class="type">ConcreteElementA</span> <span class="variable">elementA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteElementA</span>();</span><br><span class="line">        <span class="type">ConcreteElementB</span> <span class="variable">elementB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteElementB</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 创建对象结构并添加元素</span></span><br><span class="line">        <span class="type">ObjectStructure</span> <span class="variable">objectStructure</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectStructure</span>();</span><br><span class="line">        objectStructure.addElement(elementA);</span><br><span class="line">        objectStructure.addElement(elementB);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 创建具体访问者对象</span></span><br><span class="line">        <span class="type">Visitor</span> <span class="variable">visitor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteVisitor</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 对象结构接受访问者访问</span></span><br><span class="line">        objectStructure.accept(visitor);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="类图-5"><a href="#类图-5" class="headerlink" title="类图"></a>类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230702232125374.png" alt="image-20230702232125374"></p><h3 id="模式特征-5"><a href="#模式特征-5" class="headerlink" title="模式特征"></a>模式特征</h3><h4 id="优点-4"><a href="#优点-4" class="headerlink" title="优点"></a>优点</h4><p>当讨论访问者模式时，可以列举一些其优点和缺点，以便全面评估该模式的适用性和潜在的问题。</p><p>优点：</p><ul><li>分离关注点：访问者模式可以将数据结构和操作分离开来，使得操作可以独立变化而不影响元素类的结构。这种分离可以提高代码的可维护性和可扩展性。</li><li>增加新操作更容易：通过定义新的访问者类，可以很容易地增加新的操作，而无需修改元素类的代码。这符合开闭原则，使系统更灵活。</li><li>集中相关操作：访问者模式可以将相关操作集中到访问者类中。这样，当需要对元素进行某个操作时，只需调用相应的访问者方法，而不需要在元素类中编写重复的操作代码。</li><li>增加新元素相对容易：如果需要增加新的元素类，只需创建相应的具体元素类并实现接受访问者的方法即可。无需修改现有的访问者类。</li></ul><h4 id="缺点-4"><a href="#缺点-4" class="headerlink" title="缺点"></a>缺点</h4><ul><li>增加新元素困难：在访问者模式中，如果需要增加新的访问者类，需要修改所有已有的元素类，为它们添加接受新访问者的方法。这可能会导致元素类的修改和代码的重复。</li><li>违反封装原则：访问者模式需要将具体元素类的内部结构暴露给访问者类，以便访问者能够进行操作。这可能违反了封装原则，降低了元素类的封装性。</li><li>增加系统复杂性：引入访问者模式会增加系统中的类和接口数量，增加了代码的复杂性和理解难度。这可能使得系统变得更加复杂，特别是对于简单的数据结构而言，使用访问者模式可能过于繁琐。</li></ul><h2 id="模块方法模式"><a href="#模块方法模式" class="headerlink" title="模块方法模式"></a>模块方法模式</h2><h3 id="简介-6"><a href="#简介-6" class="headerlink" title="简介"></a>简介</h3><ul><li>定义了一个操作中的算法的骨架。将一些步骤延迟到子类中实现。模板方块使得子类可以在不改变算法结构的情况下重新定义算法中某些步骤<h3 id="模式组成-5"><a href="#模式组成-5" class="headerlink" title="模式组成"></a>模式组成</h3></li></ul><table><thead><tr><th>模式组成</th><th>描述</th></tr></thead><tbody><tr><td>模板方法（Template Method）</td><td>定义了算法的骨架，将算法的步骤定义为一系列抽象操作或具体操作的调用顺序。这个方法可以包含预定义的操作和钩子方法。</td></tr><tr><td>具体方法（Concrete Method）</td><td>在模板方法中定义的具体操作，是算法的固定部分。</td></tr><tr><td>抽象方法（Abstract Method）</td><td>在模板方法中定义的抽象操作，由子类实现。这些方法可以有不同的实现，以满足特定的需求。</td></tr><tr><td>钩子方法（Hook Method）</td><td>在模板方法中定义的具体操作，子类可以选择性地覆盖或扩展。这些方法在模板方法中有默认实现，但可以在子类中进行修改。</td></tr><tr><td>抽象类（Abstract Class）</td><td>包含模板方法和抽象方法的抽象类。它定义了算法的骨架，并规定了具体操作和抽象操作的调用顺序。</td></tr><tr><td>具体类（Concrete Class）</td><td>继承抽象类并实现其中的抽象方法，完成算法的具体步骤。它可以覆盖钩子方法来定制算法的行为。</td></tr></tbody></table><h3 id="实例-6"><a href="#实例-6" class="headerlink" title="实例"></a>实例</h3><h4 id="code-6"><a href="#code-6" class="headerlink" title="code"></a>code</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 抽象类</span><br><span class="line">abstract class AbstractClass &#123;</span><br><span class="line">    // 模板方法</span><br><span class="line">    public void templateMethod() &#123;</span><br><span class="line">        // 调用抽象方法</span><br><span class="line">        operation1();</span><br><span class="line">        // 调用具体方法</span><br><span class="line">        operation2();</span><br><span class="line">        // 调用钩子方法</span><br><span class="line">        if (hookMethod()) &#123;</span><br><span class="line">            operation3();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 抽象方法</span><br><span class="line">    protected abstract void operation1();</span><br><span class="line"></span><br><span class="line">    // 具体方法</span><br><span class="line">    protected void operation2() &#123;</span><br><span class="line">        // 具体操作的实现</span><br><span class="line">        System.out.println(&quot;执行具体操作2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 钩子方法</span><br><span class="line">    protected boolean hookMethod() &#123;</span><br><span class="line">        // 默认实现，子类可以选择性地覆盖该方法</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 抽象方法</span><br><span class="line">    protected abstract void operation3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体类A</span><br><span class="line">class ConcreteClassA extends AbstractClass &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void operation1() &#123;</span><br><span class="line">        System.out.println(&quot;执行具体操作1（来自具体类A）&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void operation3() &#123;</span><br><span class="line">        System.out.println(&quot;执行具体操作3（来自具体类A）&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体类B</span><br><span class="line">class ConcreteClassB extends AbstractClass &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void operation1() &#123;</span><br><span class="line">        System.out.println(&quot;执行具体操作1（来自具体类B）&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected boolean hookMethod() &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void operation3() &#123;</span><br><span class="line">        System.out.println(&quot;执行具体操作3（来自具体类B）&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 测试代码</span><br><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        AbstractClass instanceA = new ConcreteClassA();</span><br><span class="line">        instanceA.templateMethod();</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;-----------------&quot;);</span><br><span class="line"></span><br><span class="line">        AbstractClass instanceB = new ConcreteClassB();</span><br><span class="line">        instanceB.templateMethod();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="类图-6"><a href="#类图-6" class="headerlink" title="类图"></a>类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230702234441116.png" alt="image-20230702234441116"></p><h3 id="模式特征-6"><a href="#模式特征-6" class="headerlink" title="模式特征"></a>模式特征</h3><h4 id="优点-5"><a href="#优点-5" class="headerlink" title="优点"></a>优点</h4><ol><li>提供了一种框架或模板，用于定义算法的骨架，使得算法的具体步骤可以在子类中实现，提高了代码的可扩展性和复用性。</li><li>将算法的通用部分封装在模板方法中，具体实现延迟到子类中，使得算法的具体步骤可以灵活变化，而不影响算法的整体结构。</li><li>通过钩子方法，允许子类选择性地覆盖或扩展父类中的某些操作，从而实现个性化定制。</li><li>提高了代码的可维护性和可读性，将重复的代码逻辑放在模板方法中，避免了代码的重复编写。</li></ol><h4 id="缺点-5"><a href="#缺点-5" class="headerlink" title="缺点"></a>缺点</h4><ol><li>引入了抽象类和具体类之间的继承关系，增加了系统的复杂性。如果继承关系设计不当，可能会导致类的层次结构变得复杂，难以维护。</li><li>由于模板方法已经定义了算法的骨架，因此在一定程度上限制了子类的自由度，子类只能实现父类定义好的抽象方法。</li><li>如果算法的变化点过多，可能需要定义大量的抽象方法，增加了子类的实现工作量。</li><li>模板方法模式的设计初衷是为了定义算法的骨架，对于一些具有多个算法簇的情况，可能会导致类的爆炸性增长，不利于系统的扩展和维护。</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;设计模式-行为型&quot;&gt;&lt;a href=&quot;#设计模式-行为型&quot; class=&quot;headerlink&quot; title=&quot;设计模式-行为型&quot;&gt;&lt;/a&gt;设计模式-行为型&lt;/h1&gt;&lt;h2 id=&quot;观察者模式&quot;&gt;&lt;a href=&quot;#观察者模式&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="设计模式" scheme="https://kalyan-zitiu.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
    <category term="设计模式" scheme="https://kalyan-zitiu.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>MP</title>
    <link href="https://kalyan-zitiu.github.io/2023/05/06/mybatis/"/>
    <id>https://kalyan-zitiu.github.io/2023/05/06/mybatis/</id>
    <published>2023-05-06T09:32:04.000Z</published>
    <updated>2023-05-06T09:51:04.417Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MyBatis-Plus"><a href="#MyBatis-Plus" class="headerlink" title="MyBatis Plus"></a>MyBatis Plus</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul><li>无侵入：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</li><li>损耗小：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</li><li>强大的 CRUD 操作：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</li><li>支持 Lambda 形式调用：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</li><li>支持主键自动生成：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</li><li>支持 ActiveRecord 模式：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</li><li>支持自定义全局通用操作：支持全局通用方法注入（ Write once, use anywhere ）</li><li>内置代码生成器：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</li><li>内置分页插件：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</li><li>分页插件支持多种数据库：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</li><li>内置性能分析插件：可输出 Sql 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</li><li>内置全局拦截插件：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作<h4 id="什么是MyBatisPlus"><a href="#什么是MyBatisPlus" class="headerlink" title="什么是MyBatisPlus"></a>什么是MyBatisPlus</h4></li><li>MyBatis是一款优秀的持久层框架，用于简化JDBC开发</li><li>MyBatisPlus是基于MyBatis框架基础上开发的增强型工具，皆在<strong>简化开发，提高效率</strong></li></ul><h4 id="持久层"><a href="#持久层" class="headerlink" title="持久层"></a>持久层</h4><ul><li>负责将数据保存倒数据库那一层代码</li><li>JavaEE三层架构：表现层，业务层，持久层</li></ul><h4 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h4><ul><li>框架就是一个半成品软件，是一套可重用的，通用的，软件基础代码模型</li><li>在框架的基础之上构建软件编写更加高效，规范，通用，可扩展</li></ul><h3 id="入门案列"><a href="#入门案列" class="headerlink" title="入门案列"></a>入门案列</h3><ul><li>SpringBoot整合MyBatis开发过程<ul><li>创建SpringBoot工程</li><li>勾选配置使用的技术</li><li>设置dataSource相关属性（JDBC参数）</li><li>定义数据层接口映射配置<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Spring:</span><br><span class="line">  datasource:</span><br><span class="line">    type: com.alibaba.druid.pool.DruidDataSource</span><br><span class="line">    driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">    url: jdbc:mysql:<span class="comment">//localhost:3306/mybatisplus_db?serverTimezone = UTC</span></span><br><span class="line">    username: ？</span><br><span class="line">    password: ？</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;?&gt;&#123;</span><br><span class="line"><span class="meta">@select(&quot;select * from user where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">getById</span><span class="params">(Long id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="实际操作"><a href="#实际操作" class="headerlink" title="实际操作"></a>实际操作</h4><h5 id="创建SpringBoot工程"><a href="#创建SpringBoot工程" class="headerlink" title="创建SpringBoot工程"></a>创建SpringBoot工程</h5><pre><code>![image-20230503171102161](https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230503171102161.png)</code></pre><h5 id="添加依赖MySQL-Driver"><a href="#添加依赖MySQL-Driver" class="headerlink" title="添加依赖MySQL Driver"></a>添加依赖MySQL Driver<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230503171325952.png" alt="image-20230503171325952"></h5><h5 id="打开xml文件，手动添加mybatis-plus-boot-start依赖"><a href="#打开xml文件，手动添加mybatis-plus-boot-start依赖" class="headerlink" title="打开xml文件，手动添加mybatis-plus-boot-start依赖"></a>打开xml文件，手动添加mybatis-plus-boot-start依赖</h5><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="mybatis-plus-boot-start"><a href="#mybatis-plus-boot-start" class="headerlink" title="mybatis-plus-boot-start"></a>mybatis-plus-boot-start</h6><p>这是Maven依赖，用于引入MyBatis Plus框架的快速启动器。MyBatis Plus是一个增强版的MyBatis框架，提供了许多MyBatis没有的方便实用的功能，例如自动代码生成、分页插件、多数据源支持、性能优化等。</p><p>在pom.xml中引入了这个依赖后，就可以开始使用MyBatis Plus。可以在配置文件中添加MyBatis Plus的配置，如：</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">mybatis-plus:</span><br><span class="line">  typeAliasesPackage: com.example.demo.entity</span><br><span class="line">  mapperLocations: classpath:/mapper/*.xml</span><br><span class="line">  global-config:</span><br><span class="line">    db-config:</span><br><span class="line">      column-underscore: true</span><br><span class="line">      id-type: auto</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在这里，typeAliasesPackage是指实体类所在的包，mapperLocations是指MyBatis mapper XML文件的位置，global-config是MyBatis Plus的全局配置，在这里修改了ID的生成策略和开启了下划线到驼峰命名的自动转换。</p><p>然后，可以像平常一样编写MyBatis mapper XML文件和DAO接口，如：</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- demo.xml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.demo.dao.DemoDAO&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;BaseResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.demo.entity.DemoEntity&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;update_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;listByParam&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">        select * from demo</span><br><span class="line">        <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null&quot;</span>&gt;</span> and name = #&#123;name&#125; <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != null&quot;</span>&gt;</span> and age = #&#123;age&#125; <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 其他的SQL语句... --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">// DemoDAO.java</span><br><span class="line">@Mapper</span><br><span class="line">public interface DemoDAO extends BaseMapper<span class="tag">&lt;<span class="name">DemoEntity</span>&gt;</span> &#123;</span><br><span class="line">    List<span class="tag">&lt;<span class="name">DemoEntity</span>&gt;</span> listByParam(@Param(&quot;name&quot;) String name, @Param(&quot;age&quot;) Integer age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在编写DAO接口时，可以继承MyBatis Plus提供的BaseMapper&lt; T &gt;接口，该接口提供了许多便捷的CRUD方法。此外，也可以编写自定义SQL语句，既具有MyBatis的灵活性，又能充分利用MyBatis Plus提供的便利性。最后，在使用DAO接口时，可以像平常一样使用Spring的@Autowired注解来注入DAO对象，例如：</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">private DemoDAO demoDAO;</span><br><span class="line"></span><br><span class="line">public void test() &#123;</span><br><span class="line">    QueryWrapper<span class="tag">&lt;<span class="name">DemoEntity</span>&gt;</span> queryWrapper = new QueryWrapper<span class="tag">&lt;&gt;</span>();</span><br><span class="line">    queryWrapper.eq(&quot;name&quot;, &quot;张三&quot;).eq(&quot;age&quot;, 25);</span><br><span class="line">    demoDAO.selectList(queryWrapper);</span><br><span class="line">    // TODO: 使用查询到的数据进行操作</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="打开xml文件，手动添加com-baomidou依赖"><a href="#打开xml文件，手动添加com-baomidou依赖" class="headerlink" title="打开xml文件，手动添加com.baomidou依赖"></a>打开xml文件，手动添加com.baomidou依赖</h6><p>这是Maven依赖，用于引入MyBatis Plus框架的快速启动器。MyBatis Plus是一个增强版的MyBatis框架，提供了许多MyBatis没有的方便实用的功能，例如自动代码生成、分页插件、多数据源支持、性能优化等。</p><p>在pom.xml中引入了这个依赖后，就可以开始使用MyBatis Plus。可以在配置文件中添加MyBatis Plus的配置，如：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">typeAliasesPackage:</span> <span class="string">com.example.demo.entity</span></span><br><span class="line">  <span class="attr">mapperLocations:</span> <span class="string">classpath:/mapper/*.xml</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">column-underscore:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">auto</span></span><br></pre></td></tr></table></figure><p>在这里，typeAliasesPackage是指实体类所在的包，mapperLocations是指MyBatis mapper XML文件的位置，global-config是MyBatis Plus的全局配置，在这里修改了ID的生成策略和开启了下划线到驼峰命名的自动转换。</p><p>然后，可以像平常一样编写MyBatis mapper XML文件和DAO接口，如：</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- demo.xml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.demo.dao.DemoDAO&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;BaseResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.demo.entity.DemoEntity&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;update_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;listByParam&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">        select * from demo</span><br><span class="line">        <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null&quot;</span>&gt;</span> and name = #&#123;name&#125; <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != null&quot;</span>&gt;</span> and age = #&#123;age&#125; <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 其他的SQL语句... --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// DemoDAO.java</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DemoDAO</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;DemoEntity&gt; &#123;</span><br><span class="line">    List&lt;DemoEntity&gt; <span class="title function_">listByParam</span><span class="params">(<span class="meta">@Param(&quot;name&quot;)</span> String name, <span class="meta">@Param(&quot;age&quot;)</span> Integer age)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在编写DAO接口时，可以继承MyBatis Plus提供的BaseMapper&lt; T &gt;接口，该接口提供了许多便捷的CRUD方法。此外，也可以编写自定义SQL语句，既具有MyBatis的灵活性，又能充分利用MyBatis Plus提供的便利性。</p><p>最后，在使用DAO接口时，可以像平常一样使用Spring的@Autowired注解来注入DAO对象，例如：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> DemoDAO demoDAO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    QueryWrapper&lt;DemoEntity&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>).eq(<span class="string">&quot;age&quot;</span>, <span class="number">25</span>);</span><br><span class="line">    demoDAO.selectList(queryWrapper);</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 使用查询到的数据进行操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MyBatis Plus提供了许多易用的API，通过使用它们可以大大提升代码的开发效率。</p><h5 id="配置resources"><a href="#配置resources" class="headerlink" title="配置resources"></a>配置resources</h5><ol><li>添加datasource<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatisplus?serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">?</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">?</span></span><br></pre></td></tr></table></figure><h5 id="创建实体类"><a href="#创建实体类" class="headerlink" title="创建实体类"></a>创建实体类</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//以上图为例</span></span><br><span class="line">ackage domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="comment">//这里用到了lombok，后续会讲</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="核心功能"><a href="#核心功能" class="headerlink" title="核心功能"></a>核心功能</h3><table><thead><tr><th>操作类型</th><th>方法调用示例</th><th>SQL示例</th></tr></thead><tbody><tr><td>插入操作</td><td><code>mapper.insert(entity);</code></td><td><code>INSERT INTO table (column1, column2, ...) VALUES (?, ?, ...);</code></td></tr><tr><td>更新操作</td><td><code>mapper.updateById(entity);</code></td><td><code>UPDATE table SET column1=?, column2=?, ... WHERE id=?;</code></td></tr><tr><td>删除操作</td><td><code>mapper.deleteById(1);</code></td><td><code>DELETE FROM table WHERE id=?;</code></td></tr><tr><td>查询单个对象</td><td><code>mapper.selectById(1);</code></td><td><code>SELECT * FROM table WHERE id=?;</code></td></tr><tr><td>查询多个对象</td><td><code>mapper.selectList(null);</code></td><td><code>SELECT * FROM table;</code></td></tr><tr><td>条件查询</td><td><code>mapper.selectList(queryWrapper);</code></td><td><code>SELECT * FROM table WHERE column1=value1 AND column2&gt;value2;</code></td></tr><tr><td>分页查询</td><td><code>mapper.selectPage(page, queryWrapper);</code></td><td><code>SELECT COUNT(1) FROM table; SELECT * FROM table WHERE column1=value1 LIMIT startIndex, pageSize;</code></td></tr></tbody></table><h3 id="实体类开发工具lombok"><a href="#实体类开发工具lombok" class="headerlink" title="实体类开发工具lombok"></a>实体类开发工具lombok</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//依赖导入</span></span><br><span class="line">&lt;!-- Lombok --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.18</span><span class="number">.20</span>&lt;/version&gt;</span><br><span class="line">    &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>以下是 Lombok 常用的注解和对应的方法：</p><table><thead><tr><th>注解</th><th>解释</th><th>方法示例</th></tr></thead><tbody><tr><td>@Data</td><td>自动生成各种方法，包括 getter/setter/toString/hashCode/equals</td><td><code>@Data class T &#123;private String name;&#125;</code></td></tr><tr><td>@Getter/@Setter</td><td>自动生成 getter/setter 方法</td><td><code>@Getter @Setter private String name;</code></td></tr><tr><td>@ToString</td><td>自动生成 toString 方法</td><td><code>@ToString(of = &#123;&quot;name&quot;, &quot;age&quot;&#125;) class T &#123;private String name; private int age;&#125;</code></td></tr><tr><td>@EqualsAndHashCode</td><td>自动生成 hashCode 和 equals 方法</td><td><code>@EqualsAndHashCode(of = &#123;&quot;name&quot;, &quot;age&quot;&#125;) class T &#123;private String name; private int age;&#125;</code></td></tr><tr><td>@NoArgsConstructor</td><td>自动生成无参构造方法</td><td><code>@NoArgsConstructor class T &#123;&#125;</code></td></tr><tr><td>@RequiredArgsConstructor</td><td>自动生成必须参数的构造方法</td><td><code>@RequiredArgsConstructor class T &#123; private final String name; private final int age; &#125;</code></td></tr><tr><td>@AllArgsConstructor</td><td>自动生成全参构造方法</td><td><code>@AllArgsConstructor class T &#123; private String name; private int age; &#125;</code></td></tr><tr><td>@Builder</td><td>自动生成建造者模式方法，用于链式调用</td><td><code>@Builder class T &#123;private String name; private int age;&#125;</code></td></tr><tr><td>@Slf4j</td><td>自动生成 log 变量，方便日志输出</td><td><code>@Slf4j class T &#123;private static final Logger log = LoggerFactory.getLogger(T.class);&#125;</code></td></tr></tbody></table><p>使用 Lombok 可以大大简化 POJO 类编写的过程。不需要手动编写重复的 getter/setter/toString/hashCode/equals 等方法，可以提高开发效率。同时，Builder 注解生成的建造者模式方法可以使代码更加简洁易读。</p><h3 id="标准分页功能"><a href="#标准分页功能" class="headerlink" title="标准分页功能"></a>标准分页功能</h3><h4 id="boot配置日志开启"><a href="#boot配置日志开启" class="headerlink" title="boot配置日志开启"></a>boot配置日志开启</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">mybatis-plus:</span><br><span class="line"> configuration:</span><br><span class="line">  log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span><br></pre></td></tr></table></figure><h4 id="基本方法"><a href="#基本方法" class="headerlink" title="基本方法"></a>基本方法</h4><p>下面是 <code>IPage&lt;T&gt;</code> 接口中常用的方法：</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>List&lt;T&gt; getRecords()</code></td><td>获取当前页数据</td></tr><tr><td><code>long getTotal()</code></td><td>获取总记录数</td></tr><tr><td><code>IPage&lt;T&gt; setTotal(long total)</code></td><td>设置总记录数，并返回当前对象</td></tr><tr><td><code>long getSize()</code></td><td>获取当前页大小</td></tr><tr><td><code>IPage&lt;T&gt; setSize(long size)</code></td><td>设置当前页大小，并返回当前对象</td></tr><tr><td><code>long getCurrent()</code></td><td>获取当前页数</td></tr><tr><td><code>IPage&lt;T&gt; setCurrent(long current)</code></td><td>设置当前页数，并返回当前对象</td></tr><tr><td><code>long getPages()</code></td><td>获取总页数</td></tr><tr><td><code>IPage&lt;T&gt; setPages(long pages)</code></td><td>设置总页数，并返回当前对象</td></tr><tr><td><code>List&lt;OrderItem&gt; orders()</code></td><td>获取排序字段信息</td></tr><tr><td><code>IPage&lt;T&gt; setOrders(List&lt;OrderItem&gt; orders)</code></td><td>设置排序字段信息，并返回当前对象</td></tr><tr><td><code>boolean optimizeCountSql()</code></td><td>是否进行 count SQL 优化</td></tr><tr><td><code>IPage&lt;T&gt; setOptimizeCountSql(boolean optimizeCountSql)</code></td><td>设置 count SQL 优化标识，并返回当前对象</td></tr><tr><td><code>boolean isSearchCount()</code></td><td>是否进行 count SQL 查询</td></tr><tr><td><code>IPage&lt;T&gt; setSearchCount(boolean isSearchCount)</code></td><td>设置 count SQL 查询标识，并返回当前对象</td></tr><tr><td><code>Map&lt;String, Object&gt; condition()</code></td><td>获取查询条件信息</td></tr><tr><td><code>IPage&lt;T&gt; setCondition(Map&lt;String, Object&gt; condition)</code></td><td>设置查询条件信息，并返回当前对象</td></tr><tr><td><code>List&lt;T&gt; getRecords(boolean optimizeCountSql, boolean isSearchCount)</code></td><td>获取当前页数据，并选择是否进行 count SQL 优化和 count SQL 查询</td></tr><tr><td><code>IPage&lt;T&gt; convert(Function&lt;? super T, ? extends U&gt; converter)</code></td><td>转换当前 <code>IPage&lt;T&gt;</code> 为 <code>IPage&lt;U&gt;</code></td></tr></tbody></table><h4 id="MP拦截器"><a href="#MP拦截器" class="headerlink" title="MP拦截器"></a>MP拦截器</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//类似于一个插件功能，但是不实现的话就可能实现不了分页功能</span></span><br><span class="line"><span class="keyword">package</span> com.example.mybatisplus.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MPConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mpInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1.定义MP拦截器</span></span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">mpInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="comment">//2.添加具体拦截器</span></span><br><span class="line">        mpInterceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> mpInterceptor;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//同样能够实现上面的方法</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.example.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span>&#123;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> PaginationInterceptor <span class="title function_">paginationInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PaginationInterceptor</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="sql语句打印配置，运行日志"><a href="#sql语句打印配置，运行日志" class="headerlink" title="sql语句打印配置，运行日志"></a>sql语句打印配置，运行日志</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">mybatis-plus:</span><br><span class="line">  configuration:</span><br><span class="line">    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span><br></pre></td></tr></table></figure><h4 id="杀掉多余得数据显示"><a href="#杀掉多余得数据显示" class="headerlink" title="杀掉多余得数据显示"></a>杀掉多余得数据显示</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">logback.xml</span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">//在Spring工程生成原生得xml进行配置</span><br><span class="line">  global-config:</span><br><span class="line">    banner: false</span><br><span class="line">  main:</span><br><span class="line">    banner-mode: off</span><br></pre></td></tr></table></figure><h3 id="DQL编程控制"><a href="#DQL编程控制" class="headerlink" title="DQL编程控制"></a>DQL编程控制</h3><h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><ul><li>MyBatisPlus将书写复杂的SQL查询条件进行封装<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230504224141560.png" alt="image-20230504224141560"></li><li>其中Wrapper&lt; T &gt;就是对查询条件的封装</li></ul><h4 id="添加QueryWrapper对象"><a href="#添加QueryWrapper对象" class="headerlink" title="添加QueryWrapper对象"></a>添加QueryWrapper对象</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">QueryWrapper</span> <span class="variable">qw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>();</span><br><span class="line">qw.lt(<span class="string">&quot;age&quot;</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure><table><thead><tr><th>方法名</th><th>解释</th></tr></thead><tbody><tr><td><code>eq()</code></td><td>等于</td></tr><tr><td><code>ne()</code></td><td>不等于</td></tr><tr><td><code>gt()</code></td><td>大于</td></tr><tr><td><code>ge()</code></td><td>大于等于</td></tr><tr><td><code>lt()</code></td><td>小于</td></tr><tr><td><code>le()</code></td><td>小于等于</td></tr><tr><td><code>between()</code></td><td>在两个值之间</td></tr><tr><td><code>notBetween()</code></td><td>不在两个值之间</td></tr><tr><td><code>like()</code></td><td>模糊查询</td></tr><tr><td><code>notLike()</code></td><td>不匹配某个值的模糊查询</td></tr><tr><td><code>isNull()</code></td><td>为空</td></tr><tr><td><code>isNotNull()</code></td><td>不为空</td></tr><tr><td><code>in()</code></td><td>包含在某个集合中</td></tr><tr><td><code>notIn()</code></td><td>不包含在某个集合中</td></tr><tr><td><code>groupBy()</code></td><td>分组</td></tr><tr><td><code>orderByAsc()</code></td><td>升序排序</td></tr><tr><td><code>orderByDesc()</code></td><td>降序排序</td></tr></tbody></table><h4 id="lambda格式按条件查询"><a href="#lambda格式按条件查询" class="headerlink" title="lambda格式按条件查询"></a>lambda格式按条件查询</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//其一</span></span><br><span class="line">QueryWrapper&lt; User &gt; qw = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt; User &gt;();</span><br><span class="line">qw.lamda().lt(User::getAge,<span class="number">18</span>);</span><br><span class="line">List&lt;User&gt; userList = userDao.selectList(qw);</span><br><span class="line">System.out.println(userList);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//其二</span></span><br><span class="line">LambadQueryWrapper&lt;User&gt; lqw = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;User&gt;();</span><br><span class="line">QueryWrapper&lt;User&gt; qw = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;User&gt;();</span><br><span class="line">qw.lambda().lt(User::getAge,<span class="number">10</span>);</span><br><span class="line">List&lt;User&gt; userList = userDao.selectList(qw);</span><br><span class="line">System.out.println(userList);</span><br></pre></td></tr></table></figure><h4 id="null值处理"><a href="#null值处理" class="headerlink" title="null值处理"></a>null值处理</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">UserQuery</span> <span class="variable">uq</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserQuery</span>();</span><br><span class="line">uq.setAge2(<span class="number">30</span>);</span><br><span class="line">lqw.lt(<span class="literal">null</span>!=uq.getAge2,User::getAge,uq.getAge2());</span><br><span class="line">List&lt;User&gt; userList = userDao.selectList(lqw);</span><br><span class="line">System.out.println(userList);</span><br></pre></td></tr></table></figure><h3 id="查询投影"><a href="#查询投影" class="headerlink" title="查询投影"></a>查询投影</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//普通</span></span><br><span class="line">QueryWrapper&lt;User&gt; lqw = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>();</span><br><span class="line">lqw.select(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;age&quot;</span>,<span class="string">&quot;tel&quot;</span>);</span><br><span class="line">List&lt;User&gt; userList = userDao.selectList(lqw);</span><br><span class="line">System.out.println(userList);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LambdaQueryWrapper&lt;User&gt; lqw = <span class="keyword">new</span> <span class="title class_">LanbdaQueryWrapper</span>&lt;User&gt;();</span><br><span class="line">lqw.select(User::getId,User::getName,User::getAge);</span><br><span class="line">List&lt;User&gt; userList = userDao.selectList(lqw);</span><br><span class="line">System.out.println(userList);</span><br></pre></td></tr></table></figure><h3 id="查询投影-1"><a href="#查询投影-1" class="headerlink" title="查询投影"></a>查询投影</h3><p>MyBatisPlus 查询投影是一种查询方式，主要用于查询部分实体类属性（字段），而不是整个实体类的所有属性。它提高了查询效率，并减少了网络传输和内存消耗。下面是 MyBatisPlus 查询投影的总结：</p><ol><li><p>查询投影可以通过在实体类中定义一个 VO（View Object）类来实现。这个 VO 类只包含我们需要查询的那些属性，而不是整个实体类。</p></li><li><p>MyBatisPlus 提供了多种查询方式来实现投影查询，包括普通查询、条件构造器查询、Lambda 表达式查询等。</p></li><li><p>在使用 MyBatisPlus 进行查询时，可以使用 <code>selectOne()</code>、<code>selectList()</code>、<code>selectMaps()</code> 等方法实现投影查询。</p></li><li><p>在投影查询中，我们可以使用 <code>select()</code> 方法指定要查询的字段，也可以使用 <code>excludeColumns()</code> 方法排除要查询的字段。</p></li><li><p>投影查询可以使用 <code>@SqlParser(filter = true)</code> 注解来关闭逻辑删除功能。这个注解告诉 MyBatisPlus 不要将逻辑删除的行返回给查询结果列表。</p></li><li><p>对于投影查询结果的处理方式，我们可以选择将结果直接映射到实体类中，或者将结果映射到 Map 对象中。</p></li></ol><h3 id="查询条件设置"><a href="#查询条件设置" class="headerlink" title="查询条件设置"></a>查询条件设置</h3><p>MyBatisPlus 提供了多种设置查询条件的方式，以下是 MyBatisPlus 查询条件设置的总结：</p><ol><li><p>使用实体类作为查询条件。MyBatisPlus 可以自动地将实体类中的非空字段作为查询条件生成 SQL 语句，并将查询结果映射到实体类中。如果存在多个非空字段，它们之间的默认关系是 <code>AND</code>，可以通过注解方式更改其关系为 <code>OR</code>。</p></li><li><p>使用 <code>Wrapper</code> 对象作为查询条件。<code>Wrapper</code> 类是 MyBatisPlus 提供的一种条件构造器，它可以实现 SQL 语句中常见的条件设置操作，例如 <code>eq()</code>（等于）、<code>ne()</code>（不等于）、<code>like()</code>（模糊查询）等。可以使用 Lambda 表达式来构造 <code>Wrapper</code> 对象，也可以直接使用传统的 SQL 片段。</p></li><li><p>使用 <code>QueryWrapper</code> 类作为查询条件。<code>QueryWrapper</code> 是 MyBatisPlus 提供的一种常用条件构造器，可以用于设置 <code>WHERE</code> 条件、排序条件、分组条件等。它支持的查询方式比 <code>Wrapper</code> 更加灵活，例如支持 <code>in()</code>（包含）、<code>between()</code>（在两个值之间）等操作。</p></li><li><p>使用 <code>UpdateWrapper</code> 类作为更新条件。<code>UpdateWrapper</code> 可以用于设置 <code>SET</code> 条件，与 <code>QueryWrapper</code> 类似，也支持 Lambda 表达式和传统的 SQL 片段。</p></li><li><p>使用 <code>LambdaQueryWrapper</code>、<code>LambdaUpdateWrapper</code> 等 Lambda 类型的查询方式，实现更加简洁的条件设置，例如 <code>lambdaQuery().eq(User::getId, 1)</code>。</p></li></ol><h3 id="映射匹配兼容性"><a href="#映射匹配兼容性" class="headerlink" title="映射匹配兼容性"></a>映射匹配兼容性</h3><p>MyBatisPlus 映射匹配兼容性主要指 MyBatisPlus 在进行映射操作时，与传统 MyBatis XML 映射文件的兼容性问题。以下是 MyBatisPlus 映射匹配兼容性的总结：</p><ol><li><p>MyBatisPlus 支持与传统 MyBatis XML 映射文件共存，并且支持使用 <code>@MapperScan</code> 注解扫描所有的 Mapper 接口。</p></li><li><p>MyBatisPlus 中内置了多种自动映射配置方式，包括 <code>AUTO</code>（自动按列名匹配）、<code>FULL</code>（自动映射所有实体属性）、<code>NONE</code>（不进行自动映射）等。</p></li><li><p>MyBatisPlus 还支持自定义类型处理器、全局配置、实体类表名映射、字段名映射等灵活的映射配置方式。</p></li><li><p>在使用 MyBatisPlus 进行开发时，需要注意一些 XML 映射文件中的配置不能与 MyBatisPlus 的自动映射方式冲突，例如 <code>resultMap</code>、<code>association</code>、<code>collection</code> 等配置，需要进行合理的调整。</p></li><li><p>对于一些特殊场景，例如需要进行多表关联查询、复杂的查询构造，或者需要使用 MyBatis 动态 SQL 等功能时，可以继续使用传统的 XML 映射文件进行开发。</p></li></ol><table><thead><tr><th>注解名称</th><th>说明</th><th>应用举例</th></tr></thead><tbody><tr><td><code>@TableId</code></td><td>主键字段的映射注解，用于标注实体类中主键字段</td><td><code>@TableId(value = &quot;id&quot;, type = IdType.AUTO)</code> 表示将 <code>id</code> 字段设置为自增长主键</td></tr><tr><td><code>@TableField</code></td><td>字段映射注解，在实体类字段上使用，用于设置字段与数据库表中列的映射关系</td><td><code>@TableField(value = &quot;name&quot;, exist = true, update = &quot;false&quot;)</code> 表示将 <code>name</code> 字段映射到数据库表的 <code>name</code> 列上，且为非更新字段</td></tr><tr><td><code>@TableName</code></td><td>表名映射注解，用于标注实体类对应的数据库表名</td><td><code>@TableName(&quot;user&quot;)</code> 表示将实体类 <code>User</code> 映射到数据库表 <code>user</code> 上</td></tr><tr><td><code>@KeySequence</code></td><td>序列映射注解，用于标注主键对应的序列名称</td><td><code>@KeySequence(value = &quot;myseq&quot;, clazz = Integer.class)</code> 表示将主键对应的序列名称设为 <code>myseq</code>，并指定序列类型为 <code>Integer</code></td></tr></tbody></table><h3 id="id生成策略"><a href="#id生成策略" class="headerlink" title="id生成策略"></a>id生成策略</h3><table><thead><tr><th>ID 生成策略</th><th>说明</th></tr></thead><tbody><tr><td><code>ASSIGN_ID</code></td><td>自定义 ID 生成器，需要在代码中自行生成 ID 值</td></tr><tr><td><code>ASSIGN_UUID</code></td><td>UUID 生成器，使用 JDK 自带的 <code>UUID.randomUUID()</code> 方法生成 UUID</td></tr><tr><td><code>ASSIGN_ID_WORKER</code></td><td>雪花算法 ID 生成器，使用 Twitter 的 Snowflake 算法生成全局唯一的 ID</td></tr><tr><td><code>IDENTITY</code></td><td>基于数据库的自增长 ID 生成器，数据库类型需要支持自增长</td></tr><tr><td><code>NONE</code></td><td>未设置 ID 生成器</td></tr><tr><td><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230506120115982.png" alt="image-20230506120115982"></td><td></td></tr></tbody></table><h4 id="雪花算法"><a href="#雪花算法" class="headerlink" title="雪花算法"></a>雪花算法</h4><p>雪花算法（Snowflake）是一种唯一ID生成算法。它由Twitter公司开发，用于生成全局唯一的ID。雪花算法的核心思想是在64位的ID中，对不同的部分按照规定的位数进行位移和组合，并使用timestamp作为序列的一部分，可以保证生成的ID全局唯一，且越小的timestamp的序列号越小。</p><p>雪花算法的ID格式如下：</p><p>其中：</p><p>第1位（最高位）未使用，可以根据需求使用，一般为0；<br>第2<del>42位表示timestamp，精确到毫秒级别，总共可以表示2^41-1个数字，约69年；<br>第43</del>52位是机器ID，用于表示生成ID的机器，最多支持2^10=1024个机器；<br>第53~64位是序列号，用于表示同一毫秒内生成的不同ID，支持每毫秒生成2^12-1个ID。<br>使用雪花算法生成的ID具有很高的性能和稳定性，适合用于分布式系统中，例如分布式ID生成、分布式锁等场景。</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230506115329072.png" alt="image-20230506115329072"></p><h3 id="乐观锁"><a href="#乐观锁" class="headerlink" title="乐观锁"></a>乐观锁</h3><ol><li>在表中添加版本控制字段</li></ol><p>首先，需要在表中添加一个版本控制字段，例如在 User 表中添加一个 version 字段：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">ADD</span> <span class="keyword">COLUMN</span> version <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><ol><li>在实体类中添加版本控制字段</li></ol><p>接下来，在实体类中添加版本控制字段：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableId(type = IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Version</span> <span class="comment">// 添加版本控制注解</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 省略 getter 和 setter 方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在实体类中，需要添加 <code>@Version</code> 注解，来标识该字段为版本控制字段。</p><ol><li>在 Mapper 文件中使用乐观锁</li></ol><p>在 Mapper 文件中进行更新操作时，可以利用 MyBatisPlus 提供的 <code>@Version</code> 注解自动实现乐观锁功能。以下是一个更新 User 表的简单示例：</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.entity.User&quot;</span>&gt;</span></span><br><span class="line">    update user</span><br><span class="line">    set name = #&#123;name&#125;,</span><br><span class="line">        age = #&#123;age&#125;,</span><br><span class="line">        email = #&#123;email&#125;,</span><br><span class="line">        version = version + 1</span><br><span class="line">    where id = #&#123;id&#125;</span><br><span class="line">      and version = #&#123;version&#125; <span class="comment">&lt;!-- 添加乐观锁判断 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="MyBatisPlus代码生成器"><a href="#MyBatisPlus代码生成器" class="headerlink" title="MyBatisPlus代码生成器"></a>MyBatisPlus代码生成器</h3><p>MyBatisPlus 提供了一个便捷的代码生成器，可以通过该生成器自动生成 Entity、Mapper、Service 和 Controller 等基础代码，从而加快开发速度，提高效率。以下是 MyBatisPlus 代码生成器的简要总结：</p><ol><li>配置生成器</li></ol><p>在 <code>pom.xml</code> 文件中，添加以下依赖：</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>同时，在 <code>application.yml</code> 或 <code>application.properties</code> 配置文件中，添加自己的数据库连接信息：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/db_name?characterEncoding=utf8&amp;useUnicode=true&amp;useSSL=false</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure><ol start="2"><li>配置代码生成器参数</li></ol><p>在项目中创建一个 <code>generator</code> 包，并创建一个 <code>CodeGenerator</code> 类，用于配置代码生成器参数：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeGenerator</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 代码生成器相关配置</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">authorName</span> <span class="operator">=</span> <span class="string">&quot;your name&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] tables = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;table_name&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">packagePath</span> <span class="operator">=</span> <span class="string">&quot;com.example&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 数据源配置</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/db_name&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">driverName</span> <span class="operator">=</span> <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);</span><br><span class="line">        gc.setAuthor(authorName);</span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);</span><br><span class="line">        gc.setEntityName(<span class="string">&quot;%s&quot;</span>);</span><br><span class="line">        gc.setMapperName(<span class="string">&quot;%sMapper&quot;</span>);</span><br><span class="line">        gc.setXmlName(<span class="string">&quot;%sMapper&quot;</span>);</span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);</span><br><span class="line">        gc.setServiceImplName(<span class="string">&quot;%sServiceImpl&quot;</span>);</span><br><span class="line">        gc.setControllerName(<span class="string">&quot;%sController&quot;</span>);</span><br><span class="line">        gc.setSwagger2(<span class="literal">false</span>);</span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(url);</span><br><span class="line">        dsc.setDriverName(driverName);</span><br><span class="line">        dsc.setUsername(username);</span><br><span class="line">        dsc.setPassword(password);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(packagePath);</span><br><span class="line">        pc.setEntity(<span class="string">&quot;entity&quot;</span>);</span><br><span class="line">        pc.setMapper(<span class="string">&quot;mapper&quot;</span>);</span><br><span class="line">        pc.setXml(<span class="string">&quot;mapper.xml&quot;</span>);</span><br><span class="line">        pc.setService(<span class="string">&quot;service&quot;</span>);</span><br><span class="line">        pc.setServiceImpl(<span class="string">&quot;service.impl&quot;</span>);</span><br><span class="line">        pc.setController(<span class="string">&quot;controller&quot;</span>);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">strategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        strategy.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        strategy.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        strategy.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        strategy.setEntityLombokModel(<span class="literal">true</span>);</span><br><span class="line">        strategy.setTablePrefix(<span class="string">&quot;t_&quot;</span>);</span><br><span class="line">        strategy.setInclude(tables);</span><br><span class="line">        strategy.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        strategy.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        strategy.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);</span><br><span class="line">        mpg.setStrategy(strategy);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 执行生成</span></span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在以上代码中，我们可以通过配置相关参数来指定生成器的输出路径、作者名、表名、数据源信息、包路径、策略配置等。在执行 <code>AutoGenerator</code> 对象的 <code>execute()</code> 方法后，MyBatisPlus 就会自动生成相应的 Entity、Mapper、Service 和 Controller 等基础代码，生成的文件都可以在指定的输出路径中找到。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;MyBatis-Plus&quot;&gt;&lt;a href=&quot;#MyBatis-Plus&quot; class=&quot;headerlink&quot; title=&quot;MyBatis Plus&quot;&gt;&lt;/a&gt;MyBatis Plus&lt;/h2&gt;&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;</summary>
      
    
    
    
    <category term="开发工具" scheme="https://kalyan-zitiu.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="开发工具" scheme="https://kalyan-zitiu.github.io/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>2023425</title>
    <link href="https://kalyan-zitiu.github.io/2023/04/25/2023425%E8%BA%AB%E9%AB%98%E6%8E%92%E5%BA%8F/"/>
    <id>https://kalyan-zitiu.github.io/2023/04/25/2023425%E8%BA%AB%E9%AB%98%E6%8E%92%E5%BA%8F/</id>
    <published>2023-04-25T08:50:04.000Z</published>
    <updated>2023-04-27T08:54:31.262Z</updated>
    
    <content type="html"><![CDATA[<h1 id="身高排序"><a href="#身高排序" class="headerlink" title="身高排序"></a>身高排序</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>给你一个字符串数组names,和一个由<strong>互不相同</strong> 的正整数组成的数组heights.两个数组的长度均为n.对每个下标 i,name[i]和heights[i] 表示第i个人的名字和身高.降序返回对应的名字数组names.</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>在 HashMap 中存储了身高和人名信息。接下来，利用 entrySet() 方法获取映射关系集合，并将这个集合转换成 List 类型的 entryList。接着调用了 Collections.sort() 方法来对 entryList 进行排序。通过 getKey() 和 getValue() 方法分别获取身高和人名信息，最终按照从小到大排序存储到字符串数组 result 中并返回。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String[] sortPeople(String[] names, <span class="type">int</span>[] heights) &#123;</span><br><span class="line">    HashMap&lt;Integer,String&gt; storage = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer,String&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> names.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;length;i++)&#123;</span><br><span class="line">        storage.put(Integer.valueOf(heights[i]),names[i]);  <span class="comment">// 将身高和对应的人名信息存储到 HashMap 中</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 排序 HashMap，输出结果</span></span><br><span class="line">    List&lt;Map.Entry&lt;Integer, String&gt;&gt; entryList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Map.Entry&lt;Integer, String&gt;&gt;(storage.entrySet());</span><br><span class="line">    Collections.sort(entryList, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Map.Entry&lt;Integer, String&gt;&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Map.Entry&lt;Integer, String&gt; o1, Map.Entry&lt;Integer, String&gt; o2)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> o2.getKey() - o1.getKey();</span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    String[] result = <span class="keyword">new</span> <span class="title class_">String</span>[length];</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Integer, String&gt; entry : entryList) &#123;</span><br><span class="line">        result[i++] = entry.getValue();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Collections是怎么对List里面的Map进行排序的"><a href="#Collections是怎么对List里面的Map进行排序的" class="headerlink" title="Collections是怎么对List里面的Map进行排序的."></a>Collections是怎么对List里面的Map进行排序的.</h2><ol><li>Collections.sort()方法可以对实现Comparable接口或使用自定义比较器Comparator的类进行排序.由于List中的元素是Map,我们需要使用Comparator来指定排序规则.<br>如:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Map&lt;String, Object&gt;&gt; listMap = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Map&lt;String, Object&gt; map1 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">map1.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">map1.put(<span class="string">&quot;age&quot;</span>, <span class="number">25</span>);</span><br><span class="line">listMap.add(map1);</span><br><span class="line"></span><br><span class="line">Map&lt;String, Object&gt; map2 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">map2.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">map2.put(<span class="string">&quot;age&quot;</span>, <span class="number">20</span>);</span><br><span class="line">listMap.add(map2);</span><br><span class="line"></span><br><span class="line">Map&lt;String, Object&gt; map3 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">map3.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">map3.put(<span class="string">&quot;age&quot;</span>, <span class="number">30</span>);</span><br><span class="line">listMap.add(map3);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用匿名内部类 Comparator 进行排序</span></span><br><span class="line">Collections.sort(listMap, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Map&lt;String, Object&gt;&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Map&lt;String, Object&gt; o1, Map&lt;String, Object&gt; o2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">age1</span> <span class="operator">=</span> (<span class="type">int</span>) o1.get(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">age2</span> <span class="operator">=</span> (<span class="type">int</span>) o2.get(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> age1 - age2; <span class="comment">// 正序排列</span></span><br><span class="line">        <span class="comment">// return age2 - age1; // 倒序排列</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果</span></span><br><span class="line"><span class="keyword">for</span> (Map&lt;String, Object&gt; map : listMap) &#123;</span><br><span class="line">    System.out.println(map.get(<span class="string">&quot;name&quot;</span>) + <span class="string">&quot;：&quot;</span> + map.get(<span class="string">&quot;age&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <summary type="html">Leisure articles about work and life</summary>
    
    
    
    <category term="练习" scheme="https://kalyan-zitiu.github.io/categories/%E7%BB%83%E4%B9%A0/"/>
    
    
    <category term="算法" scheme="https://kalyan-zitiu.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>设计模型-结构型模式</title>
    <link href="https://kalyan-zitiu.github.io/2023/04/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B/"/>
    <id>https://kalyan-zitiu.github.io/2023/04/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B/</id>
    <published>2023-04-24T14:00:00.000Z</published>
    <updated>2023-04-24T14:20:27.418Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设计模式-结构型模式"><a href="#设计模式-结构型模式" class="headerlink" title="设计模式-结构型模式"></a>设计模式-结构型模式</h1><h2 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><ul><li>将一个类的接口变换成客户端所期待的另一种接口，从而使原本因接口不匹配而无法在一起工作的两个类能够在一起工作。</li><li>适配器模式，定义一个包装类，用于包装不兼容接口的对象</li><li>把一个类的接口变换成客户端所期待的另一种接口，从而使原本接口不匹配而无法一起工作的两个类能够在一起工作。适配器的模式的形式分别：为类的适配器和对象的适配器<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">包装类=适配器Adapter</span><br><span class="line">被包装类对象 = 适配器Adaptee = 被适配的类</span><br></pre></td></tr></table></figure></li></ul><h3 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>原版由于接口不兼容而不能一起工作的那些类可以一起工作。</li><li>透明简单，客户端可以调用同一个接口，因而对客户端来说是透明的</li><li>复用性，需要实现现有的类，此类的接口不符合系统的需要，那么通过适配器模式可以让这些功能得到更好的复用</li><li>扩展性，实现适配器功能的时候，通过调用自己开发的功能，从而自然的扩展系统的功能</li><li>解耦性，将目标类和适配者类解耦，通过引入一个适配器类重用现有的适配者类，而无需修改源码</li><li>符合开闭原则，同一个适配器可以把适配者类和它的子类都适配到目标接口；可以为不同的目标接口实现不同的适配器，而不需要修改适配类。<h3 id="UML类图"><a href="#UML类图" class="headerlink" title="UML类图"></a>UML类图</h3></li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303272341418.png" alt="img"></p><h3 id="举例实例"><a href="#举例实例" class="headerlink" title="举例实例"></a>举例实例</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Target</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//这是源类Adapteee没有的方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Request</span><span class="params">()</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Adaptee</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SpecificRequest</span><span class="params">()</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//适配器Adapter继承自Adaptee，同时又实现了目标(Target)接口。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Adapter</span> <span class="keyword">extends</span> <span class="title class_">Adaptee</span> <span class="keyword">implements</span> <span class="title class_">Target</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//目标接口要求调用Request()这个方法名，但源类Adaptee没有方法Request()</span></span><br><span class="line">    <span class="comment">//因此适配器补充上这个方法名</span></span><br><span class="line">    <span class="comment">//但实际上Request()只是调用源类Adaptee的SpecificRequest()方法的内容</span></span><br><span class="line">    <span class="comment">//所以适配器只是将SpecificRequest()方法作了一层封装，封装成Target可以调用的Request()而已</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Request</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.SpecificRequest();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AdapterPattern</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Target</span> <span class="variable">mAdapter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Adapter</span>()；</span><br><span class="line">        mAdapter.Request（）;</span><br><span class="line">     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><ul><li>过多的使用适配器会让系统非常凌乱，不易整体进行把握。</li></ul><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul><li>系统需要复用现有类，而该类接口不符合系统的需求，可以使用适配器模式使得原本由于接口不兼容而不能一起工作的类一起工作。</li><li>多个组件功能类似，接口不统一且可能会经常切换时候，可以使用适配器模式，使得客户端额可以统一的接口使用他们。</li></ul><h2 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><ul><li>抽象部分与它的实现部分分离，使它们都可以独立的变化。</li><li>抽取其中一个维度并使之成为独立的类层次</li><li>在某个类中添加一个指向某一属性对象的引用成员变量。</li></ul><h3 id="模式组成"><a href="#模式组成" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th>组成</th><th>作用</th></tr></thead><tbody><tr><td>抽象类</td><td>定义抽象类的接口，定义了一个Implementor实现类接口的对象斌可以维护其对象</td></tr><tr><td>提炼抽象类</td><td>扩充抽象类定义的接口，通常属于具体类，实现抽象类中声明的抽象业务方法，在提炼抽象类中，能够调用在实现类接口的业务方法</td></tr><tr><td>实现类接口</td><td>这个接口不一定要与抽象类的接口完全一致，事实上这两个接口可以完全不同，可以仅仅提供基本操作，而抽象类接口可以实现更多复杂的操作。</td></tr><tr><td>具体实现类</td><td>具体实现实现类接口，在不同的具体实现类中提供基本操作的不同实现，在程序运行时候，具体实现类的对象将会替换其父类对象，提供给抽象类具体的业务操作方法。</td></tr></tbody></table><h3 id="解决问题-1"><a href="#解决问题-1" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>提高系统的可扩充性，在两个变化维度中任意扩展一个维度，都不需要修改原有系统</li><li>有的时候类似于多继承方案，但是多继承方案违背了类的单一职责原则，复用性比较差，而且多继承的结构类中的个数非常庞大，桥接模式是比多继承方案更好的解决方法。</li></ul><h3 id="UML类图-1"><a href="#UML类图-1" class="headerlink" title="UML类图"></a>UML类图</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303272227473.png" alt="在这里插入图片描述"></p><h3 id="举例实例-1"><a href="#举例实例-1" class="headerlink" title="举例实例"></a>举例实例</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//用于画各种颜色的接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ColorAPI</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BlueColorAPI</span> <span class="keyword">implements</span> <span class="title class_">ColorAPI</span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">()</span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;蓝色&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedColorAPI</span> <span class="keyword">implements</span> <span class="title class_">ColorAPI</span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">()</span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;红色&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="keyword">protected</span> ColorAPI colorAPI;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDrawAPI</span><span class="params">(ColorAPI colorAPI)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.colorAPI = colorAPI;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>&#123;</span><br><span class="line">System.out.print(<span class="string">&quot;圆形&quot;</span>);</span><br><span class="line">colorAPI.paint();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>&#123;</span><br><span class="line">System.out.print(<span class="string">&quot;长方形&quot;</span>);</span><br><span class="line">colorAPI.paint();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span>&#123;</span><br><span class="line"><span class="comment">//创建一个圆形</span></span><br><span class="line"><span class="type">Shape</span> <span class="variable">shape</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line"><span class="comment">//给圆形蓝色的颜料</span></span><br><span class="line">shape.setDrawAPI(<span class="keyword">new</span> <span class="title class_">BlueColorAPI</span>());</span><br><span class="line"><span class="comment">//上色</span></span><br><span class="line">shape.draw();</span><br><span class="line"><span class="comment">//创建一个长方形</span></span><br><span class="line"><span class="type">Shape</span> <span class="variable">shape1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>();</span><br><span class="line"><span class="comment">//给长方形上红色的颜料</span></span><br><span class="line">shape1.setDrawAP(<span class="keyword">new</span> <span class="title class_">RedColorAPI</span>());</span><br><span class="line"><span class="comment">//上色</span></span><br><span class="line">shape1.draw();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果这个时候客户需要一个绿色的三角形那么只需要新增一个三角形类即可。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Triangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;三角形&quot;</span>);</span><br><span class="line">colorAPI.paint();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GreenColorAPI</span> <span class="keyword">implements</span> <span class="title class_">ColorAPI</span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">()</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;绿色&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String [] args)</span>&#123;</span><br><span class="line"><span class="type">Shape</span> <span class="variable">shape</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Triangle</span>();</span><br><span class="line">shape.setDrawAPI(<span class="keyword">new</span> <span class="title class_">GreenColorAPI</span>());</span><br><span class="line">shape.draw();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h3><ul><li>桥接模式的引入会增加系统的理解与设计的难度，由于聚合关联关系建立在抽象层，要求开发者针对抽象进行设计以及编程</li><li>桥接模式要求正确的识别出系统中两个独立变化的维度，因此其使用范围具有一定的局限性。</li></ul><h2 id="装饰器模式"><a href="#装饰器模式" class="headerlink" title="装饰器模式"></a>装饰器模式</h2><h3 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h3><ul><li>不改变现有对象结构的情况下，动态地给对象增加一些职责的模式，它属于对象结构型模式</li></ul><h3 id="解决问题-2"><a href="#解决问题-2" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>装饰器是继承的有力补充，比继承灵活，在不改变原有对象的情况下，动态地给一个对象扩展功能，即插即用。</li><li>通过不用装饰类以及这些装饰类的排列组合，可以实现不同效果</li><li>装饰器模式完全遵守开闭原则</li></ul><h3 id="模式组成-1"><a href="#模式组成-1" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th align="left">组成</th><th>作用</th></tr></thead><tbody><tr><td align="left">抽象构件</td><td>定义一个抽象接口以规范准备接收附加责任的对象</td></tr><tr><td align="left">具体构件</td><td>实现抽象构件，通过装饰角色为其添加一些职责</td></tr><tr><td align="left">抽象装饰</td><td>继承抽象构件，并包含具体构件的实例，可以通过其子类扩展具体构件的功能</td></tr><tr><td align="left">具体装饰</td><td>实现抽象装饰的相关方法，并给具体构件对象添加附加责任。</td></tr></tbody></table><h3 id="UML类图-2"><a href="#UML类图-2" class="headerlink" title="UML类图"></a>UML类图</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303290039331.png" alt="image-20230329003915296"></p><h3 id="举例实例-2"><a href="#举例实例-2" class="headerlink" title="举例实例"></a>举例实例</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DecoratorPattern</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Component</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteComponent</span>();</span><br><span class="line">        p.operation();</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------------------------&quot;</span>);</span><br><span class="line">        <span class="type">Component</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteDecorator</span>(p);</span><br><span class="line">        d.operation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//抽象构件角色</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//具体构件角色</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteComponent</span> <span class="keyword">implements</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteComponent</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;创建具体构件角色&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;调用具体构件角色的方法operation()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//抽象装饰角色</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Decorator</span> <span class="keyword">implements</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Component component;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Decorator</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.component = component;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        component.operation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//具体装饰角色</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteDecorator</span> <span class="keyword">extends</span> <span class="title class_">Decorator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteDecorator</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(component);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.operation();</span><br><span class="line">        addedFunction();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addedFunction</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;为具体构件角色增加额外的功能addedFunction()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="问题-2"><a href="#问题-2" class="headerlink" title="问题"></a>问题</h3><ul><li>装饰器模式会增加许多子类，过度使用会增加程序的复杂性。<h2 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h2><h3 id="简介-3"><a href="#简介-3" class="headerlink" title="简介"></a>简介</h3></li><li>为其他对象提供一种代理以控制这个对象的访问。</li></ul><h3 id="解决问题-3"><a href="#解决问题-3" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>职责清晰</li><li>高扩展，只要实现了接口，都可以用代理</li><li>智能化，动态代理。</li></ul><h3 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303290100829.png" alt="image-20230329010025796"></p><h3 id="举例实例-3"><a href="#举例实例-3" class="headerlink" title="举例实例"></a>举例实例</h3><h4 id="静态代理"><a href="#静态代理" class="headerlink" title="静态代理"></a>静态代理</h4><ol><li>以租房为例，我们一般用租房软件、找中介或者找房东。这里的中介就是代理者。<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义一个提供了租房方法的接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IRentHouse</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">rentHouse</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义租房的实现类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentHouse</span> <span class="keyword">implements</span> <span class="title class_">IRentHouse</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rentHouse</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;租了一间房子。。。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//租房找中介</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IntermediaryProxy</span> <span class="keyword">implements</span> <span class="title class_">IRentHouse</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IRentHouse rentHouse;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">IntermediaryProxy</span><span class="params">(IRentHouse irentHouse)</span>&#123;</span><br><span class="line">        rentHouse = irentHouse;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rentHouse</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;交中介费&quot;</span>);</span><br><span class="line">        rentHouse.rentHouse();</span><br><span class="line">        System.out.println(<span class="string">&quot;中介负责维修管理&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//定义租房</span></span><br><span class="line">        <span class="type">IRentHouse</span> <span class="variable">rentHouse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RentHouse</span>();</span><br><span class="line">        <span class="comment">//定义中介</span></span><br><span class="line">        <span class="type">IRentHouse</span> <span class="variable">intermediary</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IntermediaryProxy</span>(rentHouse);</span><br><span class="line">        <span class="comment">//中介租房</span></span><br><span class="line">        intermediary.rentHouse();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="组合模式"><a href="#组合模式" class="headerlink" title="组合模式"></a>组合模式</h2><h3 id="简介-4"><a href="#简介-4" class="headerlink" title="简介"></a>简介</h3>又叫部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式依据树形结构来组合对象，用来表示部分以及整体层次，他创建了对象组的树形结构<h3 id="模式组成-2"><a href="#模式组成-2" class="headerlink" title="模式组成"></a>模式组成</h3></li></ol><table><thead><tr><th>角色</th><th>解释</th></tr></thead><tbody><tr><td>抽象构件</td><td>为树叶构件和树枝构件声明公共接口，实现默认行为</td></tr><tr><td>树叶构件</td><td>没有子节点，用于继承或实现抽象构件，是树状结构最底层。</td></tr><tr><td>树枝构件</td><td>有子节点，是组合中的分支节点。</td></tr></tbody></table><h3 id="解决问题-4"><a href="#解决问题-4" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>一致处理单个对象和组合对象，无须关心处理的是单个对象还是组合对象。</li><li>容易在组合体内加入新的对象，客户端不会因为加入了新的对象而更改源代码。</li></ul><h3 id="问题-3"><a href="#问题-3" class="headerlink" title="问题"></a>问题</h3><ul><li>设计复杂，需要一定时间理清层次关系</li><li>不容易限制容器中的构件</li><li>不容易用继承的方法来增加构件的新功能</li></ul><h3 id="举例实现"><a href="#举例实现" class="headerlink" title="举例实现"></a>举例实现</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//抽象构件</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这里使用接口或者抽象类都可以的</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Region</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加节点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> region</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Region region)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除节点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> region</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Region region)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取当前节点下面的节点</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> i</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">abstract</span> Region <span class="title function_">getChild</span><span class="params">(<span class="type">int</span> i)</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 通知，上面下个政策一级一级的传递，一般都有一个动作方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">notice</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 树叶地区</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LeafRegion</span> <span class="keyword">extends</span> <span class="title class_">Region</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LeafRegion</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Region region)</span> &#123;</span><br><span class="line"><span class="comment">//叶子节点没有下级</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Region region)</span> &#123;</span><br><span class="line"><span class="comment">//叶子节点没有下级</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Region <span class="title function_">getChild</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="comment">//叶子节点没有下级</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">notice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 最底层的接到了通知</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 树枝地区</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CompositeRegion</span> <span class="keyword">extends</span> <span class="title class_">Region</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用来盛放子节点</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Region&gt; children = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Region region)</span> &#123;</span><br><span class="line">        children.add(region);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Region region)</span> &#123;</span><br><span class="line">        children.remove(region);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Region <span class="title function_">getChild</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">notice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/*通知下级所有的部门，下级如果是树枝的话继续通知，这是个递归操作*/</span></span><br><span class="line">        <span class="keyword">for</span> (Region child : children) &#123;</span><br><span class="line">            child.notice();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="外观模式"><a href="#外观模式" class="headerlink" title="外观模式"></a>外观模式</h2><h3 id="简介-5"><a href="#简介-5" class="headerlink" title="简介"></a>简介</h3><ul><li>为子系统的一组接口提供一个一致的界面，定义了一个高层接口，这个接口使得这一子系统更加容易使用</li></ul><h3 id="模式组成-3"><a href="#模式组成-3" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th>角色类型</th><th>作用解释</th></tr></thead><tbody><tr><td>外观(Facade)</td><td>封装系统底层功能，为客户端提供简单易用的接口</td></tr><tr><td>子系统类(SubSystem)</td><td>提供系统底层的具体实现细节</td></tr><tr><td>客户端(Client)</td><td>调用外观对象提供的简单接口，使用系统底层功能而无需了解其具体实现</td></tr></tbody></table><h3 id="解决问题-5"><a href="#解决问题-5" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>降低访问复杂系统的内部子系统时的复杂度，简化个护短之间的接口。</li><li>减少系统的互相依赖，提高灵活性，提高安全性。<h3 id="问题-4"><a href="#问题-4" class="headerlink" title="问题"></a>问题</h3></li><li>不符合开闭原则</li></ul><h3 id="举例实现-1"><a href="#举例实现-1" class="headerlink" title="举例实现"></a>举例实现</h3><ol><li>假设你现在需要购买一台电脑，在购买这个过程中，有很多不同的步骤需要完成，如选择操作系统、购买CPU、选择显示屏尺寸等等。然而，如果你并不关心电脑内部如何工作，而只关注它的整体性能和使用方式，那么外观模式就可以被用来简化这个过程。</li></ol><p>具体地说，一个电脑厂商可能会实现一个电脑购买外观(Facade)，它将 CPU 购买、内存配置、显示器选择、操作系统安装等操作封装在一起，提供一个简单易用的接口让用户来购买电脑。对于客户端而言，只需要调用外观对象提供的购买接口就可以了，而不必了解具体的硬件和软件实现细节，大大简化了购买电脑的流程。当内部实现发生变化时，只需修改外观类即可，对客户端代码没有影响。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComputerPurchaseFacade</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> CPU cpu;</span><br><span class="line">    <span class="keyword">private</span> Memory memory;</span><br><span class="line">    <span class="keyword">private</span> Display display;</span><br><span class="line">    <span class="keyword">private</span> OS os;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ComputerPurchaseFacade</span><span class="params">()</span> &#123;</span><br><span class="line">        cpu = <span class="keyword">new</span> <span class="title class_">CPU</span>();</span><br><span class="line">        memory = <span class="keyword">new</span> <span class="title class_">Memory</span>();</span><br><span class="line">        display = <span class="keyword">new</span> <span class="title class_">Display</span>();</span><br><span class="line">        os = <span class="keyword">new</span> <span class="title class_">OS</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyComputer</span><span class="params">(<span class="type">int</span> cpuType, <span class="type">int</span> memorySize, <span class="type">int</span> displaySize, <span class="type">int</span> osType)</span> &#123;</span><br><span class="line">        cpu.selectCPU(cpuType);</span><br><span class="line">        memory.setMemorySize(memorySize);</span><br><span class="line">        display.selectDisplay(displaySize);</span><br><span class="line">        os.installOS(osType);</span><br><span class="line">        System.out.println(<span class="string">&quot;Your computer has been purchased!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPU</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">selectCPU</span><span class="params">(<span class="type">int</span> type)</span> &#123;</span><br><span class="line">        <span class="comment">// 选择不同种类的CPU</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Memory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMemorySize</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        <span class="comment">// 配置内存大小</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Display</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">selectDisplay</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        <span class="comment">// 选择不同尺寸的显示器</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OS</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">installOS</span><span class="params">(<span class="type">int</span> type)</span> &#123;</span><br><span class="line">        <span class="comment">// 安装不同类型的操作系统</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ComputerPurchaseFacade</span> <span class="variable">facade</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ComputerPurchaseFacade</span>();</span><br><span class="line">        facade.buyComputer(<span class="number">1</span>, <span class="number">8</span>, <span class="number">15</span>, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ol><li>为一个复杂的子系统提高逻辑支持</li><li>调用多个子系统完成逻辑</li></ol><h2 id="享元模式"><a href="#享元模式" class="headerlink" title="享元模式"></a>享元模式</h2><h3 id="简介-6"><a href="#简介-6" class="headerlink" title="简介"></a>简介</h3><ul><li>有两类对象：共享的享元对象和非共享的外部状态对象。享元对象包含内部状态和外部状态两部分，其中内部状态是不变的，可以被多个享元对象共享；外部状态是变化的，不能被共享，每个对象都需要单独维护。</li><li>将原本需要大量创建的相似对象合并为较少的共享对象，这样可以节省内存空间，并提高程序的运行效率。</li></ul><h3 id="解决问题-6"><a href="#解决问题-6" class="headerlink" title="解决问题"></a>解决问题</h3><ul><li>减少系统内部资源开销，通过对象共享，减少系统创建对象的数量，降低内存的开销</li><li>提高系统性能，减少垃圾回收机制的次数</li></ul><h3 id="问题-5"><a href="#问题-5" class="headerlink" title="问题"></a>问题</h3><ul><li>对象共享会导致程序逻辑复杂化。原来对象自己拥有的内部状态和外部状态现在需要从外部导入。</li><li>对象共享是有限制的，即那些可以共享的对象需要满足一定的条件，否则无法实现对象的共享。</li></ul><h3 id="模式组成-4"><a href="#模式组成-4" class="headerlink" title="模式组成"></a>模式组成</h3><table><thead><tr><th>角色类型</th><th>作用解释</th></tr></thead><tbody><tr><td>抽象享元角色（Flyweight）</td><td>定义享元对象的接口及需要缓存的数据，充当所有具体享元类的基类。</td></tr><tr><td>具体享元角色（ConcreteFlyweight）</td><td>实现抽象享元角色所定义的接口，同时需要为内部状态增加存储空间。并且可以接受外部状态（容易变化的状态），并根据外部状态进行相应的业务逻辑处理。</td></tr><tr><td>非共享具体享元角色（UnsharedConcreteFlyweight）</td><td>通常不会出现单独的非共享具体享元角色，因为非共享具体享元角色与单纯的享元模式没有什么区别。</td></tr><tr><td>享元工厂角色（FlyweightFactory）</td><td>提供一个用于管理享元对象的工厂类。主要用于享元对象的创建和缓存，实现对象的复用，减少对象的创建次数，节省内存空间。</td></tr><tr><td>客户端角色（Client）</td><td>通过享元工厂角色获取具体的享元角色，并访问具体享元角色中的相关业务方法。</td></tr></tbody></table><h3 id="举例实现-2"><a href="#举例实现-2" class="headerlink" title="举例实现"></a>举例实现</h3><ol><li>我们正在开发一个棋类游戏，游戏中有大量的棋子需要被使用。不同的棋子有不同的颜色和形状，但是棋子的功能（如移动、吃子等）都是一样的。我们可以复用相同颜色和形状的棋子对象，避免重复创建棋子导致内存资源的浪费，提高系统的性能。</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//棋子的共享接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ChessPiece</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">setPosition</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//维护了颜色和形状的内部状态，位置等可变状态外部传入</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteChessPiece</span> <span class="keyword">implements</span> <span class="title class_">ChessPiece</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String color;</span><br><span class="line">    <span class="keyword">private</span> String shape;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteChessPiece</span><span class="params">(String color, String shape)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">        <span class="built_in">this</span>.shape = shape;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPosition</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        System.out.println(String.format(<span class="string">&quot;Set position for %s %s chess to (%d,%d)&quot;</span>, color, shape, x, y));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(String.format(<span class="string">&quot;Draw %s %s chess&quot;</span>, color, shape));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//管理棋子对象并进行复用。</span></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChessPieceFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, ChessPiece&gt; chessPieces = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ChessPiece <span class="title function_">getChessPiece</span><span class="params">(String color, String shape)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> color + shape;</span><br><span class="line">        <span class="keyword">if</span> (chessPieces.containsKey(key)) &#123;</span><br><span class="line">            <span class="keyword">return</span> chessPieces.get(key);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">ChessPiece</span> <span class="variable">piece</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteChessPiece</span>(color, shape);</span><br><span class="line">            chessPieces.put(key, piece);</span><br><span class="line">            <span class="keyword">return</span> piece;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//客户端</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="type">ChessPiece</span> <span class="variable">piece</span> <span class="operator">=</span> ChessPieceFactory.getChessPiece(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;circle&quot;</span>);</span><br><span class="line">    piece.setPosition(i, <span class="number">0</span>);</span><br><span class="line">    piece.draw();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;设计模式-结构型模式&quot;&gt;&lt;a href=&quot;#设计模式-结构型模式&quot; class=&quot;headerlink&quot; title=&quot;设计模式-结构型模式&quot;&gt;&lt;/a&gt;设计模式-结构型模式&lt;/h1&gt;&lt;h2 id=&quot;适配器模式&quot;&gt;&lt;a href=&quot;#适配器模式&quot; class=&quot;he</summary>
      
    
    
    
    <category term="设计模式" scheme="https://kalyan-zitiu.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
    <category term="设计模式" scheme="https://kalyan-zitiu.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Kalyan的训练计划</title>
    <link href="https://kalyan-zitiu.github.io/2023/04/20/Kalyan%E7%9A%84%E5%81%A5%E8%BA%AB%E7%AC%94%E8%AE%B0/"/>
    <id>https://kalyan-zitiu.github.io/2023/04/20/Kalyan%E7%9A%84%E5%81%A5%E8%BA%AB%E7%AC%94%E8%AE%B0/</id>
    <published>2023-04-20T04:30:34.000Z</published>
    <updated>2023-04-23T13:49:57.878Z</updated>
    
    <content type="html"><![CDATA[<h2 id="胸"><a href="#胸" class="headerlink" title="胸"></a>胸</h2><h3 id="训练计划"><a href="#训练计划" class="headerlink" title="训练计划"></a>训练计划</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423210444548.png" alt="image-20230423210444548"></p><h3 id="蝴蝶肌夹胸"><a href="#蝴蝶肌夹胸" class="headerlink" title="蝴蝶肌夹胸"></a>蝴蝶肌夹胸</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423002229315.png" alt="image-20230423002229315"></p><h3 id="平板卧推"><a href="#平板卧推" class="headerlink" title="平板卧推"></a>平板卧推</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423002522177.png" alt="image-20230423002522177"></p><h3 id="上斜哑铃飞鸟"><a href="#上斜哑铃飞鸟" class="headerlink" title="上斜哑铃飞鸟"></a>上斜哑铃飞鸟</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423002305022.png" alt="image-20230423002305022"></p><h3 id="杠铃上斜卧推"><a href="#杠铃上斜卧推" class="headerlink" title="杠铃上斜卧推"></a>杠铃上斜卧推</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423002830127.png" alt="image-20230423002830127"></p><h3 id="龙门架夹下胸"><a href="#龙门架夹下胸" class="headerlink" title="龙门架夹下胸"></a>龙门架夹下胸</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423003136604.png" alt="image-20230423003136604"></p><h3 id="双杠臂屈伸"><a href="#双杠臂屈伸" class="headerlink" title="双杠臂屈伸"></a>双杠臂屈伸</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423003029827.png" alt="image-20230423003029827"></p><h2 id="背"><a href="#背" class="headerlink" title="背"></a>背</h2><h3 id="训练计划-1"><a href="#训练计划-1" class="headerlink" title="训练计划"></a>训练计划</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423210334836.png" alt="image-20230423210334836"></p><h3 id="高位下拉"><a href="#高位下拉" class="headerlink" title="高位下拉"></a>高位下拉</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423164327463.png" alt="image-20230423164327463"></p><h3 id="坐姿划船"><a href="#坐姿划船" class="headerlink" title="坐姿划船"></a>坐姿划船</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423205735398.png" alt="image-20230423205735398"></p><h3 id="直臂下拉"><a href="#直臂下拉" class="headerlink" title="直臂下拉"></a>直臂下拉</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423205851519.png" alt="image-20230423205851519"></p><h3 id="窄距高位下拉"><a href="#窄距高位下拉" class="headerlink" title="窄距高位下拉"></a>窄距高位下拉</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423205942885.png" alt="image-20230423205942885"></p><h3 id="俯身划船"><a href="#俯身划船" class="headerlink" title="俯身划船"></a>俯身划船</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423210151270.png" alt="image-20230423210151270"></p><h3 id="宽距坐姿划船"><a href="#宽距坐姿划船" class="headerlink" title="宽距坐姿划船"></a>宽距坐姿划船</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423210236422.png" alt="image-20230423210236422"></p><h2 id="腿"><a href="#腿" class="headerlink" title="腿"></a>腿</h2><h3 id="训练计划-2"><a href="#训练计划-2" class="headerlink" title="训练计划"></a>训练计划</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423211817734.png" alt="image-20230423211817734"></p><h3 id="坐姿腿屈伸"><a href="#坐姿腿屈伸" class="headerlink" title="坐姿腿屈伸"></a>坐姿腿屈伸</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423210829948.png" alt="image-20230423210829948"></p><h3 id="深蹲"><a href="#深蹲" class="headerlink" title="深蹲"></a>深蹲</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423210950628.png" alt="image-20230423210950628"></p><h3 id="倒蹬机腿举"><a href="#倒蹬机腿举" class="headerlink" title="倒蹬机腿举"></a>倒蹬机腿举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423211530323.png" alt="image-20230423211530323"></p><h3 id="俯卧腿弯举（腰部不用力，屁股不撅）"><a href="#俯卧腿弯举（腰部不用力，屁股不撅）" class="headerlink" title="俯卧腿弯举（腰部不用力，屁股不撅）"></a>俯卧腿弯举（腰部不用力，屁股不撅）</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423211715526.png" alt="image-20230423211715526"></p><h2 id="肩"><a href="#肩" class="headerlink" title="肩"></a>肩</h2><h3 id="训练计划-3"><a href="#训练计划-3" class="headerlink" title="训练计划"></a>训练计划</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212631090.png" alt="image-20230423212631090"></p><h3 id="史密斯推肩"><a href="#史密斯推肩" class="headerlink" title="史密斯推肩"></a>史密斯推肩</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212110581.png" alt="image-20230423212110581"></p><h3 id="哑铃侧平举"><a href="#哑铃侧平举" class="headerlink" title="哑铃侧平举"></a>哑铃侧平举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212222249.png" alt="image-20230423212222249"></p><h3 id="蝴蝶机反向飞鸟"><a href="#蝴蝶机反向飞鸟" class="headerlink" title="蝴蝶机反向飞鸟"></a>蝴蝶机反向飞鸟</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212320016.png" alt="image-20230423212320016"></p><h3 id="绳索前平举"><a href="#绳索前平举" class="headerlink" title="绳索前平举"></a>绳索前平举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212411999.png" alt="image-20230423212411999"></p><h3 id="绳索面拉"><a href="#绳索面拉" class="headerlink" title="绳索面拉"></a>绳索面拉</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212537833.png" alt="image-20230423212537833"></p><h2 id="小臂"><a href="#小臂" class="headerlink" title="小臂"></a>小臂</h2><h3 id="训练计划-4"><a href="#训练计划-4" class="headerlink" title="训练计划"></a>训练计划</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423213030936.png" alt="image-20230423213030936"></p><h3 id="哑铃手腕弯举"><a href="#哑铃手腕弯举" class="headerlink" title="哑铃手腕弯举"></a>哑铃手腕弯举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212818644.png" alt="image-20230423212818644"></p><h3 id="反向哑铃手腕弯举"><a href="#反向哑铃手腕弯举" class="headerlink" title="反向哑铃手腕弯举"></a>反向哑铃手腕弯举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212903715.png" alt="image-20230423212903715"></p><h3 id="站姿体后杠铃手腕弯举"><a href="#站姿体后杠铃手腕弯举" class="headerlink" title="站姿体后杠铃手腕弯举"></a>站姿体后杠铃手腕弯举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423212958122.png" alt="image-20230423212958122"></p><h2 id="二三头"><a href="#二三头" class="headerlink" title="二三头"></a>二三头</h2><h3 id="训练计划-5"><a href="#训练计划-5" class="headerlink" title="训练计划"></a>训练计划</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423214003078.png" alt="image-20230423214003078"></p><h3 id="杠铃弯举"><a href="#杠铃弯举" class="headerlink" title="杠铃弯举"></a>杠铃弯举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423213308228.png" alt="image-20230423213308228"></p><h3 id="直杠臂屈伸"><a href="#直杠臂屈伸" class="headerlink" title="直杠臂屈伸"></a>直杠臂屈伸</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423213746793.png" alt="image-20230423213746793"></p><h3 id="哑铃颈后臂屈伸"><a href="#哑铃颈后臂屈伸" class="headerlink" title="哑铃颈后臂屈伸"></a>哑铃颈后臂屈伸</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423213730391.png" alt="image-20230423213730391"></p><h3 id="牧师椅杠铃弯举"><a href="#牧师椅杠铃弯举" class="headerlink" title="牧师椅杠铃弯举"></a>牧师椅杠铃弯举</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423213700395.png" alt="image-20230423213700395"></p><h3 id="绳索颈后臂屈伸"><a href="#绳索颈后臂屈伸" class="headerlink" title="绳索颈后臂屈伸"></a>绳索颈后臂屈伸</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230423213846270.png" alt="image-20230423213846270"></p><h3 id="练前篇"><a href="#练前篇" class="headerlink" title="练前篇"></a>练前篇</h3><ul><li>训练前一小时,一勺蛋白粉</li><li>训练前半小时上氮泵和肌酸</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;胸&quot;&gt;&lt;a href=&quot;#胸&quot; class=&quot;headerlink&quot; title=&quot;胸&quot;&gt;&lt;/a&gt;胸&lt;/h2&gt;&lt;h3 id=&quot;训练计划&quot;&gt;&lt;a href=&quot;#训练计划&quot; class=&quot;headerlink&quot; title=&quot;训练计划&quot;&gt;&lt;/a&gt;训练计划&lt;/h3&gt;&lt;p</summary>
      
    
    
    
    <category term="分享" scheme="https://kalyan-zitiu.github.io/categories/%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="训练" scheme="https://kalyan-zitiu.github.io/tags/%E8%AE%AD%E7%BB%83/"/>
    
  </entry>
  
  <entry>
    <title>JDBC</title>
    <link href="https://kalyan-zitiu.github.io/2023/04/18/JDBC/"/>
    <id>https://kalyan-zitiu.github.io/2023/04/18/JDBC/</id>
    <published>2023-04-18T11:00:00.000Z</published>
    <updated>2023-04-22T08:14:23.188Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JDBC学习笔记"><a href="#JDBC学习笔记" class="headerlink" title="JDBC学习笔记"></a>JDBC学习笔记</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>JDBC(Java DataBase Connectivity)是Java编程语言中连接数据库的一种标准规范, 其提供了访问许多不同类型数据库的标准化方法，使得Java程序员能够很容易地使用数据库和执行SQL查询，从而方便地与任何数据库进行交互。</p><ul><li>本质上JDBC就是用来操作关系型数据库的一套API。</li></ul><p>JDBC API包含两个级别：</p><ul><li><p>JDBC API：Java应用程序通过这个API与JDBC管理器通信。</p></li><li><p>JDBC 驱动程序API：这个API定义了Java应用程序和JDBC驱动程序之间的协议。</p></li><li><p>JDBC可以为所有主流数据库提供统一的访问方式，从而有助于加快Java开发者的工作效率。</p></li></ul><p>下面是个使用java语言操作关系型数据库的一套API</p><h3 id="导入jar"><a href="#导入jar" class="headerlink" title="导入jar"></a>导入jar</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202304172257201.png" alt="image-20230417225731159"></p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202304172258423.png" alt="image-20230417225839387"></p><h3 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">            conn = DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://localhost:3306/jdbc&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;12345678&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Connected to database successfully!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Error: unable to load driver class!&quot;</span>);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Error: failed to connect to database!&quot;</span>);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (conn != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    conn.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202304172301062.png" alt="image-20230417230155033"></p><h2 id="API详解"><a href="#API详解" class="headerlink" title="API详解"></a>API详解</h2><h3 id="DriverManager"><a href="#DriverManager" class="headerlink" title="DriverManager"></a>DriverManager</h3><ul><li>驱动管理类1.注册驱动2.获取数据库连接</li><li>与各种关系型数据库进行通信。</li></ul><p>以下部分方法：</p><table><thead><tr><th>方法</th><th>解释</th></tr></thead><tbody><tr><td>getConnection()</td><td>连接到指定的数据库，并返回一个连接对象</td></tr><tr><td>getDriver()</td><td>返回一个具体的驱动</td></tr><tr><td>setLogWriter()</td><td>设置当前应用程序的日志Writer对象</td></tr><tr><td>getLogWriter()</td><td>获取当前应用程序的日志Writer对象</td></tr></tbody></table><h3 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h3><ul><li>表示与特定的数据库进行连接。</li><li>一旦获得一个Connection对象，就可以使用它来执行SQL语句。</li></ul><table><thead><tr><th align="left">方法</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">createStatement()</td><td align="left">创建一个 Statement 对象，用于执行静态 SQL 语句并返回其生成的结果。</td></tr><tr><td align="left">prepareStatement(String sql)</td><td align="left">创建一个 PreparedStatement 对象，用于将参数化的 SQL 语句发送到数据库。</td></tr><tr><td align="left">setAutoCommit(boolean autoCommit)</td><td align="left">设置是否启用自动提交模式。如果启用，每个 SQL 语句默认作为事务处理。</td></tr><tr><td align="left">commit()</td><td align="left">使自上次提交以来所做的所有更改成为永久性更改，并释放 Transaction 对象当前持有的所有锁。</td></tr><tr><td align="left">rollback()</td><td align="left">撤销自上次提交以来所做的所有更改，并释放 Transaction 对象当前持有的所有锁。</td></tr><tr><td align="left">close()</td><td align="left">关闭此 Connection 对象并释放与之关联的所有资源。</td></tr></tbody></table><h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h3><ul><li>能够执行静态的SQL语句，并返回产生结果。</li><li>代表在数据库上执行的SQL语句的接口</li></ul><table><thead><tr><th align="left">方法名</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">executeQuery(String sql)</td><td align="left">执行给定的 SQL 语句，它返回一个 ResultSet 对象。</td></tr><tr><td align="left">executeUpdate(String sql)</td><td align="left">执行给定的 SQL 语句，它可能会影响数据库中的任何数据。executeUpdate() 方法返回受影响的行数。</td></tr><tr><td align="left">execute(String sql)</td><td align="left">执行给定的 SQL 语句，该语句可能会返回多个结果。execute() 方法返回一个 boolean 值，指示第一个结果是否是 ResultSet 类型。</td></tr><tr><td align="left">addBatch(String sql)</td><td align="left">将给定的 SQL 语句添加到当前对象的批处理命令列表中。</td></tr><tr><td align="left">clearBatch()</td><td align="left">从此 Statement 对象的当前命令列表中删除所有命令。</td></tr><tr><td align="left">executeBatch()</td><td align="left">提交一批更新命令到数据库。executeBatch() 方法返回一个 int 数组，它表示批处理中每个命令影响的行数。</td></tr><tr><td align="left">close()</td><td align="left">释放此 Statement 对象使用的所有资源。</td></tr></tbody></table><h3 id="ResultSet"><a href="#ResultSet" class="headerlink" title="ResultSet"></a>ResultSet</h3><ul><li>执行查询后返回的对数据库的结果集表示。ResultSet是一个接口，它包含了一个表的所有行以及每个行的各个列的值</li></ul><table><thead><tr><th align="left">方法名</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">next()</td><td align="left">将结果集中的光标移到下一行。</td></tr><tr><td align="left">getInt(int columnIndex) 和 getInt(String columnName)</td><td align="left">获取指定列的 int 类型的值。</td></tr><tr><td align="left">getDouble(int columnIndex) 和 getDouble(String columnName)</td><td align="left">获取指定列的 double 类型的值。</td></tr><tr><td align="left">getString(int columnIndex) 和 getString(String columnName)</td><td align="left">获取指定列的 String 类型的值。</td></tr><tr><td align="left">getDate(int columnIndex) 和 getDate(String columnName)</td><td align="left">获取指定列的 java.sql.Date 类型的值。</td></tr><tr><td align="left">getTime(int columnIndex) 和 getTime(String columnName)</td><td align="left">获取指定列的 java.sql.Time 类型的值。</td></tr><tr><td align="left">getTimestamp(int columnIndex) 和 getTimestamp(String columnName)</td><td align="left">获取指定列的 java.sql.Timestamp 类型的值。</td></tr><tr><td align="left">getObject(int columnIndex) 和 getObject(String columnName)</td><td align="left">获取指定列的 java.lang.Object 类型的值。</td></tr><tr><td align="left">wasNull()</td><td align="left">如果上一次获取的值为空，返回 true。</td></tr><tr><td align="left">close()</td><td align="left">释放资源，关闭 ResultSet 对象。</td></tr></tbody></table><h3 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement"></a>PreparedStatement</h3><ul><li>继承Statement接口，但能够提供高程序的性能和安全性，对SQL语句进行了预编译处理，并且可以通过参数化查询来防止SQL注入攻击。</li></ul><table><thead><tr><th align="left">方法名</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">setString(int parameterIndex, String x)</td><td align="left">给指定的参数设置 String 类型的值。</td></tr><tr><td align="left">setInt(int parameterIndex, int x)</td><td align="left">给指定的参数设置 int 类型的值。</td></tr><tr><td align="left">setDouble(int parameterIndex, double x)</td><td align="left">给指定的参数设置 double 类型的值。</td></tr><tr><td align="left">setFloat(int parameterIndex, float x)</td><td align="left">给指定的参数设置 float 类型的值。</td></tr><tr><td align="left">setLong(int parameterIndex, long x)</td><td align="left">给指定的参数设置 long 类型的值。</td></tr><tr><td align="left">setDate( int parameterIndex, Date x )</td><td align="left">给指定的参数设置 java.sql.Date 类型的值。</td></tr><tr><td align="left">setTime(int parameterIndex, Time x)</td><td align="left">给指定的参数设置 java.sql.Time 类型的值。</td></tr><tr><td align="left">setTimestamp(int parameterIndex, Timestamp x)</td><td align="left">给指定的参数设置 java.sql.Timestamp 类型的值。</td></tr><tr><td align="left">setObject(int parameterIndex, Object x)</td><td align="left">给指定的参数设置 Object 类型的值。</td></tr><tr><td align="left">setNull(int parameterIndex, int sqlType)</td><td align="left">给指定的参数设置 null 值。</td></tr><tr><td align="left">executeQuery()</td><td align="left">执行带参数的查询并返回 ResultSet 对象。</td></tr><tr><td align="left">executeUpdate()</td><td align="left">执行带参数的更新语句。</td></tr><tr><td align="left">addBatch()</td><td align="left">添加一个批处理命令。</td></tr><tr><td align="left">clearBatch()</td><td align="left">清除所有之前添加的批处理命令。</td></tr><tr><td align="left">executeBatch()</td><td align="left">执行所有添加的批处理命令。</td></tr><tr><td align="left">close()</td><td align="left">释放资源，关闭 PreparedStatement 对象。</td></tr></tbody></table><h3 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h3><ul><li>常见的数据库漏洞，攻击者利用应用程序对输入数据的过滤和验证不严格，将恶意代码插入SQL语句中，获取到未授权的数据或者执行恶意操作。</li><li>SQL注入是一种比较隐蔽的攻击方式，因为它可以绕过应用程序的认证和访问控制，进而直接利用存在漏洞的SQL语句进行数据库操作。</li></ul><h2 id="数据源"><a href="#数据源" class="headerlink" title="数据源"></a>数据源</h2><ul><li>在实际开发，为了管理连接池和数据源，可以用一些第三方连接池框架，比如C3P0和Druid等</li><li>DataSource作为一个轻量级的数据库连接池，可以大大提高系统的性能，扩展和维护性。使用DataSource时，需要先配置驱动类名，URL，用户名，密码，初始化连接数量，最大连接数量，超时时间等。当应用程序需要连接数据库时候，可以从数据源中获取连接来执行相应操作。</li></ul><h3 id="DataSource的获取与释放"><a href="#DataSource的获取与释放" class="headerlink" title="DataSource的获取与释放"></a>DataSource的获取与释放</h3><ul><li>通过JNDI获取DataSource对象时，通常需要进行初始化，创建一个InitialContext对象，将相关的参数信息放入Context中然后查找数据源。使用后，需要将连接释放会连接池。<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//初始化Context对象。</span></span><br><span class="line"><span class="type">Context</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InitialConrext</span>();、</span><br><span class="line"><span class="comment">//根据JNDI名称查找DataSource对象。</span></span><br><span class="line"><span class="type">DataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> (DataSource)ctx.lookup(<span class="string">&quot;java:comp/env/jdbc/mydb&quot;</span>);</span><br><span class="line"><span class="comment">//从数据源中获取连接</span></span><br><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> dataSource.getConnection();</span><br><span class="line"><span class="comment">//使用连接进行数据操作</span></span><br><span class="line"><span class="comment">// ..........</span></span><br><span class="line"><span class="comment">//释放连接</span></span><br><span class="line">conn.close();</span><br></pre></td></tr></table></figure></li></ul><h3 id="数据源的配置方式"><a href="#数据源的配置方式" class="headerlink" title="数据源的配置方式"></a>数据源的配置方式</h3><ul><li>DataSource 可以通过XML或Properties文件进行配置。对Spring框架等，也支持java代码的配置方式来获取数据源</li></ul><h3 id="线程安全性"><a href="#线程安全性" class="headerlink" title="线程安全性"></a>线程安全性</h3><ol><li>为每个线程创建单独的Connection对象。可以使用ThreadLocal对象来保证每个线程都有自己的对象</li><li>连接池管理连接资源，能够对连接对象进行有效的监控和管理，从而避免了多个线程竞争同一个Connection对象的问题。允许线程取走，但是使用后归还连接池，供其他复用。</li><li>确保事务的独立性，每个线程会开启事物，提交或回滚事物，可以保证多个线程之间不会干扰彼此。</li></ol><h2 id="批处理"><a href="#批处理" class="headerlink" title="批处理"></a>批处理</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><ul><li>将多个命令按照顺序集成在一个文件中，批量执行的技术。通过一系列脚本或命令来完成。</li></ul><h3 id="Statement处理"><a href="#Statement处理" class="headerlink" title="Statement处理"></a>Statement处理</h3><ol><li>使用Statement对象进行批处理，通过addBatch()将多个SQL命令添加到一个批处理中去，并使用executeBatch()方法来执行批处理。</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line">statement.addBatch(<span class="string">&quot;INSERT INTO user(name,age) values(&#x27;Lily&#x27;,18)&quot;</span>);</span><br><span class="line">statement.addBatch(<span class="string">&quot;INSERT INTO user(name,age) values(&#x27;Tom&#x27;,20)&quot;</span>);</span><br><span class="line">statement.addBatch(<span class="string">&quot;UPDATE user SET age=&#x27;19&#x27; WHERE id=&#x27;1&#x27;&quot;</span>);</span><br><span class="line"><span class="type">int</span>[] count = statement.executeBatch(); <span class="comment">//批量执行SQL语句</span></span><br><span class="line">connection.commit();<span class="comment">// 提交事务</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="PreparedStatement处理"><a href="#PreparedStatement处理" class="headerlink" title="PreparedStatement处理"></a>PreparedStatement处理</h3><p>同上</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">INSERT_SQL</span> <span class="operator">=</span> <span class="string">&quot;INSERT INTO user(name,age) values(?,?)&quot;</span>;</span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">pstmt</span> <span class="operator">=</span> con.prepareStatement(INSERT_SQL);</span><br><span class="line">pstmt.setString(<span class="number">1</span>, <span class="string">&quot;Lily&quot;</span>);</span><br><span class="line">pstmt.setInt(<span class="number">2</span>, <span class="number">18</span>);</span><br><span class="line">pstmt.addBatch();</span><br><span class="line">pstmt.setString(<span class="number">1</span>, <span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">pstmt.setInt(<span class="number">2</span>, <span class="number">20</span>);</span><br><span class="line">pstmt.addBatch();</span><br><span class="line"><span class="type">int</span>[] count = pstmt.executeBatch();</span><br><span class="line">connection.commit();<span class="comment">// 提交事务</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Spring批处理实现大规模数据库操作"><a href="#Spring批处理实现大规模数据库操作" class="headerlink" title="Spring批处理实现大规模数据库操作"></a>Spring批处理实现大规模数据库操作</h3><ol><li>一般要创建Job，Step，ItemReader,ItemProcessor,ItemWriter</li></ol><p>Job：批处理的最顶层组件，表示一个或多个并行 Step 的顺序运行。可以将其视为一个顶级容器，可包含多个 Step。</p><p>Step：是 Batch 处理的主要单位，表示一个任务步骤。可以对每一个步骤进行配置，比如设置读取文件、处理逻辑、验证等。</p><p>ItemReader：用于读取数据，通常从文件或数据库中读取数据。每次读取一条数据进行处理。</p><p>ItemProcessor：对 ItemReader 返回的数据进行进一步处理，可以对数据进行过滤、转换等操作，比如将一定格式的文本转化成 Java 对象。</p><p>ItemWriter：根据需要将读取到的数据写入到指定位置，如写入到数据库、写入到文件等。</p><ol start="2"><li><p>配置Job和Step<br>需要创建job和step的配置类，这些将负责配置Batch的核心组件，数据源，事务和监听器，通过XML文件或Java Config 进行配置，实现Batch批处理</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableBatchProcessing</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BatchConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JobBuilderFactory jobs;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StepBuilderFactory steps;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Step <span class="title function_">step1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> steps.get(<span class="string">&quot;step1&quot;</span>)</span><br><span class="line">            .&lt;String, String&gt;chunk(<span class="number">10</span>)</span><br><span class="line">            .reader(reader())</span><br><span class="line">            .processor(processor())</span><br><span class="line">            .writer(writer())</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Job <span class="title function_">job</span><span class="params">(Step step1)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> jobs.get(<span class="string">&quot;job&quot;</span>)</span><br><span class="line">            .incrementer(<span class="keyword">new</span> <span class="title class_">RunIdIncrementer</span>())</span><br><span class="line">            .flow(step1)</span><br><span class="line">            .end()</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义具体的 Reader、Processor、Writer</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>定义 ItemProcessor、ItemReader 和 ItemWriter<br>Batch 模块提供了大量优秀的处理器和读写器，这些对象可以快速地实现批处理任务。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;JDBC学习笔记&quot;&gt;&lt;a href=&quot;#JDBC学习笔记&quot; class=&quot;headerlink&quot; title=&quot;JDBC学习笔记&quot;&gt;&lt;/a&gt;JDBC学习笔记&lt;/h1&gt;&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    <category term="java" scheme="https://kalyan-zitiu.github.io/categories/java/"/>
    
    
    <category term="基础知识" scheme="https://kalyan-zitiu.github.io/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>网络管理员</title>
    <link href="https://kalyan-zitiu.github.io/2023/04/15/%E5%88%9D%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%91%98/"/>
    <id>https://kalyan-zitiu.github.io/2023/04/15/%E5%88%9D%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%91%98/</id>
    <published>2023-04-15T13:32:00.000Z</published>
    <updated>2023-04-27T13:06:51.939Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="ccf35bf09b0b55d6ca9e165c47ef22fbae1915021c4ae5c17b2c2d97c4797a08">bf490c8d2c5f5e906426eca9095b23328bdb3b4fa6556d344fad61b74f847d66c15a3e5e1272591eb66b63959944d545105c950a88924570f27073ec08909cfcff3296c492adca76cdbceb0b4d7270563bd44778d4f9627864d33ece6fb1a5604283600248583d3b4973e163e3ee6a6b394a084b11b7d49492a9e5e5bef1cf4af5cd32511c16d7df2fb8541b4ff064bb4500b93fb2ff8ce77a3331a05f1ac068534a656afb4eefdb76ba565743a491775150ed603c0ae8ef156ba742526a90dc84e93be61921e6709a47a743d2c66e07236c1ffb1597484dec727ea4ce12af9fcb019fba3c3baa189216c6e0e3f562246dc5aa906e221fb6ce287c7ed49c70976d77e54fc64cca7336ba5b691ae916cfca9f97bdc53e9010026b70d97816b6e50a515433dfb7c45ab18f7e2c9d416c4a4abe2b50260cd3ed186e8a723f9810643b8d2b474cf3906b04a1611f6b6cc9c48ece0c3010e7bbc343833f60c0515669a013172060c2e38f863fd58371278cfc145e8f03fe869e2df3200d0c588fa68ecee983037f3dd676ac9742d02fadedad79701ea19c28e70558b8dea789b27194736757f0c84fe9850b3165b22976d5bf71cc075809084202cf51f1ce25e6ab77ff9f68b268b283c93d3af196752851a3fdf03b50104f0339401f24442919b5cbfc56681048bf5df4c3d5daad494e1a1ff09b89bc09fc7ff59c11d901ea1149b9489c285c9911175b08b3f0bbf0e527fd96d7d7f2e86ca33219ebdf4135a55db5d882940cd4b4ff06d7959fb560c0eccdb0e94bae1a876952a38f4e0d5e580f2dc85a845681f5166b9cdd029404321949bed2d6b6ae43f5e27f495f030671fd2938fa113233dedd01e2a8b9b138f016ffc9075b3835ca637131eb193110783f52c03dd6a4c694cfc58b91d57039832c75da02218979d7e6d1ff788fbd9259155d5bbb1bf1e27ca86c57294f7d479044d7f22554991c74e3d254107554a49ef9541c1d4a94bc5781f7b49b194f188d8e4a85d18eb25ca0e7fb56f9a81299933742eb854ff4b1f61519c26477f0159cd9c1327c16b5b149b30c9694f4bf1b72900f6a2c9d7bb73f77a88593ab5150644afa579974cbd935b11c8910132b4d8d5e3f842852746eccc7ea3cdfe9c7797aad259e2a5f7013aec8070ac0831078693ab1e09be63cce57c881638df0c5282c3a6e106ef4c1ce9b381002423c533f7639b5d131b5d5c50c0aeaf52250e4b0fc7d83bcb81cd91d2a7d035733c404f0f86167a396a23c0fe230f0fffc1e099dbcd77d20dccf56abc805d981d2d13f22656f443bfc52fabd36ad7685c990253706905aecb4f7719fb6cdcf75eb25a7d1f26ceab97cb2b3827d4855afad34ecf3cb27de93ed4976727275734ab450f52a5642828006380bb4892b509de42e770bf5175b957861f25657bd80523d77696e4873474718a92d686aafe234b6fa6c279b5865979676932626a9af89d3a6207798b09d8050968160493ea95a2d170ba61944a0420c75e2dbc20ff3decb3c1dd053dcb8434321d5ac23ae89a26bffa14d25d797a244a2cd014d220c3dff645c34273803d0589e1f78b0caee7156c2076d3f286d7ec718b28c69bd2d3dc7a7a41d06a8d43f40bc4ffcfde99908bb0e627679a3c457c7dcf580d4449e643cb4b5d587a82ba3cf7054758f21acb528b74b77bf6dfc362333660c72070741ef7c159cc0efbd76fd53864776ed38e1d6fa6b8826e912f55c063d9d7af31421986ac10dc567387d848a18263b325033b00ab627983cb0eb5a1f2ed06128a38aa0fc2b732335b79ae72b1082d7c276f14b0a1cd1a6322ce85991bfd5c17c591e33e985b6251993607de707ab83d825cf5e6fb67b45307a6ab3eb3e40cd9a649807274cbcd68c23a91bae0c993d1481474a5868c99f1b31fb3b3d3da5bf588dc14565ffea0d91b0fc7051e713ada0edf1aabd8152d1560dd3ad84617365af3063d19a8e022b9fe91fe2b010c1a9a772dd2615e67c277a7e74eb6c15f67ce4f81ba74187d2ec4ce52ac39863dcff17f19045d9b7e541d9ac1074c5da939a294a796b1a68fec193e52c8ec4eb2f34de95cdb91dc2290414fb61166352b331571c8cc0d9f9947ba56ed0db24c8818c023562862a0d0ef649b09c6d4a9b0a5eb17a5cd45159b071afa925accec519bfe508dac73962522e2a3e08d56875e89dde7e6d7d4a2bbd18aed2309fb1847a2cd6ca00a25a1a7a832935e66500a220edeba1347e0b5ad736ea8c2954df8b07f293657a3fe0575cfba766a1acb77280b3a966296b00bcdbffc5b161bf8e48d78c14717fe76a76ca8e17415ece26a3429174674c572d12c4f4867d83649c1f24db17714d6dd24568edbd3543f32ac5719a57dfdab1f5c5b61eaa1f0637a34fa9679edaef758a453009eb66e1649858982e58da38af1a1b469f6d3ab36c2b21f317f41c9b2dc0a97eb1e94b82e11715858f2ad2a3354cfac58e44d1e533c6e4b59f45467fa22cf90fa33e97386a2cddc961693451a2b6e120094b5d4bb09a6779c68573cb062591225eb81e46fd487153ef258a011e0815506c44e95b8dcf253a9084c4d1c7cc92c42298713aa4094ae6d11689f5d819bacc3a5ad19013365ffead5f9c1323e897272921ae0b4a6d3f309ee9331294ca93dd1c2f187e6b0f4f008ddbdbf5f0add9b05ee91133243e19eb765a34e0c5bf7d18c77860ace1382e876c2f9fe9c40fcc9c3a42c27ed5442e674ab0442baaac3c6bce41010c299603c0b7564f63ab5b4ade8a820fafbe9fe4962e6860bafc6cbc750289ad18112833c4f4982cabe3e829db31c5ae3f1b50ef848c123a09d5fb1faabc71e848323e14bbbd37726d91d811961f73064aaaa08b6abed2d5aa8eb8aa1968ad646e30dd6f697b8f9c6f8e9207cf275094be07d3e5d16c92849d60df887854d2438245da18280fe8977cc4e382b8e9a86a5e66eb4a04303effdf826429957f42f9a96da88cfec36423924b713a5fcefd6e25c81a5aef9fda83c4093b7971ae68d2f1e6336e92f206064242a77be29c88749db8651a6dba05801f79aa9a893796dc4bd2200ed4264a295459e358e6da97227e1cbb554386c734be35580d6ca0e90c8a5416402125496310c166017033f1a34c5265d8bd70ea371bcdde51390f31193c635a67d346659609919b4e578bae061b83286750627bac66c98418730f795d8b59f4ea8f33d7b1c74abbfa8b223dd3fb6a605ab1b08626e0a5464d0df7deb02196ec587c9c858cf8cf5d9f795fffa40194f9a1a5886208d48d86cdc9ef5e102bf6f39435aa4653aa6f283310f5381326d84bb95693fb5cfb5faa4d9de564ea0836174f9431e5e842038d88ed9f8cbed5ed164f7dbaedcc4e7035d7eb0dddea665297b0b8a9d5b32361c0b16fd9e43ebc492474464944f079a119b9021890ea3fb84bc19684343783af38cbf848012d10392960a89e1c9b850fbfbe27c07eefc76870c1082d9fbc9415e9b261f966944b18ca694d348d2c9b13f25bba68ba534892f5934828c1b0b640fd9cfcc9dad4ee11e2425e07b4c7d6b3ce789256eceda466bc26885dcc04936d9df8c9cc1bb54c9113cd1373ebcaba4cd38cb00b93b31cc840db50c8d946533301be2faed513854b190e0deeb396ad37cc73ce1d60792a8308301852a7fe6be84c068c79c527686781d4e219f305961fb0dfe3b019d01b613799f57779400625457c4fa3949fa0c6ba67bf6bec90e745a038ad74362c0f3befd137ce2ec6b6def5228db7661935157749ab6ac5baa7ddab2aee72cc7bea7cd1fae0910e480a56f4269d32d33f2ec0f869471ad0b7281e419a3d678ee96c80d8e0a5d90903c95f944f0ab1f0a0c00529f40e3cf3777731faaebf3c90f37e6d32bfadb40c3f5a03113deab42c527ac8e36932da62ae4e5215f2da16ad83347ba120a17a2a0eec0e43596bbe1339126b9bca34ce741a29c809e357963102879ac6374348aadaaff83bb143a6528462efef0ec6591a7ac327fb6bf4514dbc26693cb1f28f67e9cf9b604f89cadc66462ebec5e476867c35643976bf2e3c0332f9c67f71d75901c21fd7ef9dc43f6e0fe257cc7c50969478492d2baaa5625a33d5b48897e3f5603689b5130960084fafb420a9d4fd959ddf9191e610908d0c33cdd3c383b6a0b9df770c6bbc05a8d653a79be973c71012d2f11a4cc792d3b15c3a4ba5b1a0843713fce57c90d4e67283ecef332964909a3aadb9e2ce74fa888ef0e5ba95af2c8e64a634eae0952fb7d9e9fc521f9269bfbf99fee27b19dab8c6e2542ee54dd808095c0511476db285460d28fbed5eef12ce0cce14f9d5aef7c4f211530faf0399503c768076c23d6cd7115b969d171055ccdccc2116e459d437dc7afdd2fe4d8a4561aefe3669beb1b5dcd57cb3a857ce497d3cc790c3ce7493741696d228524556eb35ad8714fc3777584b4dcb63b682cf34328be37a79db839ab1e8f1bbb8fc62bce98447db0f3d24a21b3f4ec3a3e6c4de596cfd16d861b564870363a2ef458a014f3d89fbdbee17a5c0120ca1cae872bece7cb9423489a811543e25141a062e2b09830ed5e381a294c375b77cca76b1e4d078e3c77d4f4be8e79ba828b81ea7212a0577da3a096fec4cc3390d8d8d747088000f899f00d3a2053c6774dcfeff71a103b8e3528f9b3b29d42342f26fd8ce12d049108dead93b80930f37df16f4ffc2e55e55cfd37c70ccafaf1f2d8c0be7073fb6b92820ef9355f91f16c768182f151d22cf38a30ce9eed07ebb0169b4a9f39ac47f1793e5923670a2f10ca57a33eedab112f433795a9f3c68d0c2e3322c6d053e4abeb4bceed0e45123232b624c7d5296110c82a0e91a56146ac093ca23dec1fd5d587d04453cae9c3f8d91218ea3ab7b80d3aed681d05414e633a3dde9326dff01b38f7d141dab76357d7eacc221bdc2ee0847ccd3fa9c11a142af346ff8ecc9ba29b2dc91de50fec909f5fcc11df880f64f55b6689297ee64c9eec7628447709ed0c24e2b7baf1ae66d7d6fda1c27d076ec25eef1fb74a6808f8e1dc5c5a5b3fd402f77e06bbe49c769b0db30e405990b5831c0849d1a0a2067deaaa02453424d4c49bcf4773bc8e2e4b4fb776b61fab12fda1815c4e361aee8514ccf745fa29de856cdb18363a43e3efdbfd9b4a10c5e96df3a7adc71017023ef8264a98c90a4271c43347b32ee98b49d3c607c7a18995734ed073df1a4097dbcf0486f3e48e74c353e34765338b1ba4a6e5e5984907a0b6931ca16a9765e751f4cf634f84f0c0616eabe7c4800fff15f8f4614b253174979b3fa3183e04086018de8392802a583cba9ef5a13aab696ca2c0aa558b8c0be0e0dcbc8c5548250e04bbaf3fd2f12efba40fb27f694aa1ac109f52408ba22cd9b15b269bf6e8636a4632025f2a8a1e16f3f6c89888b7cc15c55c7eeb878c8e7d0d5bab88bc8eca2f7708945dd599b236f55d42179e0b2b081b53acb1670ab895c753b6a1fb18fec5d29db68a345659ae2114a85e870eda374c0e17940d9f0a2b523d8bd119ba6839c025791738a7ba991a61ad91f5011cd62e5451fbfe107541ad3633b69a689daed6e3b61b10c23c3f6d3fccdce1f99457265847e021f0db5e7569df06b99c15493ee37cd4f0828107c4b46bf472a9f55b50dbac9a25254f59567c9691047e7b3b81fa097747a5b85195983e076f208725b39111fc6a85783623dd9df555beca49db42d38ff0ab43f54afb0ca411ad42b8e72085751e66568a8cfbe40fe03024f96f39a2a8f14070bff5cae4ce5fcd641aec8e89b37bacb052347bb8891fc44899bcd473b0cfa066e6e5f0e40c672b2c0139223830ee4887aa1e9e1c2931c20a8a887b8da7f424760896e992c041543667a82d0634882b5c8ac1a3f7dcde296a9864be2b8b7b466ec4df6143f6c699ec85cfd5ca08867a4efb2bad9f0d9cd4b097491e0208900e125b24c2d2592ee4e378bc5de1a2a3433f8810ff50bff45f6a547ae6112763e6f9e414bc6aac4952800b37c775c198819aa43c2365d9255dfdfeabc01db285d880c24d7d40775a22283c750380489c5074e2417a7d749c4f036b59104228b568e79108344053f6310c2f6f01def5761550cd298dcddb515db4134ffc4889a9db8531177c482e92c6b40f598a83911179d47c8e35be0bd4c40788c41420363f22c9615ae38d0b9c232ef6dc68696316be350abc4846abf95dd755c2269001bcc99050e543f183e98baff3eff11a3700d8389bbc4d3d5351f637ac531e054192b91024b066acc933fefba296297977ace08b6d91c303045adc07bf404f38ed879a753dfeedb006541d8eb7e477ff6fda79eacd3f00f954713ade561ac994895f03fcb9f5469c5733dc7df9036149ef10f2f5cbae3ca5152b86a3f8adc0aba638f72d481df656c7aedfd6cbe262ad95184244d0e32afc543802310674abc56db9c8883848b13cd4696230ac184675df83488a878bfb4463df36ccd442d54bf829efbd183a3641308085384d254cd7d7e12b4ccd7dec7eba06868a0bd388a99ad63cf62fff2d3b05b8fb99262e4c595636f1e2b2e673209aaf4fe2e2239765dc1bf1de44ef5e5eb2523900370c6e908802af967ead54bc18e4852f1241612b2c34f006a90f153f712af6a5dad3ac97b5a7616ca0465a75dd6fa8e0ee4e23b2704be01756d34f5809dfd61f43fe9962503160b6b8ce9a3f8156800f4d1f9450cc210e5c39cdd54bf55e105d115eb910452e28d067ebeb1f28bf29e2762d58e7785f0d35bce952c645b5f8392bd0036b515102b5b9838b51de9bf384743da21d1a85b7c4d9a1e52ccb4dd241d1cb2828a42ef237a3dbfaf555c19eecdc157aae6f98db8fe47bed656f4c10e5bd0c0e5315c6a9ec25e5715edfdbc1f04e666a101368f531b2a6fef2a9ac1b5f7546796486ab77d868b5046b749bebcb95ae554e42f862e7f36439a68c9029416bd9be445b894a6c076578a829207d863d42fcdae19426c8683a6189c3439dcb68f4d9ec6f41f3586cd274ee550865f16b4159fd9a1c6b65267de36357cc512534b8573283d5a84a990b1a78b10e5f2a4877ce6eb63f009bf2ea689155ff7cf640bdedcfbbad811ed2178fa09b1daaa132e906730bc24d044f55d1da02ad613fc41089bc734d9d71e3e6a1ffb03ab551e699bd0764c562c3dbe5da7f3b8c8302af5c2700002fc3a775bb606568d757eee8498c648a6744167a61e4a13042c31c3186f53e9e3452851f4489069866283b010d4a91bb2e3f29bcafb4f1b8cfc702b7d5115137844523a9c2c665b6ca6419b0358ca008e24f99ab00292c792d7f05fb0013c00ea39cfa9ab1c87fde45bec2588d8fabd7ab80ad925c4e2a9b0ad3d5b57377ea132da1279d642c637ca2e6b5aad813c7f565ef14e42db698788d3d0a614cc93d05d90c95ffa1985c35056c3f62620345b49962f8a4a1aefdd29d06e844426fc81db938b4276f42870b1c40d7b379058576d226e4416fadfc7216e18ad18ce35a4e0c1407833857383c42c5053c39ed9e1a8dccb70ae26131570ec530c7bea01852384a38a6f8038caec9ac5d141bad949bc540484cbf25aaa84c9f2156a3d850db228d2c6cf5c630ceb087738a869e505ac8b0e0fb67acbf1d9e18d3b255544facdc7dc67d419346d390a1f7ac1fe39f99c977d46a48d2c96c93ac81a8fd8a43df30f9904984c5994eda15ca691d6900e46e7203b5fb98f30ae9806d5b04ceb0d997a6df1c34f95c9e48fa499d2e7cc6f3b9bc1da4dd104b3152579d4a59ca6481cc4a568c6e4d0cf5f7da8b7e43ce65adcb5dbfc83da03722e186204d129933b7631db384e817ffa6351c87cfb882fe4c4284c12c9877a090e1d2c5246270bcd51ed3b52b9fe9cdd3cc24cb6b8cb16f59a886cbba082d6643388057e4a27d6a34ff3783b561efa147c4c9bd4f5bc35343e79fee8578bcd69e4f9fc7e8d25bb4ba2d0871be956f22c72df812339dd3b8681b126a55239dab9ec8f40361852c3f282d08871f740a15ec309ed792a994ac4583143c06673a8f7f3e72b1f33821a00c9cde9507538bcb22d59c529a746ba9b5fe44dac8ef3185260a50d0122de931852d9b4dccd3a6ad7e8d85fbf39327985e97182efd2236b5345f5f4c2d4169ca6375526468e20dbc3a92a98fcc812d251887b4930ff7e819db8cfb247900237e07bd558690879d06040e5757d2da128df10d4c7d65ab765cb534ab1f84bae9cac0dcd49cea9d9bb715e81667537e8656d154f63aa345fc081f0a41988ade094dab474eeade2433c19f1b600d590d6fa0dc616ecdd9e5dc4569245e6ba02e3bb0999898919b9b8c1c828b8c358b3141c781b1b6f375e0cc45dc8cf3ef8c8237e4a7a0c84baa7ec78af573f8bf12131b5fb7af031ebead0bbeb20b52972dde4173ed6f9373d7614032641311c802b3ecdc16422b8422e4045cf686ccb5ecdf8ed2f444dca0621a36b0593c847ca7b04954d8af7065699e0669ec5b34567e024f9b0fed859a4f361155230c51fc27f5d5eaabd91c13f93156d4e7d5cc0f27df3fe8a6785b71a23e683ca0dc5e54d6212d41cf3b9e38ad38255bcf8dba20e941bbff4ca3bd02ce9bb9f7a8ce6d8668914d66a2e4f753babcf424268e66fa05935d5c84eacd8578c328377e0665c8274edc77bd68909161a5c2c37ee806ccb8b7a13608a2b0e375f9281c0fee4de36e0d9f485a80e7fa9d0bf9169eb0e71bb9d18993277395d967d63e93e8d1a8a4943ee5da394e982c893c268bfb4a502e39f896b24f3228bba7b8ec826daeebbba4f3101261231ee450932704642f612931e13d1066866dcc973bd9d667947edf792b1f764bf9da9332f427f50ae2ce6005e7f2dea187437da28ea2be542dc01184ea534abfe41926df7bb917c7ea7eb97a4c4a64a6111325788add22700551704c853c3a476bcb6872bbb3964e78e145364e07c99a72fb3d3a8df536c9faabd31af689a554be0b3ff04dfa69c135969ff39d580a0945254852003328cfca3aa9cb7fb9ecfae091da6807b921bdf830b340238cd401d9a945b71e82ace9a1bc2cb9de0972003524e9b01ed647d212c7760c86eba18db1fa9933049d453e10ab56ad5248fa5826358a9a0a28b2639c3cdca26bce8f6413bbfdefd3cd2e065b9fe04658526134bac25ebd3e9773b6d9bae78820a561c92b650d3934dd73e54bcf2a51cee52c1cc8ee9401f55a9e30cf4c8fa4af121e808c3769bb7ffcbb1e3cfd25b498a99d6fefc2a22eab3441fc2cdf6f6a4c45ea63c35f6db544ac929f46b355871bcf3558dabe9e9b46a169ac09b20a0ed2bfb69f2b38a4c54c28c32df7a101f48342003cc31d21d2ad38651ebd3e6502c81b64336d87be290f0c8fbf77cdceec2261f6e857285938a0876ad836c8f9d865871713f47958ae37a1b9944526f0a4f311afde4043f787ef3116f0ffb97a1d1c07d7cd5550f9a0671613d19367b013a85b407041e0fcf8bef13c87c33d34e25909e4c8c7bacbc5e585886341b5b3dfc1ad7309763707f4aedc9962d096bbfedf5d41cf99e4c549b51e05d92496053cdf7ba41a7d5ecdcaaaf5e7c165b466e82e2f46bf6c5224117d402051f146663b24dbff9c0a74943bb77d0cb70a7c312c931f903d99957f396c2a29d8fabfda23e67c6a01e99bc3dc9b848bf5d5e5112c3e0b68bdfecd91c7c6b783b07d908ad2779f19e6728f4fadcb87cd4236ac38d4fb2829032248cc5a9326182cf942739e9915e0d143d70430c518de21d1c4045af631573544eb16a6b01429995e7487fdf06bcf58e536d709beb702617a7c5503a4a90eda1860ba3720a5f9424d2a9124b495ca88dc4bf1741030d8441ea9c5bf85f8a3a432be0e9cafe2661d5868b16bc0871c8ed13a88ab30146573ff21ababca2411d4523555a86bbc9f80c421ef0b9d6aa6e780ca5acfd3389e9c15039ce60e590cf21914874bdd27e18e5cdc3dbec49e5e4f7cc31cf737837a9ce12ff651d3be5f3fb12e5fa90b62db92dd73c5b1ebc2731802eec195330b112ea329f2c335bdf9108588adec6172b490edcb140966ecdcf7d263366137e94a5f9e46524214f052360e190f88b9666376b7f5c4102014b0c392b6873de61b5fa1e07d2748d77796b620fa7e7d2d970134888c206b61a8a2c6dd2fabae85b702c8bde0bafbed97a93c21fea096afd7498bb23022876501768821591d5a9039c8ace64ad74398be2befbe40aba753c1997ae81e8eaae08ac58a0f795a3568d2a695e37c14d8e46295b687df6309ed37a42bb05e99d00366342fdf1e3ca0e422eb9082c7fa71355045ef7bd903614361f1c9f92de67933f953580069f42dcf9041ef188856507090b8f4ca1fa1202f3e1e86b1e8f61a2d3c7bf82a74b96b7599a4a8675a73a477476f1e6fbdf1900a04b47ca2c1d6513b745d62de57fb5f0fbf517c158f854b3dc90bec727ceda5754c877563b6db06eeddd965d3dedfbeff245f56f234df5c68bb00c94fdcfcbbfb499339cd03dc566715748dbc02bb9639f734e79c0ff2d5ea93dd52e95ca0cb95de56e58cb9880b6a05d4f4adebbdcf0a0e5e08b6566236713896b5ed14207d79bbe5f54c82a2edc93e28324b197cee10f891dba16f52c7bae4542b77fb0f39ff36059f6507697e7b9d3f12bb4a073833714c6d34358d5c6f3b13afd9c9491a96e1f84f608fd93702b609c0daabfca6f2168d7d8d0b65b833e3b5d60d3d5c38623c964211ccfc4bdc6b4fe5e73761173a9dd04b42e8bd466786cb0b3e767dcf62d0d122ab3498efe51cc9eabebe64fa31008aa252d2a0c682f5bfff6640d4ffb83fceef75bf2fdf37ba1c8404f18819d90904812a31f9468709e61439394a848a385f58cab277ec2d7c97699c608be995d7841d033a4499ccf05bdb988a77a8f93d677147010792767a23e6162418c4761f57f0f076ba8deb932e84a56e693b61403c37ae4339256359f03180ebcbbc39d6d0edf63131e443155042b8318263abeb64b3532fcb1dd6fbd798067eb02b1441b68f01b79035f0ebc37f5e7b98776a486715bce202ff1d7c791afec3af782eb2544bdb55bb32b483e2110873eac4e7e6a0615835cf5f0c07896fd6f285480b8957c12639ddada77ef1237a0d173e34764dc79fdaf40bf59eeffc2637aef377d282a89b4893b94bd131cfab0ae4208b69158b67d07e55810df86a8fb9bf599ee0f8e773e37286e2141c26e5ef8d4ddf7afd6ffd63d4776b31c85c7ed3c11ef49914b515b1668f2f98f7f702897bf12206233e94d5bbc926af9cd8c2a83b94316294ae8e45bcfe7d280d33100a75cd482c4dd405dc7e0d8939d53ed46806f70856731955f7b225065b6613de7370b10b608b7bce87a33f79fd32c63a00480eb61bd2c3e7446b645bd7116c0552de336885ad10bbb934d63cdcf103909d865c55f7e2731df5d5842b9ffb35aed76754ef7f4474172190951880ca1b1f33527447fc689d9085c807bb19c7da63f98bbd201ec5ff3752b9c963e77946acc45b42ba7985b3da2e3d30b58780eee00c615ca972e4147acd21a939363290e18bd120a34f8ea9b59b5253a886b4425fa73fd174fd2c4b016adaf1fa79ad170455d6674e372b2387f1fae5f1d17b624bc85f710d049b3bd84cc012bd3d4251b9725a50a314aab898cb50aa82eec7ed43e02259f2af7cde288b7de83d2b086d5db39e3548fd86211ada87b3a3086201ed3abef7828775387b0e1252d753e6bf71cf2a071ec8b64957fc6065c0a9629e79f7c97212c8a70cacd980c0f4602fab03d6abf628241d61c7a4b6f8c09df8237d724c954be8909d8438424587a143b5ef5cb553106ce654751508255ec5f5768b6c8ec2bb1f8881f5fc041bc342c6c34c604375644063b1ab426ae4e47c0f794eddbe0fa76025bf6e8fbf29aac8a6dd94f1186493687a0ac82ebaf7867207f8c2eae7241aef8624f978a7711a0a9d1dfbec548f947eedbe08b35d852778ad79f3c66a1d00b970a875acc8bb63b279ab0d0a4ec79e7f9dedebcac14528a9f4113292c120331281e5028e3456e11beeb5e16c124d7c12eb35daebf50f3016706dfb7d08c73957d843d55b78cfdc1bb8542731df13eee89926ab0c9a2a719d3e52618808d0ac138d96601c901008f3d2bddff6ede1e9791e87cb1b67e6c2d1d99c10a317af1f8885eb43fb89048d8acb69e3ee702a4a2dbf2c9d7e5b24c5f066202fdb980e21391ed547be94efc2cfe088864f01f287d848648d9ed9f39c32e6f7a77e64e110ad7ba24905247978a56791efd1fd57e6549ec4d7a26caa8d8bd6a534d52fc85527da923d6e30cba358abf9235a6cdeea4816061a4e57aca9debf1de94fcc52e095f9615194b29c6a9e5cddf25fd3f125e05e140b940db1f78b4647611377f121bafbeaf9af517e4f4762ffe13842abe4538ed301c5d435c9ef6a5d08a2b1a13f29b86fdffe7bd127214e6bc2025012e550c40596aadb13b0e70b29a03919bb3a0200826cd4fd2206b6d8b7416a77f7a43b0197492422998daee3669ee5689b4919dc2bda27c47cc4699cc3a3cf875728e793c90d2e8d609841e2f7905bc24a355a18cd6b306f31ddf1072bb904cd849d3188e8f3b46df5e872ebc9e21755af688497f4f53216fddeae9187f1aa82793a22244b7617effb31d9b4f4a677fdff5fa7a01fcfc620d78e195508dc8ffe23f75b19826bb3f741c26fde24676dcb3e3c0418ada77e8dad12f60d4b995e4e0f503944881061d1894db271ca7971c70e5edc047634667c91f2fc3ac7a96e9e6a367ebd9c80b307fa9caec630311213d47ba1558983344632f24f6c0c60623f61bea2d3b554837d9f8abbbe55f531bfc9927f430258397ecdb030ee5e9b519ecb3401938a66d96410cfa3e82009416568b17b0e9ffe84098bfdbc70a03582553ef7a5894c30b11eb209c185fd1541a78aea1754944961554b77291ce0a6ebbe57c0e06ba9e4439f23c15b1291d180757a2a1d50bfc2f7a1e63a02cee60101aa0950cac31c4522a379879cfffdda41da423125eb473680ff09afc1780166f775e84900bff2652ee4b192b69965d1bbda267f27bd9e7eb016efb7027a2119eedc07a9233cd852539c88b34bfc990d05d8b0842ce9a1ddeae951c249b6a72786aeb354479e9e96ca2faab5d07b4095dc22315fdff18c6971e5ed9d33f7bd8c22b468b89aee3dfc4a0a1efc8a1d2869415a0ad7723c1f8a4871ea50ff5dc07b7f0500f7b54e2947c78da6e73771013396b63d3e22e369e60cbc87ee9ad7853e25828d14f92998512a08f7dc8b8d76fbc8f696b1e19074b6789336835dcb3faecd6a78d31715f7cf04d310818e5e5d20e5861e718c5b3ffed6e96a024a9ad8767134be8e8516dde785769e0ab7cbd3595ff420ee61981c5817785ed03564e3f6acb821071b0879e40a5ecb4c3d520dd5c2411042694b077b8ad54b609585da1ff940e3a49cdd63809b398a8df69c38c4b3283fe91a4e689bb4f6c15b772dc988870f48066ba22efd3658f784c3d5b09ae4e785ad01431ea827d6a5643c2238739dc02f36d8a37da07efb11ca5c4eb76d6766b6a695129bc04d72d163e88cf9674b8cbd85572bb719117e47c32c37dec40e5a663ca4605e1d464e64e50344c5996de0dcfa179cc379c77d359431a0f38adbb42f33d698cdbb9ff09c15f0decc40b48147fdc843d3e37eebbbc329517c148d68a22113d95e0a9c96800f0afeb6eba268a384910dc17f6ce695c21579191117fcbe3916d3aae2596b386ae76f2f4f850ad6361c17c8632bc48dda58d7c6e977a441660cbd023f2d2b16fdb5332ed3946709a2547af9382737f19b42424a32a1f0cdb89a17a0593d529cc028eaff03e5ac474762268fcc11c6c36598cf495c67b0dff4b756a04458e2e4df99e2e2b12b6ff723718d3c270fa55b5a54e9a4bca2a96ad8cdf36037d760e6fa2d72af79d3e1b5a7e39cf0d25252203c30dbd75e0165035e47c7594d85a331a2f53f3c1091f85e9d54c7d8d55118abd90233a4927276dcfb2fe12a4b493761d4f31680cf3cba20b4ff87496898e90a79dbef93ca1a99d7716ba319b21cea87ce8882533d382ad5ed46171f14e4a8ea88b49928f82032ba481a27897b3a0b99e053f27ce42bb46a61adf395742bd88836786440f437e379a6c08ed42cf128257c7da58d5ff0370ad69a136d5343f1a9f02a688e690bcefa383422403fc918f0483274837c53d7ecccaaa49836b54616764908e91e90eca25f495d2646537dc5341a1ec1c0967b1275a15bb804b755b104fd27627b58fcfba970ab368f888f13fa6a71cbeade0943f15f5f85e1f140b31f297899a925ec3c8d035dc7142ef152b99c47bc96f47e98fdb4ecde6df1f818fc6a274575c73c0a5f45977151c1122c1b6cdf75e7836ce262e6187c8255e9092d594c7df20e90f966708f39828573e7faeb0b78d0e85c5b9c5f5aefcc0c8351670c62bdd37753877dfb9f46dc8b65caa81e75c6b74edbd697883d09ae275ad7166663a868a8e2fd6730f28af5e2251f3d595f5d9aba86a1fc4a276678d08beef3fe5c116166ea70b1e746b6244dfc2d6773c3cd46f12acffb56260617da506409659342bd34f8ad62648908819f75b238f717b7b6df1de7d21e53b48c321e70544488762a3824292c8cbbb235d78c368c6f10f0a9f772f1aa72b811336ff019de24f9604b97e22aad3586a33eac8a89157602d54f9564c267d0f3f749820f6b35b32889bcd8ddc75632882d6a445500c6a752d4a94be4289c32c632161a8b8f951e23acc76172c36eeedadd85ac7969a7727f9fb65a5f5d997d67b10265a562dd8d8c50ec4a721110e10822d0fcde937a1155fd2741e105331e78db7e16aa7d849ba204410d1cf684db89b6978facf7fb736cc53cb7038e810f58e01df5fcbae78763aa9af7e557365dda6014831471341f565dc58a7819f631774683fcc1721bd8441bc0f516f9acc41d21ad156985a32f20461ce5efcd950b1d4eab1158d70fd0e9aad0c3efcc6859a2edd1149a1ea8a3b7626af294dc003e17af55bbfc7d43c5ee960a7884edc7fc46907d3671dead3823b131140a1e8b356a9bcb182259986cf8c48aab626fe09e49e124de831202479f24def9dde6d92ccb8ecbb86594f56309694d6db9119b1ca04a9dfe54e7a4b00969919d7bd381baace3d9cd221c1c5c47be6dbe74328f5d26119cd0687532073729582ce8e71c292c6d5b028e01d08782cac5da224c28c535b6690f584fd31ab66bbcd3cf63bf9ec92dc3c7f347d6b0b03d3aa93d3201091472fe62b0a74e295c64eb050d56d7553539082d4b11aea08ea172d09d4ae4aa24236cee6423ce3179d87f24f9ef8258df2d6ac24851919248f22f0bcc0ce7725fb105f4f6888273b735d256cc33907d0627b9e1db2cc989943187ed4f6ee398d51a9937b845cc9ea02a07dd53f150dbbd9a99e943256f8f1d4388cd6c02885c25ec9bac5dba2e58de1e4934b4362db4d919f4f71310d1dc24845abf338e03c88f44774ff21403ddb100885242181969870335c9cfe6faf9f423530cdd8fbae96def1fc914e95c9388cf8afb6143c04611e56f4b8fcd441936452d88735f50b651572d48d7d4c227c91f0d0a385e6a0b7a7a407bf8f3dcc66d320ab9206e6db1e8083af21bde7f03ab1c68ca72ab8113983dc9951626983b9d1d9ab2ffc67593c51d0c197352f082e8c5a3e83f261205b3cbcd34b4d61cd8524d67f0ee33c9aca437b6e7280e66ae486eee70f661eaa1fbd7a228c3750953d176b5618bedf8c42a5ca086334a983557f07d47744ed58929998605da266c10116f7b55d1ecda84c6638e5f23ba6fae437aa6f65f0015fdb149965cecb67701386d23bf96195c85bfe4069a2513595da2828a810293f4e268d0cd9c31e663d917e00d872c03852203a7fbd45db77feb4037fe3f94b59f7d00b55a94b8b9fc82f85adfb86a417150a7cf2a2817d98500a2b1f6b90dedbc7cd86e10a291a17dcd3856ad3f18d6bde101bf737eaf7ed15df37e6e4180000b21676ed29957fc512ec8e81ec65530589d5296ce8a8d5e812f3d7919931d9ea8487aba1c01867f4e56a3fe61d06c37b20baff4973ae9adb61011075c67af1492bf142201b1c0ae167c1612b61f39a7e82a3f6cb51dab6d64d8fadf0ae6ce568f06a40e0de16ef7509cf4c42e8b5d8858a0ff5920e00b7ab2c0b0d9d33c09608918c06b67ba231941a1aad3a35a3a620d09eeed10d75cd6c984741d937fcc7ed44827b7cd7082990ae8ab109afe07e242c99e8741ac40665ef02eddf1494ba84808a1b3e1ba1f9d880a2f50de88fd4cb17f0079bfb7ec4c748abf172dacc6c0c79bfc57263ad46db75b465d506e8549f5ec7197dd57dd65953483032c261c0b24447be805cb2cfcbb6344c89069dff60d8bad389bbbe361f04db3ab147099fe0ab9eaba6ff944bb9be958a15be73bf7b3643ffb94e0f1bb5ee3daa4fee11e4f351aaf21e6b7797e7475766f4f14af9f202c45aadebc9c2c02dd6e140e9720da1ba3bc8f05a1fa9b9386f4c26d8de5edb39367faf7f70a78d4934e1a18da5bdf162b2bff7691726db35c0f9e081970e0f148341d5d64bcd58c42c60e52180755be69d61dc4bab52b62538efce69b8fa96b3eed7243308c75ab1c3397fccdce50c919b03ebea57df4cbebaee3b89e7c8144dc9992f3c1228585c1cf53710436cc6b40250a1fe846a6aaed1ca03873ede750af1d6b461279144916e6cbd0330de3db3c74d30aaab961ebf57ff76f68ffd3a6e677dc5fb69c4bc07665eaaf296d830f5dbcfe624e10e10a897b9ababfddf0b7b3df38224d943b827d24f841ca2fec79780ad11f48b7e7d324e253ff8adce5581ea5d6e404b844cf3c27401d0f7edeaca1ac2654af2317576fd85c6d20ebdf45da8fc693802bbebe2761c0f0e3beb034df96b1f22bb3a1403e8b7bf1d10fe4c17c24a366f5db2e4a9d6919d49fe01c95a5702d4241a3d2698233481988b62c1e8eb21ded37a41ec9489112204eb26417a01c9f80b74a2c0ea6981198adbd6e19cdf16a5ea9e8c2fa214222ff617e5ffbd3df7919187425c06fa76c121bb1a60bc7b8b44b6e3f62339716cf83f6fc716bb0847ddc2f45b96744ec38ceec21293ee915d54138c3dd75c3012d044ec4920baff35265f6ed4b7933a81fdbacefb52ac82d5fe56ae7da7851003b90a4b89d7a3b5911cf183a168b21dac31bdcc6b60d7e96c4552dcc3effbec8281ed4be22985b284db0b32e3bcc53ddfb6ba4222327afa7a9239197b28ef2ca3b5e458d75c19a3c66ad723e2409936f5d3dc6674af96c80d4c51f4643cd48118fe555a958d34d6d3d97ef85a426f4222f7a4a7522b15a6dd1b18a441f4fdf164f6ca01378e5be7567af4f2115c3c934dea18b725c43bbea1bc6ce7399594948760fe0ce3d133cd513a7bc2c2d7ad6b7f932db099f8c6c0b7bd9d2d4bfdbabc5bc93480e97e4368ab94376114c546a761bb7caef5ce981d6006571661acda6c858591ec12913b4488c3c6380151ccc6c16e5db0fe5513e4bb91526500b4ff60eacd2db1d3a550ab6e9da9a687c3fcdf6b0a9c69c19570656e839a1a8377c3f0395a07205d311ca721acaf5f151c41f76f2d1206146303be9224d672f5b0cfd6c5c93c78857c9f52c703a4d5edbabe7fa9ef1d6f598db71e2b08a7d720d3ed0f8e04b0fd2ea014ab75a6afba962db7b5394160cc6ef858672e18075a8966329994c271a8afed29e6793e3737f771e91e0c015ce176349563117329a346f0513867ada05957016de38e01ad92e6bc93348cb71bd8ab2a26fc2dbc84283002c3a3db380367f46568c4f6a1d70e7e534ecacc98fbe6d0e5688b8e576ca2129b3f54681e3b04ad06732790cbc6ef8ff4f55ef4440d2f8a20db7d8dce01783f4223857962448e5e0b3ed0e9c8b07ad9fbdd1248345926ca9378286cc1404d505b31e944d8de29a3f07d468dae2bd2e194b9f880e1373c4d3be9e271cc272bd991b7ac4c8c7c487377754a7245a4ab538914fdaae3b2dbe805d5c0a84e116a8bcf782284f905646e9f2a3e54eed9b091114452777c129b7fd286cc6580ed81037b0aa0bbf61bea8c36bacc3b568b134799e29d2f052abc3b6ecf1d1ce4cf8899de6ded2035fadadc39432144abd8cbd814a8290954a00341a123b4474b80d07cc393353aba78337eca838b567cf41d23ba7f90f950fbee40056e460956e11e5c80390fa610a0d6df82327e36c2a599ec893499e9ceeb68ff30cb62641ce7ae2fbc3fef11fd8719741ff7e39bb0bfab5065f12a7aabfa571d4ffd939ba24a404b6f711a90cb3a47f10ff3eee88b77727b4073fef3fa9c14f41076361381970096267d13bb6351535e031c7eca0cf872d616f8ad791bc91ac2b4260e38de9400bec5219ecfd72da4ec762dffb71b6d91eff99de97f9ecb53849e4d9b146fb4bee506d788518a411d935c359261cbb884abc7bc7e9ad89081bb03428f0a2a756291718c84909b67cb67c44f3c45f6401ae3e624f1ff9a4e39fa08606a826b6c7f059cb5c20a1535d8a379935a57c16fd6fd88f13ba0c6f008c24ddde616b721bc94bb42455d3c201ff6b20df6640dd501f3a242060bd67af484e5f7241d06898a5d35f8e77d3e3c988e0e072808bbf3a8c38a7c4ac3d6775c986a3180b0fd6016aff0a27bc824ed8f0f392ba453dc147fe4dc6ae3d60b4242e106fe4bd2221410285b70e27315265d1d882be7674a104532383cf4e190b4433388eb4301c4ccfc6337abcae3c023c2ab7ebcc88371a9c5f8310edbd712b911fd7fda3479ef8ce49441f49a68e2f0e55e92cb7b582f315b3b73def9e0f630a7bc1466e41198f533470302bf5f72008cb4e67a8672a3c98a851065c7351bac87a6cd9cfc3ea9cfa89035db9c759a5faf09d2dc49d362d5e887276682b7b46a5621d607a8e3b90595e7aaa836b25b2529d6edf0bceecd47e9a424258035a34d493059fef3f3504bb5d344471b14ae5ddb32af5adfaa7698e8df9b28aa440538809a513f2d78dfa8693a1dedc04902614e5f0251bb5f47fca22b341f4e30f0ed09170a40b3119d770027428554474b94d506efb0c42e0d8f86282dc58aaec07160dbe2a51286ad69471a0ee347d7b58de264e96d4c1d0def971fff578eea6c8cc45246c702219a086b5ea4a5c97b88172d2e226a4ebb89a8d40c2dac346d04919ca1d464244715fc7bab4844566d4905628f42b5c80361a769ca7c7d2d2c1f91d462ff9313d515f12fffe6aff20092824b14c9bad1c9b6ac2260e9a44cb963327aa58acbe3efdf5e670007c8a7ea4a928947fd17997048a4f6c6ac385ba302d74c40088c5f64e7a42c4bf419aca67c995cf2928eed86776911067032911a77b15859cad906050fc72a73c9ef5cc54a80d7a1874bf40ffd9ba2264fc967fdbc740db009681c8eb9299fbd1ddcea85a44ccee036b12ade3a70a16a6840db055abbefb3ff2cb7f05c17dab76999aefe1d4dacce2c09005605eb6888b527912b4d9058c685754b80c5512194d25084cae187c44c3c81667c7b912b354f8ff76e5edf66cfba82fcb824515ce0cae46de18790c039f8f6efed0238fe5cd75fbd3f123fd6c187be24e6f29b11700c5652fa14960953a451e59f4267f854be07be77d3d72653ba3c3ce495f25d7724a5d2215091620f318e4728f083d79979675989abff144c831e51cb95d29f258ec84dc5515ccd366ab307fcad4e819322ea75bc31966296c87a2ae4a58c362c7b62d645663ad39198c983fdec5e2c12f5a7fe6af9ff215237d458d6e1c438e98b4b1824c70c7aba82e307becc0f94450a129e794d56c8d9f14c1557c17c899d148f4c6789b562dd90e042963a610cb8d2c2b5a226b12f01971833414c7eae7839ec245ff447d76c260cf33ad8e77b893b7da9b76e55191b0195405a5e2c8ca5e2edd116922bcb5c487678bbe64009cfba28e366d50f647fc36130dff99c47e71863eddc3f86fcb5b1288894108bee2f6a3735c642a9638422fdc69544540a597221eb7ae7c07c1c835644c7224a786039117d4089a13adc81c79e895e2a3d0df15aa5a61fb22083324d11cb546afe6df07786f69539af7f0599fe84b661801ad58a65c31a9df7a8e2e67bef8d719320b42f88e19d4f0ae43d148698301e0df1e6d72ce5dc081569d504d0a72050a9a0ee46416a61dec6876f0d7bd6fda0d46906cca322eeacf402b34645a141baf859403a164c2c36ca5eb38aaf6d6a1cc53326db459eac6002239d347edb99b0cfd88620b8b2af1ca631ce263e5f4f99717f7a83bd935dac735245b8207038dcee8c6746b57a95036ffe47784d8ae00b1f754f7fbffcf321ebeb6ae7a1c6aa3e3ef58163ca2eecfbb9a97490414566665b44af41b6e99c78250a3375e2c0840b67f3b22c47f9990ac376608760678da5e0f590bbdafd60506a103abb4f76b9dfb1f107194f4a363ed7b95fdd8e240d89347563da2933e826b69d35700163fad63bca03672383cccefc90de8f168313faf855d825a9ed8a5954faf6982a2807edaf2954defafe735cf08dcfb9dc4c42d1b9009eaf4f9a0be0b1b64bb6cc63f0c8fa5f83a7cd92102b9a4511ef62a1a0ce2abc248078e292c7d0767cd3a3613d4416063ecec5772f9bc2334802b3d2ef966b2f79eae28537e4169706571696a4f3fb957b18c45a9aa7794ad71e8d8257f3b81c6f91897882a52a5dfa19810d6a98706474ca1560e567f2c0f5d5321aa6755a3a4097d8f327a615db12adadc958ac76eb7bf06918e0f885712f741789a25ef7f3a1f576d1fc6a5d4e0b9fd29b7f8a215d512803c96f2c1093976de06abf86b49e5898da65aa09ca58d7be16774eeac1dfc68e39cf61aa71e9bf6e36ae342346d91492abc01e24ec87dc952a130c899a82a0aaaf2be49722386974e0f228b00234708b94429a621fa805c5366fdd8cfdd3d6031a5c6b3cd48a92ed4f4990a83bf51e21ee7c641b1b035414ee6111079b5348eb38e20436bf4712f5009df281f21203d19c1b00f0f32f10afa67e6f574a5096c607945b12d1d6b9dc26b9cae240fed81767b768efffcb5ede1b103649afe4cc3cc932e03513832c84f700960c6ab0c5fc6703ac2e624e3e4b0946e464136c397acd20eefa6a1cc36722033eeb0e920f696dfa3e05717d1f343f35b739c6256c26d0de14a447970b3ccfa3016db0432eaf78f467057190a5af7f7239db76adc7b3b644b8abe91c4d9787180c6f43a1f33dd59bdc47d737a4a92aa8a6db1cdc8ab0b6c2dd38fb12adb13a62ab3779d42ceae8991d6240cef77b6de62aef100e7827680c9e813283b054f5311a6bd2b05f7473b2cb2ee80948335a80927dcf714def138440e56e34ffa4efe00eda44ba9feaa6917693c16a4cc72efd92cdfa4955d9da2337ae5671bf4f17ac41436d5fc8e573dacb8c0ce62bfa1a47311107ca5a917d2f50dcc8841a4ca9eaf8fc69082743cc02e0279ff7aa5f615c3928fa46d0429e89aedef81a05ec88130d708d62c6335a9574d15bdd8c2c266c4ad3c1cb96850ed6792dcef6edd816fe1674249e3d000e63369e35117d3e419fe03a93378dd81c8eacb8313ad4a52268b198ae5a3f4a8a2c48ed21367b8608ce3468355a5fa8cd88acf05c66aaf156c2a7d3e8400704c3496fb436fa1805c0ac74fc169c122d53fa5dae6c9e5fed54d72a8cc1d71ef9ccf70ed2c6485e7555731524c58f101ceff953140c9d9564496c65112a71d2d77426da53b770b38f15c9212ece7e1ecadeef90cd8c9dc3b1eabf3f21c578d93e7ad6add7659c4290268a3dfe178f6ee48a1432deb4e40fbd8f216593d772862e4a123a6a6b30cabf1be90574f6a480af41514df5543a325b69b2863930bd24cbf006c4f8dd611d32dc636daba8a61dfb1c94747e8151036df9d8165b5152a223608b00f0c57bb40ee6ea40fdc482a2c81a68763f3ce2ef32b29fc740236b0f6ebcecac339a3e3c46beb6f6716cef2bb4e988cbad3b26b475dd52cdde6cb9b81d64dadaee794a2d9b9c3a1d950f9296cdd66c385717e3cba5a134ed345dd525e9e021de28e2614cfec439c7ce12c2dad4270eee63f9e895fe8bf7a58f71d8f4a889c12bf99d00261845ea2178228b8263d3cba530b0a6e79d3351b4c5d0e025ecda1643146d0231d470d9f93736782cd8d42a98805ccd45b4f25278713a3d5b18de5655c75bd0de3a6add8ce2fa663cc4824428d27a6ecabbea2ab202c71064898f9535b496b29742f4f77edf3d459d2997ca07670035d6f24d79ce853e1ef822b599372a2ebd5a615fc28b5c4ba791ef055fe82a1f89f93e9a85ee22ed2a1c3ab5286b18eef3320d589394dc4dfd6fcb50760ab3a71bbb829c7df5796fcec8cfc55939e7d828603332e4bacda053cc79b720d5a21b7bc401efe2620acb7aaf68c0b73f5336ed07a1415a84d5b916ef3361be7be2fdee5a7fcdb993f91599cb975f0379e99f0c0c30294b2e9e88d298b9ae137ee2223a92e7b161d54b864b7033bbe6063b60d7ca5c9714eea9cbddad86fd1dbc279db373bae0b0a03b95bbf8c90bd11b2ee97c187d44d55ebc47d581df7554dbcf93c8fe56096dc835d0c2faf9d6e251486c133fd4476f68dcae6ccfc86166694472f2ec617ffc10935504f91cc69b4074fbc35af7ae403efb0938549899726e8e6ec1ad7e4b27dee583d97c831a818bbb92f4d724b20e42faeb6f37367e0b15c6fc1106cca6faaed1317d119979e0600ef8d425fbe2f929773e9628d586952d532c2226ef5dee77a8f6881411cb4801d85436c854791cae1a38630b889abbe574bb0aefeba5c513e91f8d939e9aa5f2b19d43e89c5ce8ba1efd251db9837fde0c21f523b6d86f6cea9d157e6c250778d1ec732885c0fd951c143115a9970334ea344e8efe3db65d774ff893fbfc5d17531c23ea82046f76801d1f74365426fd76d4d63d25918f33139ad4bd2adf960669fb278226a35f6e1e1acd17bc1f35c5c9bf58011b68d11ca8bff5407d9803d9d10b2029f04448f0c23add57d94fb9daeec61c85ce16323bcba1e03c046e75d76fa18c9e357611495e7d04c54e08690834251149fd836aa28d3d838b606bc2533182d6f731f4961571d9c326f1446fc191bbb64249c363f787523d4a7bfaa5e8c24bf9c4d54343df04d49f0b62ea3a7c424fea47cb384958e8cf2184023432698b313762e1a3c532a356dfc80a38d01c86367e899d1e6c5f86130b89adb40a52077ec4b754e8c84df06bb0b2f0ef4eb46de1de893ecaafc5a719b76583fbaf2df0746fcf54ca80b511662ded20a047af10e6fdda1ce1beb7fbb1cf420fe6207004a78fba09af0399d92b4c6c33aac157a32cb0391dfb32db5147b385a2d74f24c98dcd1f45155c0e2ec4c914303ed6ded2f585f72cde7fe9800f571dd5a1864fdcb89e2e2b5759a496c099e1f7aed9dba7ad09e9776d467449aad742a6e35edd21728fd1b94e1ee189354d65a07674c519108c0597572937e71c66ffe1c4d4564e09810ad47f181f3199c9fe05af7c1280f2578e6ce81b034663ac8c6129be317bb9f041d6386557c2614677cdb1edda9d4e8f4d54f24347e26dbc00411d5d38c88ce8037eff6013a730d59d0fd326cb5032032399ab478763c16d989dc9ea285d0f5cdd58654263bb2d6149de90b3c12ea0410d7dbe92751a25c4e102a5ab74e99030a03dafc158bcc6fd5b4945da7ba25caebe69aabefab067f6d621ff31b85ba02a62ee7a123271177fa64c6accf48ee0cfbfc662c6c1a7a3562ec7c9b7bb330021d76d0d8e394ba134e256c731889ea662f830644d84619502a4b5ad601053fccaed859a420e795991d6c321ea5a96f0e1cf50ca921a4cb89e7c830b574f10697872e8c3b6d9243379c3dc2c48977ecc0da21332aba33d70762f462047dd455278309908084fcf830fe796537fe95e5ca01e44e849d180d02b00f6748e61124cefc27f54ca1babaac252d1884dfb3194af747001a1ebc977f7e84613358a2ea7211c0085fb1c8395e28fef7f7dbe54c718586c3424789b57f499bae40abc1883f61b5e1cd85f147c887f84044ffe34b66fbd9d1eac04ac20fe48251c4a7d53dd1c72386efaff453a2c0333cdd61048a15fae4206ba80f25862d11e7078e58dff2c82f0db31c7a2971a147024ce0c3a4344e00f12bc6f69fcd47e8a39111ab9bd569efa5354fa3d8e8df66884cde81c39a85247a16e8413a0dd3e09e29246fe68e2576cd57a5bbe14c9eb0154e7278efd1a052bac39b420e39decd8e33fd8369fb73f2924fb3f30d5f872b1bee8d94693894df1822166b162c029792cfcaedd3d693ef4acdbdd8c3c45dc45c243a98a16ff45f55f58e4507b014d92de7da4f4e2e1480f1f3a4fa28d21b693079b245bde2152e606018919c0de7d23aab15201bfc9ef867bb0e711ea104e5c8c88b8180f72f478263074bd6ae968daf886b7b2ba8aa08069ebf0ec17dd6d7dd0b3fede421658582e2dc8ed044efa51529f616b8b92af636043c2680d9f51f9d4837107fc4357ab57cca514ed87db56e512b7bfc0ea3eaccf2a92f361539a337d75b3cade1f4342aabd5e2d408141c1eeddb86069ebfaaa41c66b9d4a77ca03bc22691d7a2b57085693a79e209f43ce51b4974588bedb4a9034240678c2225698da3b624d1e902ec5faac88a0d495ed412da608c2657d101438cc01ad4b7278cc0891ce008ccfc212a9a22c73ae1bcd68f649e1d2ae3238c70b06dc830c5ba0bc9ada605a9ae1e74a39cd84f5d7f9b6b7935ecd04945957b5c0162369eb2dedacf2377251851fa25f67cb124ea81a338ab0fc6108e2ed5c1471812d7830d093175ba579ad8b5a7f8bb8d51ed5a2bc0acaa022ffbf07cf8d6ff2b0f072842e948657601718ae7614a2fc8cda6f6982693e0f83e2f854593662faa24268a1115a7ed404d22cd3067a8ef7a2c241e4aad595d1581a54f8fca21536e7d5dcc6de3f1500c0179bd5c542bf4add0b0e5d87f9ac404fe26a64250da6f910fbe7dea33bf8f9e1b6a4f713cab738d2ff317a008f7eb364b0a4dd34a71b4a34899de35a30991f5ba456deece6a6018dbef05bbc74e16876dedd1c3e3bba19978f61500c40d4d3e9ca082cd537889fb9a23105dc26b3f53257415bf69761f1fc1a92de5ff231f0522ee58c55da5b98cc25b84f7a1eff3145cf3407cdd22b6d14e1027eb063289eda4507a94646c10810c3aeee97dcc60c4bb963b8e491fa9336f56a5d63dfee910b3aeed56aad18cf9bf8659affde8f63b6875c825fe015e98703db656acfd60e65851510accb5e3d7d98aaa40361ca0dd2f0311abbe44716ee0d79b32228909791ba22125fb22ff632bf3a30e12c5db363f14ed1deeabcdbc787395f3b9ba82c986e7deda828b549cdd5de9a308df75d15b121a7860677dbb1c571ef530a79d343ddc4d9bbf86590196fa8118d8fdee7ff1995aec163cd86acb48167b85e74a004c06fae373df4e12e11acc3e530c1b5173a3549107ddc0e5c612ca83129523ff84a2f832418f1b6f9d3006d3ede4d89d78f214ffc33e8d59218d71f6276bce8a1e4ec0793ed40786edb2cf16a9428b9abfe7325b50bd029b85ba879750c22f1cfb1e2b815ddac4cc434935b64cc4fea03425544402d0fe1b8bb0e26a4e8ebcb94db9e4c3b909c9579087e9e182d0d68097ffdfa86dbc4a3bb56548979eadd4a837c4b4544b297b45e22a8b1fc9fe3ff57506891fd5abe16cac6f60a65d38f7392492b293d0464553ee6988de03796a5724524bd452d331ea8f8fb99187fded0df8ddbda638541c58a40a334bd346c07ef4ab11cc674adb5fb2dae64a27f1298da70523729a856b1e511b2bc43f5b75311305a1fd51ef82558fa32438b50e67efec530253a23087eb4bef598f4d07416c39e92551332b2401faa6dd514b1841cd12f9b76299139684791387d8e0d29a1ff6bd53fefe83aa80e08360b6ec738a3aff7c3de5ad19b4ddf9b7e2c8e49bf548bb184dc963e3405243e660695e7ecca66a16668f2fd8ab67beff740bae6f81deb3d1d5433c553fd6695c23d0596bd5ea307a3fca551c8fc93b7dffc5c8a4779634098133662bdbb664a5a9a24dbdf2013b1f9cb596c5de35bf119d6b01c8e2cc643cd841dd2dbc383c3748d9dd7f8fb394e82299283c578e846b38280aff60c542ed81ba3d1133df646cd7a9c5fd531970032b2a600d61af37b818e7bb3ec4242e4cb429774cf5437540b8882a58339e0bc5a38f3c4a6dad4f946b0e39ce9fffae7bfbdf0418c56ce54a35918b149445a66fa46caedb310ad68318048110420285caca9e0100c11e597fe50dcbe86f24e110cbb9cde22b090c26e3e3ff2103f234731c4084917bf22524025716ea9f08f2d77678be973c3a8caae9bd3b85ffad654ac162965bce16688731270f2e031d891a9494f8d29a5fa2552fc35c40b854f9beec463731624bde9182fee004af12db807bb4139dd25a8888e136fa6c438bab13516257d5d581aa06f3c44589a6d9b60c97740303a4010e127ac8fd3b21e77f9e6c8bd9c8f2926437e9634ee68d56e4ffd499c9fe7217a9932b8f65a56a609c6a62da16f3358294256acbe61464a7e2e5896fbdec9d45d26948063d827b3b9ce0b55db4ba4d841aa007d88d395d8af26d5f1021fcf8831f43adf93d3ebae9459c3ab75b14ca97806956de95533e38970a7c3b64b64bf99f161d2f74458afda74747ff684a75b79ad40ecf6954ac6f5dcde9f930f86fbb7bbc01f3685547fd241577a6bcd487d3d4ea7c5d6ecad5b3f7b4d82b0eb0a930ce259fe93cca1e7c336b6b26af4531a41673f54045c81f00e5b3c9085eb2a33fb13249328c18e081ec7a9c3a8e50a99438a178366486a94ecf0e216a7231978bb254c8c7ecaab30a8ff2e44f89d610fa7ed64f67c8cbb5931dc2a5f1d5a0e5af53f64a772259abd8e03c2a2fee3ac2c00750c9fbec48514b23de54e2116f78880ea7e146fc2414e0100a5743444b1ff0281151d87ac8e8ed439204df819c1844f2f5f7ba89730ca49f8bbd52ec6202dd6484c55ed9395bd22445d6470ab418316a72ecbffe427ddefb0245b641f2f93ae26358b48896ec230fa71f9d2043d5135786dc4816d0a9e2c8b46d68bf47dc71cfce11538bed5cb6d4d8b0543a141fb95e4fa63f3de45d534152b139bc76bad2ebc9c6f96370900ed67fc7938390cf5a8aab791a104dac9a2013eb1b1c742167a83ea01fa2962455c16cd8eafa40f1fc19f72e38231f9abe2bb49e81ea36075c0dfb19863cccc9a760837d979c0cee36a4c1f74578c617a35f0768882adea7840f0b751328b760397af2987c1326ac0a0fd33c6b1cacf000530a44a770889eb4b390216c49863a32e768dd6c7a055ce5ed626beed4f9c7dca5d05a75cce6c04b6f9025ec550c562b786fa231bba6f2c928cfc283686bf70153f5187c9da81562ae8fa376d7a47101bb3751b6fc14daad843650de0563feb81eb1a1ea7103cd3f85248231d748916f65c1024cf983718744779a835b3756249292315750ff0c734db5570f8c8eb97ac0df7911c5181ae53dace07fafeb532fccbfea5476ee631c7416fea7693eaaec5d370954817fa6f8a3b5b060b990fe9482faab3849dfa718c41f5790c6e63e5714273b3fa69fb191a65bbe0287527178aede69ae11ef7c86cbe2c16c5ac7e723978d2aa5da873b59a510ca853b8fe5edec2f22b5b7faf468a6dc46b1da1d0ca64778fd64441fb944570e415b1d5a83eb06dd2b0708931fef8dbebcb8632d58707401a08552f4c0a1b85bdd3c836e324b448858580e0aa7c9c5cc5f25fe9eb120efba3f4c759e75373ca306a3af317c350ea19de043e2f2451f4f4ff02f02cec437aebdd55576accef1c9a17f3e98fa27511d3fa0b8a559d7be222e21853e8072e72cf944e935a0b427b9547dfd8471128a8cd0db4d1a8348e8e3e165404cef17c993426a20b55dfdf1d1370119242418d09fe604f442ac450c85479d584e0150b40d54c719afb02a7aba1ab12adb5aac3c191c5aec80d24125251b0da104941f381c54b53f708ca9d99a1c6c35a8eecaebf1e40fd0902967b43234746a8ff121b88c545feb7a3c32c4bac48a89c5efa9ab53757c479eca4533482601c3114467b204fff090a5c966c61fe9601fc76495a5d562ab076b8a3e1370880c7245edaa5057ddfd11f6f34925d1028bb126ab02266123c49bdf900a4561bce5e2bac96ed5507ccbc32c8835de4bbcd40e2378f3d12f57fd211bbf29fc4b084b550162af7430dc973810e3279ea4b48750c75d3ccb9aa9076c07e437538beaa76ab98ab54c29d7f16cdfbaf8bcb50f0431433a5537b2674878817164fe324b96948241dd162533f61397d626f887dd2deb895a3b1cf70ec008302dab0774d5a21b7738ca3d1aa0c77f69ef8c416013d83a8adcdd095c96407e10c1ac7c76834c3e6abe47a2d5322c98b1d28b82464058b6bf849491fcca030e8a9190b2f4bb9f3cf720256d69cd1be19581437d60cb844c78a0e98aff53c8c241e657af62151c1efd216fb999ca5a916d33b5e4dba52f8f9af09a7811c744304c9193ef11552ff4d802025c8c9bff29400394502616f21e74ac2370dc042c5ea054d20fa40d4d51caf77a6f7ab5cfe1fd3503d986d14f4171c24c56c94403bd0d061a73431c0222010b6ee085783fb165928152c874fcbb1900ea3b2594cf0560a065c4b55f01b04a0dc7a757ab16382ca2eddd8b2e27265e5e819c2da2b1f30693a2e1500745e7506f488527328231b8252a4640599b084a57f155d03d6412e732c4096541cc80fe8a38bdafb860eb63c2c96c2ecf17fc5f71a9c68bff63626c36d6620e8d870812aea3e089f4efa154137f5de5770d3b75e165fce48dc4de34fdcf39c3ffb9c87093459839a63f8874272acd1ed89886ed0049462f23ed50b4cb6b4d42ea0a13adec101e18f355a525388b2f27b4898b22bfc46d785cf6f9d72e3b435fd0d5007cc200590c943b9273f1baf3f5a93e708cbb5f48149f9e2312f375f19ac93f0aed69203d12ba80678c096c180a1f6b34f5760175df5e4fe1b81f0f13592365aaeacb9a1cdcc07663194717e5dd86d7ec67a0a01c75fc2a82a994f187fe39e1a3ef533bcdfe99c6a922542c50fdb36b9db10de5fd4053da7e43d7b5232b9713223350f3a630bb65f2c3c93c68f0714b6c437a7bfbad7ca2956d16f5c142f50554ec66b91bf1d13ad8fedf451f8f078fdca58c01d73d9bb308544655d2c6031656e5a578e052bb0a5e4f3fd342c45f2423442970acbe413cb39e30ee267035eed13fa67903878e4d137680e0c936ee3863ba748444207ada905356b50799b5a09017312263d22e54a1abc3fd484218f5e6cdc1db7ac2505a28bd8938df269032cb8dd9994ecf77c50ac90ea6cd193853ff67fad86d3e39601cee8022598bd2b9f23debe15cdc330b0ecc5443eb994efc99334e538b7d2e54aa7cf82b2b66562c82d49202f60c14d2b7fabcf00d504c2fc0c13b18db9efb52296249898b9b5092be764b86d9783936563274991d72a7827d7bdf293d4b20bc368f1263878c095cd44bfb29207f7fc35389a41a07e2dd77440b9846cacffa68d7e4364961cc387cd79339e801c41bb9ee25f32d9b32cf595136216ad15ecd0ad4076d060a174b968a6cf6e516b9fb681da9d4403dbe1718b44c97368e4252c8454ec8d0eb46028178dabe2158acbb4f43a0ca4b8daec10cb546276e60e04e1608aa7ff88c7b29b4b70ac9e9c14fcb2838eef59b0fcc49b76f888e398342361fa27a75bb17090f20697d1e8dbca334f76c2cfccd08229ff5011303df9a9ff38132d81409268aba821adc39ac22b8fb42922b8cf974b938d5534aa7038b229d231632f1125685dd74eaba3c9cf08ace0716d823f4dac33aafdd689141fd2433df2984cbae0cd25721033dd06575e4b5cf4a78059a3010bc23264080cd452f5e10dd5c36e491a5d63f85b51455abd68598a8da794f7f37d8d7be3c46eb2d5264e9a9003987f76db86894afeac93795e8394a8bd12beb38ce0bc684bffbad89017a6c6e3d06322e11080a473a2453afd0dce62c82733c92945ad0d53d88aed174bc93ea62521e3d9a4852f53cdcec0af954233fe0d214a2900f9eecd8d7b5b9fde17cd6b6f03f2e7685ef9421ac74f27a2a5015d65129e81ecedb003de151c537b555e447cf3bbd8371786064fcfb505d30a14d4dcab4c438185cfa239b46a565878d2805ca432df909c17c987284dde705194ba55a9d5fd31eb9dfb793d80b58f2d1db8f1eed8f6ab28e754c750c27c8eab644bea3b12ee2908501e27dbba082801177dcc832fb8bef7a3a50f3d0597e486d7b59285abac0b350ec0930888a503d939567ed6570e032777635aa3c6f2c68b488517024a1199c1e48e19a5128e4b10c5a1f415d023529b4c11777e2c9f003cdccce2d4435ac75eb004136184a759a973d32bdfbe7970b30ced21d0d2778d84c0a79f3cb966f49f1788065c65678870d432afb3c86fdd415c69a9a7a91fc0f9d05e71d18abcbb7e30688d35a9a369bd3842bdbbbf77ad3f3669f0b805f27d75faf1b9860732e682d6413165cb8065c5c0a9d33881dca6718240aa783caa93606a38bfd92d8313caea1d85e5062ce92d9bb671eaf1208b62db138417d952fa0f469f47f702beaab6126dd6099da00c43eca5a64bfe841d072655e1c344f59e0150223eb1f4b433cc04d2658d0ebb43bbb7168f520809635f0875f6bf3023e0e35c48c1c4c83a352a747dcf09dabd91724487b504a956675c090efadcbb0c2fe5184c0d6262477abc2937766db4ddcea0972e6d9a64fa9be23e7d7961f1a020bd2ff47dc729b15e4ddec3200c808063ae0106413c4faf5621fe993a76dc36504687e525d0a1b579131f6518a685ffc7269f1d71f3802927f6aed428ad83eb63a9742b6305d26fe16147a605ffb596683a690af37768982c64e4b250b0f540aa048b7257642a22c900b8f8e2277150825dbe408fed85873df3badd7be7226d216885eba7253e0a94de58142343b0dfef03857f6cfe8d36ffdd856ef88a1784b2eebecae872d63c473a1c6b25c92858d583a1062ee6c946344b7eedfcd27c7b0995b58dad51af7a1a4fc6a70c8673ed8e7e6782254c483044d16eb0777b2d0d83667c353a832ef6248417135e4d15424398fccede4fbc7c1515d32a36a697c114a589a738b364cedab7da19241df8d66b80c3fd333c47de0ad0c17ec24a890c4ecfe3e28ee5d0d19cd6ef901f4c25aeb7d12d807dff8157eee382c68752951cfeaed4121179557519fa6e265e77afe81bcb70daaa41446ba72d091eca6770f8eb83965fdf5063b8a156501e03639af2422d5f10e1e758480ee626758ad1907a61c641768a1de1b564f8058359b84f61ec2a7837b5f81c0c869a06e3fcee151d9846ed02815f273d9446a1332f638f2de2407db62716418b9a90ff7bff9905eeca5ad0b2e6d31902926e44e084476d3652f842ab7e792d1c245fd27eac17f7ffc92d8a5744e865250efaf81f6ce682d805c8b6f89da49b93b8376890079f4d73993183365c18755dbc0d681e63a922ffae8a71c7d88fe6405b1884e6ab130a577301948c8f84ccafb2fe19f74b39f202eede68a6ca1050d4f4c542086c9b8a356883647c5ee1f877d26a3c7648ebb42f6c2dc3b32854cd150da231a9f66f42fb49262de8dc19f4627de03869036bd7b4a83eb8257c7ae3586e913c53ce92d707b760c29bc4d23a3c39f6e820e6562509563320ef00e364c077693fc6b5c63c568e470c579712e906f6d7d0b55f7ffbbe77fd2f3458800a02ac339a4b6148e7d95c12d1122f1359bad965e765e5c6dbbd4522b590730bb4c06c663512bf81a62b3eb8e288d9d1c9826b1d9dedcc9fe487769c43c06e1e68fbf568516403fdd5a82b8c76d6a28d39f2238f9370b80e7fac480458ef1438993e9de46ee42da14558446c89cbc613464f79127fc69472683fad54a67816609318a33c909224f9bd800c1e0f4576d27158b94c25350b9bff91fa9c02ebc0da102aaeff9a04be502e30cf056ad4c52a6c54a61400958395ec7ceada14a53d1320fc9dcc0c59464c746582fdca974819607601c7d0e0e113d39b37fadbba4c4223fd6de994cdcb911cf60ef7886100ff400b0afd728c10478221d0b66a6bf86542ba2245fd1ad746a1137b447fe1ac703c2f4e1cde1a61809eeae42075b3984c0f9db3c1f784e3acba81a3af9538b1d4277eb98ccdfe5d63fc3eb6baf6d60a42298890b301d039d051e0145769478e920a746e622df4059d5d3503f7c708254b695e375a59384423f8e529ac24efaafcd1e69049a4fc5779a1092ef8c18a75d1dc0c9871ba38e63d7af61649931fe9a6efab422a6d76b29007fea31d506cfa0ac952e3305c60f1f7708e2b5de32bf9c1d4512d667a869a0da104895ea46ca3d2bfb608ad9a35a95c70442e13e2f5c726e0e64c91f25859355d1a05842cda966d82ff12c94573fad332adec3eabda6c77da72f634fe367178328765c11bae7c0dae36d0ba80510f465ad14910556a90a516d2954a8fdc4730d98fd34e179947209be80fb2f7f25fda1a15246eafc1f50cc0471b5033a1464454078fdb571cde95bc8fadb32ac3389322085aec47beca95a56dafdc1552600ae82ddf1c6fd16c3f809beb1bea7fc8117f6dd2b0d82d541e4f57b4815e5146fed420cd449f9bd83bc7fddc99ad0745ca76648b681147acc06600067465aa50fe4ba089e77b56c89411f05ec4229ed773be63610a015e7b33177c595873432c68a26cad58b9a603ebfa7e922e1dbb880dcaf13ebd0a32d5dfb6a4c1bab89379fb6bd11082ed89631fa7ba11e8d25f4a8642c10027180b4d9ab656516473b7ec37e4f137b1b2dfd9fb29c43cd13fbd63967f48eb2840dda277adc40f8675d2e42574dd5c02e3c7a8895bc150f8d8088e383ef3b9a02917a0002c620830965a122fb29aac8963b922a155a69ce194a95776693edf9b04d067bebcab6a562d328c310e29755267f159ba00579b42835478d65c30c0bd1b3071fb38869197c5376f1daccdb9d7b170550cc6169ad4da233c76cace57bdc9e395cf02605f39eadcac25433331479f9ac07f35322585069ef1cf37adbabbe438feceb598f57ed79874a44925d20a05ef852e2e2374b023016ccdfb404dc4eb3923351a9ee7b7e2f61c4966f0267f9339ba306c6ab5420b7ff3bf992ceb476ff038d791b1d391ea5078b31508f4480eae5799a0bf390d9be566894de6aeb50785f4376af2c7ca3fa40858a9e8c97844bfcde1f4fa5f901f26914c4250ff88c47ce20fe67bbaa2498f40bbf67ae4d08f77298f3c9e51d841dc1e6bae7749afce50f07b78ce3866fd349bb06ff56fde7b681658d704fa25da0acb8454eb2b87a24b16f8b8e29b08f7ac314920e0c6e18688179bc3a9eb9c3aac587ecd929c3f9d253705f22d56ab9784a7db49838d520f6147b3e751cd182ffa9672576ff6dbcef81852bae831b272967f35f5b46e22aa45695fefe3a35cad03c6fe3d1214e4d1d1570b62a99f8609b4b68b13e1547bfe2da9910285706ef601318dc18d6099813658f9fd1fe3ad12af79270ee0f38004db3591cf88e641e602f033f4506264c75d1667bdf056544b3cdc5ebc8ac4bfe88a394b2ad8820b96bce64bef7b5c3e15543fd21e2aaa0f827fb42fcf20cd172cb79aa8fc18614590a7bafa2123ae8efaa246f9ed9d0ddb7b46f1bbc6f04a771ce17c7cf49236ee7e57c84070a3aca4eccf5ffc1c3f7319f0aee97576acc9659f1006c8d5a234dc8a154de65a1ed38e6ee6e9b916aecda4df5f6e1b66d0f052aec219b620d79ffedf560eaed84dbc7ab09a2e39a38c095b333cdfb91a8a0e62d7acd13c23618a38d4a792ecbaa527313144c631f552d404a90f6f59d85a964d07d4984038afe62509627f0aee7345bcfffe7d5bd48320820ecac7aaa274c2980f5eea20a8effea0aa2a38d6e0010dbf7c41a2d2afe8c72fd00fb2264a4ed338512d1c1305e3f74ba26babc05bbcdcc8c47ce6994d69f1b89b792d452c81d7a4d9874f7bc972ef60fd5abb26c6e9517ef3b4fef10c0f6a00a4ae226d318bfbdd139ff14fe93ed5039f2f8a9eb6657dd91baddaa7cc9e17db0e97c284a9c3a07d8fd11c11f9ce9030c6d76d03fbadddc3c09e8a2a27333394536f8e095416eff025e7fdd92255207509ef522f4f0eb31f4df92e233067cb71239952b1b34de73bbfb89e01b92acce1979cba59627e725b030e01cefe37dc42eca3416d9d6ce272ef49c79353868ff5690088654ad40dd17df7da1e9e5ea3290229eb06b79c78662da68d81f48c67577b2e9a5bda1715b0328bddf12c8ee7209bb077e5c120721cef986dad76d14f2110afc0db22ee31c007f3b72ff8e377638b91d2452e914027b2c3f590d9f28a667d9aa014c2b37b65b5098295dc00b79aaa2f9e5e6b0e09baddbf773dfab8b7a35e9ee4c34bf937023c29caf8d43ed185f63ab45038f3f64497d220419f8d4725fc66b03c1633435ed8417c048b208a5d06d18e82c1dc19045c71e5079b577af8b9487fd2631e7a716d1bf903b5f321842d6d12d71420baccf408a13ed183c5ce1c33552aa69752e693796a7411cd208d16a741f6bf740d021c5164ad630578ffe13d61c53fca22d7df73e1e0a8d394dbbceb67eb7778ff0eb22bd84d5d7d21dbff10068f09270a2b1f7ddef00ab8932533168eb3b88835551f0c90507e86b9abfc612c0b51b65c4d0fd3cde1de9d964b272eaa37e5997e7e36573aa6b58cd187ef1420949d06ea330b9c520e3c770728e24a04f40eec891ff441a025e921f723610f992a25f47c2399b471aa86439c71dd38952c13b03361a4a4a950664ad42c89c1bb593bccfe778a284eb96b7cca0d3cb410405f9cef6db28db4cd04041b69d1275a982957040535785dab321a6dc59e1e01891551043035e65fa970dbb15693abc3ad32d089f9ea52af4a5811e08f435c7b6229efd2138f5792e1b855a774df2e370897c90cc7a625263df24965ccd13a8517285fa0d07da124e0bb0eeda90ce3bd6da56c9e70c3f7ff3aac31a2dce654ca799fdfa13dcbdafca822bdb46225ad736d12dd8ca8b8814e7dd0d0df62ee83849a0e6e7a1e49761733b31f1f005108e6c85777c2260427b08c2ba9b9a2476580ff9f12ef9ea3c51cf494817395b513ec65e0d2698d8bc69477f3595249baa0f2052f7242d8f7c6fba5e4c046ea33dcaf3487cadcbe9eb92ed54b0d906c6c12e70e32d9c4ec8006ab0ec16fc08bdb9dd5aeed062521cff5d67bffa6a8b4f42d1cd99a7a63b593e24a0f0d791bed55fbebda6c9c75b45d8a2b4871d93cda0e27a2b2550f1889e5d2bfaa002904fedf6a850373eff7e0a9286a89f2b7fd0108c416ec60f4cf47a0690f8e1b65f46740a8155e2747e970cdbb95a78e7910f7414764dcf43a96fc90244a8c71f813bca8827a0f51191b7345088185f6a7b58459169a73792b09c08a99c34580de6375101c521f02e103f7391cb819666b746335c513c9007fa619aa11d8d95a3e78c381aa1140d772a9430e244877fa60adb3ce9d0ae7ab85f5521680e33856b524d7e7f7d9dceec1ed780b868308b3ffa7dc2c9e356bb192c432863278f5c6a7278160c7d73d535fec8ce1751e333bec547e5c97ed2df2e84255b6145d212e5b1e11899a0ed7c45c33fc5bbca4eccc51ad88d54f7bb8ab4f9dbe3f4f3b9bec5f20f6046da99086ef09fd97f3e149b7cc14549b7474068d185d3fa68f4819740955697c16b5eccbb056be69aefb0dac53ceaff25c5a012e3431191826350ef524f3e79efabc86170ed434b9db557ff410985a260bc1e52d19a8c2c46823ec70ca68079de1d1f8cf61050fb4905a05a61d6ff64a83392012ba9bc511b395104696a773be09aa67bd3b80b48551e37844a709e40bc643c3998cc106ce13302bc788bf1c5e99e654b78406ffb36c7c78ee50f89a58ebdf55672ad64e4758b2b52803826b85b9e715faa055c73b2d9112e3f61f5aa6defcf697b06060227b13041bf1b462aa79c74e755e1160ea290886bcf1ae15816716c368c7954361abe157b6fc88a62d0903a4d41597637a6cf5f0be721af25a6a298bdbe05ee65f6d4a42338411fe32cf4808d85d0b7601528e6bf5caddcde614780b0398d6b0e49b7f44c77f1a42f609eb920a18565ba6f2c8eca6513f938cd6a2e41fcab80c7f77fb9f797fe93c824c1fb659d19fdd391ecf842ccdaca8245e873e2daa3ea210ef85358aa06b8af67c014e57352e657999a9527492fe394e69770fcc976ddaa0753020ed04d1719b345b29bfa882dec7f890f32866501c3eceab6fc6c84d69e464e4ad649070ff3e78748c1de6c31e448dfdf4520a60de176643fe4a1885c1a43b605bd4763914a61226895cbd3d86b2dbaca78547f4203085e51430fdb657dc4fc5d17561061ff5f7d0a613acbb40c8256c6d905a0cf0682f5a2821770a46059f0e124d1e48a5a21d5f96313cc02fa4b9f40524b360c06d1610a3f56aa4cc9cd82f1ae21a7eeafa86b8b300d13150045dac038f6432a9f0dbbd7ed90b1c298835ceae3c1749142a2084ff1a449faf8ad84dfcd4c3e12581086d73d72ef0318c1349f71cf4dc983dbacf60737433c570a4310f2a1128090df001a77f9661ad03af3f665cf2f9809101ba997f0617a3465bfef8079d583c9bb6ecb90b00bf0c53a092cf223c948cfab4ff902ef98efa4a0ac091c129100b25ec4083b49679fbde33debbf76bd0922fba801663c3833896c8fbdd3bb6778b2fbabdc346122082777201527151fd90f8a1c1cb00ab38d229d95f638413ba2cd4b809a4eda7d5bb9db733968130c9558ab0486ad4aa2eaf3a1461a29b1b37e7bd4a145288dea656570ef5b8ea8da91ad5b4790eb9315e8c3a7fd0a05b913bac1e6d8fa49fd9b4518edf0d79ade7ae5648aea47e423fbed0ed4976d943aedd9bb4c9c813e50ca025c495e45c04093c6139fc7f1655d0adb8992f774323cfadf0b8edc507b7ae84e982fe703e8c2ad9d1f7c765b43c1145206616be5ed9bf8d2975dc8b1c1d85053abec274218559d22e3fa8a6b819679cb3e7fc5b5e3e61056277e9d5a8f26bbd3871b1030e5a2485ed40844d4b39666beb098d5a908f46c84aebd201bd3c2dd24a9cc4e5a749cac522b3af10225708b2d0fc5c5c695da692a2b69964da9fe303591ce49eaa1dad6c70936ea5d3fe007ea04442a0bdfef6c5749e86de53d3d419c7d8d4ab3ed9d25e45cb21f8408b2de7ea1a227f267f8e5932781cff68fa6a1cafb2841ae2953eceadb5320cbdf13f878016b89ca9ec298186f939f2df11e98b7f1599ce24e21314c09ebd90188919e9ac9561b245951595d6049795b9fddb06bdf922388968a297a5648fcf5d2c96e2fe79df610b0405a9e14e1b9a381a7e6bde028192f20ed7273591dec536f719e30ec2405b6df5bdfb779dde55ec92f932663cdb321a80b2ec3d629bdc0d12ee1a73b00ceb660c85c314dbc08431439ffc09e5c8a34eec76a9decf43de995d088e471f789a12098f89daaeb39792acc85beadefea3041d70f04e9aea044d90cac09eb37d75b114a14c22e01fb97d5a775ce1e2785b9fe3470d1e054034d612a516183c787c92c5e41cf694dac05c3f8841358a391460bbf431dce8000a6ce03597b6b054fd09cad87e0dc9fc711046793e9006f09551725d00b3ad2881aa06eff1c290b5b6e9ac37d6510b58ba752c8a4b8de25e1868a81d4c5e0cb202cda39b448f0c2072cd6bb6b86b7848af0d5d615c6cb3f80afdd78b7c0f883946d912f39a7ff88292f1caf7977cd09b97293583ccb8c0542a50e15ce40cf569f9752024ce33fd2c5e985a418b351f1d2feae0a4abefd574138499303ee7bb69e81f4ffb464e5407a7cf28f64dc742ba5bdafdc0a24e689deeb1b4d6af76092195b0481b73e8dd83874a8caf27f6b101cae01a3e6bdbbaad22693790adb0d2313bd073ef8f201f976887d035ef160a12fca4cd0a14b187ee50bec303c375ece58120ea706dec9a7d0c66f10feb083574397869d30857a585de43d3cefae704c6106da87d27630501482dc9d322a2191b6315122806e4eaba5bbf86a99b6f43f5bd13ce016f7516b3ee42caccc822fd57afbd87e105ab0675958608bdd7c455636008608ea612029949568961ea967706e424bc1d1bd93e9b41b78f0429bf0d4303d1653cb7daa7a5f5a5eb84c4329d993dc217e603515f9962cb556f8d4dfb5bfd5eb314ac9a05365da6b989cf3c6795c0a0241ef7b51e88e0df672fc42f92c616e135ff8ceb8730639626fdc9f4635fbf0920ca229134672d25468cf6a4e6c6854bdb4800ea6f6cea0166ea1888e4c5b27da4562a8be5cb6ac4fd97e4ed413719a1b78ac4223e512fe398763bafee6d0d39a7f88f805455ac1147a2aba123c52cb6f8860d38d16126f14ebe178b0eb72f1b3714d860bcdf7a2e2b40d2c2550fa3fbee7355c680d0c27e2a1f1073e3a45a16e969a28c6f24b93d3f3f6d681b1a1da30a169b443b27dede92e8328102d412ef4ce1bbbf65090859ea429df0887c51ee1f9ae67293602996442e8e6e1a581cca4c67a70a16bc1564f1b21248a0fd2a6a0a08375f7881976bb20538db66dac2f8e71a4c1404db78676afaa8f516088f320cca648fac492c0cf782b1d0f041d9bf5195d03b053bcc0b12eb22f2da608767ae25d44355d36a6b9640b885b06662b32dd054d48a2434dfce95c1b0d55aaceac045bac560bade3d199f69a15e8852adfba5f81d8416923018a9f726e748ad3aad54225618db6f3617cf4cb9e261e552d3cfc98926b23bcb35108878217496a4edbc9ea357d59b3bdcd49326b9c429ac476478a1848c0533ee1b29202a0771cf3ce939d0ff8ca3ba5af04a63eb7c0f23c5278bf3e60c59c77f4920af3af4ad353afae27063db24bbca71a9baaa45c993b89131d2f746dd6c77071fa53489ba34a6bd313463175cc800dd0978d625277bfbad76d34a614cb8909252784e1f7cb494601360b22416b585e0b3bcd552340163dbc65438fb963894102180fc5a67e3b53bf59f6e749e250ce9ad2a3cad059a7c78255045081aba0f603558d001978bcb4133e11c3efe04a0e18a1a6b042d968242a46d5ccd6b7db3702a598fc23704cb635a837b6457287b0f660dfb3e93df73c9b47cd6904211bffcdca50d598163afb52e21d7b85885bace0bc90457a60caed9d4af21ee31be182707720af8f5f98857f92ca0f0d1f83150d683bb9160eac70650f079c6268c8b06a94ddd5ab25fb76f51851856132911d04893a2a6a6f3a58ea5e1c156eea9fc85fb9ab304c37c916afcb1c7b8fabca5bd334a7499f14f2e8d9d34bd030a0e9bff2c7c0d1e520d62ed2783a201bbb8a05db9ed28925747c4c2960891e0961a5a67a57fcb8807652245958ad0510dc655c0b49da40e1d6aeac8dcf81ac002db63bf294ba3cdcff8a0d338f54866f4fb1274947bceb7072d6957ccc4fd1d763375e5d8489f08e0001b467c214ba2733c15c3aab9b78e14e0dcf6ac3ef26bb7c88c6b6fb3fb5576cd8416bbabfe176d7f26ca917672c350db6ec9b90d94b5b80846f711d3bcdeb5548957ecb1a05612f3ea54a00daf40d58faa30b464a6d2034b25ffbc0663e9427eabf61c40d6b847dc5bd441cf3ccb8bf305ae318026de91643108193884e7f96c4228393d1bf8b2fb8b46b08f44cf8254f3d7329c722ea84cc3a267e64f274542f407bdced1bc7a48c802891a04ecec7c068ce9e8c6026fd03c50a8ef474cbc76cfaedd1fddbb3002fe4c83855142786bcfb1824e205092236dcd52c152b9540573d50a7564b38a34d400725342bfc4fd5a886854f736d394d728984aa637515c8a9e7402464f2cf5ed4b3344540ff8a23af96a6a8a1e491e64c99a8785b5e0dff815d7778bd209c7c21ab4d9851f01ad9273eed6167e11f8bd6276cca38e656718f614fab2ef7b203104ab14f96f1bc747ebecdea9224b1f9d6b305e69260412ed39585dc657d369877e96a69674f8af168cf1c7e621d1c96b300dfe26e58ace49f49cd50d270c9a323b7eb74792fc3b0806cb19fca74e354956bf7fa64210c53eace543c77a9d41daf3c8035886fa921967282087bb8435440ef988f865987d9588f04c77745bc31c29794125acf178bb8534f23d1e92aaed857b161ee10a74d19435331ae41e4985c758478a2403228324aa6b163b15b25e98cf7fa35393d87273b55622e9589032084a43e47203da72239d882c01ce9559b96e49a1a9475be34fb6b07f7d1b2bbc288379160d07c7182580582fbc0c598255b9d07ae3230a0142a47b0dd09d295a96923567d5da81602d04c49a11e6490c2fb453947028ac4bebed08e635e0e560dc7f7127eab3b3fcb14247ccf11fb510d385c6507a31d6bc582f9e0ecc46c7d60b9cbff245d12b507e92275e185dc5af71338df6947e29933b59b426f21b0a926e0377d9e2757b54e46630d638c08f5c40320d81389f3f51d4962d4f2cef4beb2b4bc5e7babf14a537f152a6375102f1340849c184234e150d34a81d5eeac07120beb47a58f1d94301039ca5c4e68a0d5c66fb2a208d3489d42cc9642444c20937dab588e782bb27432925ceac70a48a347b8f7d286aeb2fce377ad79d83208f6005aa62074cd3a41ed88f89cb49d3ed9ab70f34f7d71d0b94e76f5249da29e94063308e10d82c118f126943349b833db179ed4817488acadfc83fa616546ec949c20cccf5374dd190c448afa2c3a6ab70512d44ee8ca428ad6492b3544a0f4464e024d970c30bb1449ba626c5a5481fd0e21d2c10b4658e00dcf7648ae3d5e4ffcd48ccb8414cbdcf15dd3be481f06c3f4e0bfdcf176b18bedcc55745af43662f81f20ad8eb8b90060333ba267e413051c4a5d0982cd69042f5c1eb2e01fd20eeedb67d65678119fa7375c3bcf495cb31fb65fc0b5e0ea758dfdc8c9f0b44eaf84bd0c3d9189f72edb8298e47112f2117f78fbd0c7695bd6611f43ea625ba3e6a8cc974daa9299b820be56fdc5551c4a3d4801fa47126660047b97cdc0c5fbd8d53100a8f83064e93601caa105d8e2542e7a490ea79b21a532579e1485cfc55a1aa7fd36dd477b6ba8f462ece0a8c8e39628f71afb2574b811c6c291086eb2baa248a1e5d4676f9f7bcfcb7cd624192b084b84fe886722e9592e5376290009feb73f5cf79a7aeb4ba068e6d66f26acdcea3a44c7e32a20ab9bcbdcb12a303ff20899c7160e58c68afb59df18bd27e9489336fe747706d80cbc35c167df3e5a5ee00178db126e9ab6e03ad15681de6f4cc4ee2fc096caca68802800d68de82a2e2578c30bda968620c57fae44949b4de9a76fc7a10f7ac27908a3c047fe623fc2d131882863301193577d04f87558d4efc952d0a1fcf2a45e27ec4cb90d78b1666723daf72c571fb66b52935bd7949ca5a03061814b7aae2fe8a7a6ea0defa083007a85b2a9aa193468a88d34be40c8bee60ceb00b661f319cb742f7fa1b2ac9c80815e6d3a4232b29dcd8c5cf24cff8dd97bc50c7c9f59f5b1acdbe618a5f3fa7aa5d9887cfa215be3191f9dbb2a410103b8ac7f8cbc787d040ad625edb8820afed9d39a77cad01ab666704fbda36fc346c1fa95434e5fc130f5a4dd8ddb5d51340be0507567b7de5cbd72bd3a105d4d1573ebcc5adb7335c7345d48e00b8a7594e6b373332ffb65de95a43705afa9e3db105cca76e9da88c02f5c05efbd96d798ecb0343d4b95d79a61f85c626d5f840fba365ea4830a6eb5bc21b09c6ef8ee7be6d03cdbe127b1683e4acfeea7f9fa7192d58dcfb55609fe767bc5c32656830d1b16e69bda448c1233d48d33394f3ac0141b014d6f7db1bf1863054d60e9f02f6437a027b6988ac6de6da9a799ccab793c822f0286dd81dc55bba1bee3a4b4ee338c190562a1332ceba615b6b619ad43f3f84d67d2dfe2b4c995ea087494d0db6b835712212a770bd7df4cd3b1db690647a694fb8b76bbec342e8ab6e3b49f730e47e4f488f94b97bef92e6ad26abae718704a441f81f3cde52cc1508eeb6356a435c2efe9167e620475ffa9059648429d5a0c13a180183f105c32ff921950e08b158ce0656744e0b9d1158ba90d84d95859ebc90c3d488589501d8ef343060807c234e4f5bb1e9015ed8df7bb9683e2d67a1cdc204e565367d3a25f46218d3f23a951fb1ca64b5d052285f585a9556276e6d780ec561b79d19411c4c2d8b09bf4865916d4fa706c2d09a9e7b88c8a3e0c8bd2cc3f62397f96d72e2bf95a2d93458d34688636447e603659678ba258e546680405e1f23f06994a04847fbfcc020959890201623aa6ae5e0690570aa0d3045ee222f76d1fcaa7c6e71c36e3b3ea0287e3e7e4a959bc8574846a593bcd59d1011c360ec973a61a420650e6d47ee19b51d2118d5c1e64b90a897e5efc1ea30a3e8cc4ae5fb51ea4eb16bd73c3ab36610fc5153aafac96d19b56c9e3e70822b5b880aba6014204ae1f7dd436dd185e65aef278d55167a6cf1e8b20f836d62afca17011e1f309d694a88ca08e0ca4ba8b9957bab5cec16d3838edf205aa32df176844a3e8f10c3db68f0ed29a3cfb0f03b23bc04669d05d851f5ed7e8806d3f4cd1a951c56d153e4caeb31d0398bb09a62b16324182b183b00b760dfc5f02243142c5585c706a7ddd0416d61077b2d808999c031ef7b896f9c6a951d11c531f34cd3160de9a97bd708be82a10e38892b602daad549cd3a7fc970af3c5c59bd149093f03969486a7c782cabe8d4eb3cd8052bc7ae70a700928b8a5569484685418e4231a4e5d95d7fc1eecc9d73d92db8b372a2790959a85b0c59a91eaac158ec8e623b51b925903bb083057be116d2c4f55e54206064c7992a8b2c90079a3ff1365dbc24a97baf6a08684bf6f19c687842adc169fdc6c21aa02d507a50707cfdb0c13c5653fd1df1ca2b0542ff39dbadcafaaf5d2c40768440911507152043abb3a033aeabf80cedeff9ae60d65818b1ed7819743bd3ce9ab9bba7461a0f7bace9005828ad764093e4e0560163978a4f7d77db6f5d2b2482a69c6b7e1e310b76a03f5a97e9cba206207d2905f0e9eca538803b8b6f3a0a5cd28d685fc0779efea28c8fe13340186d34efd5aeff4c6c1526bf9c40bc348cbc203f7508598cc7c826fc474efd36b64c6096c963971915355e80ecfb44d91508ce53a600224945933b10861f4a8a99feb6419982205415d451683c90f3647ff2c3f7bb61725049a9e6be176f6cae3efdb3c436f87a9b864446f5704e642977870fce63afd30b58b3995f117ec667ad9afcff234ffe821755baeed382165e1638d6c680c86e20e38674c94b0f85328671ef9d2add0c348d6872b4e00fa5c07182e0523ca00a98f2b43758819b5afea485d5aa06a8df252c2b6a27860d42df71f251fa30cfdd5e4e42d3f15ed00801b63717e77e34345f8a64a8284b1c1f3f96dffee2eab8bd17208794df41e08cba750013578b02f90f36d7257ca99841314d2fc5f95345017e104ebd2407921cefd2c3cdc64ed644c49aab93134f08fc80aa52790b18a749cbbd5c3977128efc147db50313bf86eeb1f0ac905181a87878c2f5042ed8a38084c624551948158b754cdb641f6099c5b1e6fbc417d620047337016dfda6bc6f61b4892fecce79f536bb2a19d2f925e56251a71133179457544d5e51146331e6bc0dd7ab009a7345d9a440c1da23c55c864b808508b146e8a564e548ae0287bc2859b209893b178c14fb5457ff83f894938b838bf9a99877fe01aee46c912066f8afeece32aaa0151a0b58f14d1795de3e0070701eea345f0e4fe43b40292f2546eedd26926d858b902ae8e4c48bdb72f0d7d2ee9c0097ca4557c90aebf13cac23c381c03293ceeedd0d34b06c04b086dd9119357217379c6552a03ed13da64a9d637d692ef5dd91f93b62be9353548a49b04422580b1a5b7407be351932d0e8c50df970bede961e4d147934d1c87c6f76f26a35f239daee198434ebe5c7d50c778a995d91f0a241b9b66ac151c0180654561ae61583bd75e681bf51ee657288077b789bf9e6a55c5a0c2931c86c30ae51b6b6eda6be9669c7de2ccc5b443e707704e087086529234e62db7bb7e6acb12ae5a503909179fc4eefa712e58ff9e2cc750c19b004ee21c0f362219e379816100bbc3d9c8ccd0631ac1425ba4911bd4e309e53f45ec257f283eb6544b143895526368fbe8744a1d2a5e7cd92df81a9efe934a5cf215270c9a48a93a234f6049dc12faae999b709e17a71d7e5bcf2add95ed4cde679dbfff66aebf27904b05f633271f93f7e899e0d435702a5c72b3a70c218fbc30732f1cc058a8932d16bd431d74e5a6a7a3fb76e3aab8326d45c23be2d367173c2157fe2bec56fbcee404210c048c37e5b0be5abd4eaefa51c6439a5154081d8324a441fd3e649570ae0c5e09302c9da248e6c0f4d83e7bfe7136c1ce4d83f8d5a0b214b675b7d18ab1808b58cb766d0d96fd5b3062d990349b542b9c689c5051653aaba973d6eb23f78f8e6550700fec466f9a85346868a07d66db938c0e3887b325183b8882c312e60fc0d10715c957641fd9fc627973a03079efbb18d1002574fd38952b9c46e0dcbaf52bfd90ee2979cee47a7b9e8947c0d91f0a5a16c049ccc25801dde5cdb5ddaebc179df2eb7676116ef9e449d1d143202b863d4a8d7f0820275cbbc44e164da8c6845a2039f3b7f49481f04469381662548f87cdc5193f2d8a767ae2c03438881c542380b645a8def0328d2ad55a2d439884485142dcfdbbb07d7404b9e4362ea5823c17115f1fa6419436b63211ce2bc017fd8f6feb38f1e90da00d88ac5afadb6af3ed2b2775880678171fa616d63293610dd1880467d0c9438ed9f94c66aab294ed62435910ff8d191ec845f82ab5656d5a7ee2bb5b0534dc532ef18215b8594f93fbb76cfd47b1f8c398b3db2e4bff4d541de0e0983b7e9b482aafd9500bc3b7ed2139ee3d74ec2bfa4596078420241869feb123d0a6aa85490b03daab7ae60e7e1eb3bb88e2b29cb097bf52373b9e4153448f704bb4838b40d615e56dc2a432d0029cc22196933a93869c9a6453444f05bf460bb6e02d5d5fb51f4dc42f23ecabb5d6f292170c8c532aef7456b7ea4c1bb2fa66b8fe62331e3a5f17c467160f2052bc90dbce98fc3e7b65ae0217759b4151adf540887301b50a4b99f88125ed81a18098a4bf0849492acb4c43b0a7b5cd7f207f4914166831046ed1d62feb07f741d673cbd12c143a86dc84388c37a387372c32c2588864bd39621a6573ece9e5902ae56570d25950dc2bd248768450ae36d6dabd4e1770ebce52179076b820c32d649101a2e9086297749d9bd05b4f5b31b2d53461533aee57a856ff59d5a5f4002d41ff7d5d9d953f4895d96fe93bc846ba63fed691faad05cf2a2030f9d9abab7725818289d86b54fa477a9ee023c60789f4df2913709d385ff1b59bc133b69fdcdf1536becefd23a196c531cce9fab2e2b076a236bbe9373a164ffa72133a88f6f31d27360fbd466969a88c077a79084473c7594d31e502fad2651203eadde44cb184ead57692e12e234870c494e55c110729f68ebe1bd697dac3e5acc62f8ee9149b15affbd8c79aec19a9c2e7688e8ee7fbbb8ed324cd55dfe1586a814c1cd37e5826be9b47178598519d5d10819dca07f690088bd080a98625d33f50220b3618c476da0f6789ef247f719645367c9806cb6f815b0f8c89b29c9cdaf0cf2ba21631d0b3126a45d68052358308dee9660a39bdcdfb7a8433e0a797a35a6131122faa2d0164557bd7a033d5c0bc0dd0e0947d9cc4ac22fb33f8a8474a60f0e9534e4512080f32e5d3338a9ea1cf71179b891d7085cc81972d57554cf80f1182aa7372dc4ccd6eaa2937a6a1aef35269f06c2662f5fefe96b20f8bf76a90ddddf5218ff59c377bcd10d3fb997bb5f23d4fe8489ad06adb65c6957e99c08918ebf72ffdca59b74ae38e5469161b6f789c4291c2d3b21e632a354733beb1eb467aa4ff5eb3a34c239dafd8eafeb32ab195a7baf4bd138cb1b702d0f626dfb427202243e2a23ec8644ff90e47f6a1b34fc4183e5dd2a162f91b36be3bb03c597dcf94586c48a0ea5682c2e5245bb9b050cc7344334446c3e60dcc64344eadd6d93a13a12a1fd8e6bb5a6d2e6a97b18aa04d60991026614b9ae338b9b0234d804812733d11164e1d9e118564a3da52c729074de130c6a7e81136398508da7f4a2f29b723fc0886318cc98a4a187afccb0c95002be612adf2adfed7abe2622747a306c46aac21b4f654a8a736dbe0bd04359b41993966203c179277974fa8330e1dcd073e557f98c8a32477a18f7a185636354bc87a63b7e1b3181980aa459e72cd205da29408be1af9527ce33b1e73b32fa0b0c31ef282e485a84cbb12226704ebd6eb7bd9358879f37f59e0be4c90fd826bff10795ab7e064e019427367b6b4ad16c9b09d58bc4f98d6db58634cd8e43eeccbba564d8f91f3a83ab8afad5feb0217ea06af1297499b68ed919431d2c03795abca59d26d54155468790464979dec91e0609edd6e998d02d005ad2035e9cf48a9d2369b93bd3a82ed6129eade58f0c0f59f86fea9f31e2997eabe986052aa4bb64d3d0031a8ae37860f25be4db76fcff1858b4ddef54fcb98ea3a640fdbf217647911c034afc87e50c7c839dae735695c59eab86c35e6e7d13f97f922746297524fbf90ac3633e9be88f4b8ec028b8c36e87857990666d0bf168bbf1523cd399a52d5993b621bfdbeb336b4ad999e622a7fa7f3042d987792d2b1f6e9d99373e97b719fb584184eec67ab8dc1194bb9d6bbf549a6b8342ccb83bbf3d147132c154d13ac71b132a6192e8825cabca15790fbaa8ca606a57060217dc391c5b8383641d2c2539a28adb2b26bd9968d3ee83692f89a7ccb37b5d9165704c21d842f62ffa939a2570c75708093d410b5e8403a483e294b67730b56344e1e1f5fac41abc51a085b597c65b49cdaa8defe94ab3fa2f45bf19a87efbb794954cd630a0fe97af5a5492d41b435cf63391fade5cc26c57927b2061f2b51b25abb841f35432ef55392e5287029e7478a32bf33e0c84973d34357f5c207f6462ac691de36c61f63fc96b06aacc99b37d8c48bd8550d61ad7630e897967f5e8869f630eb9153e5a39b94d596c1f9b08763c1d3ce5acbaf6d11d1b5d9cb3ea19920cd9e002105825c608f6b36c67c6240cfa7b27b5d504e0d952508bf8902b0a79e38c482230ce98491d3a3259471c4cc963f5d1ffce0519fb0bf8ce8a6737cda79a7489d351a3410616bb9b38c1039bcc414c700d4b8bc3bffc0869a981906134387962191ca1ef4dd34bd8569674e11b47484dbfd0a9ee6ba3d5e700aa0399029e717e4612f79127d222f47b57947c5cfa34ba6e96266c5be0271a3304ab45c9a5eac541fecd7c4e915f79a6dbeffd890d05b4aeb72b440bd632c58c2ebade0d2d644d0b959b1b3b60ef5d511375b09be4d67227ccee47b327ece9e0c5483f34b0adc6183ca1a863c45aed8eefa8139b19e524fc44cb2b616f5d7703a2f2f8fe4a37bd34c180868e0aabfadac680ac14976093d52dba7eb73f8817cbed0aa7e1ecd2d01ee4f5765fa48eadc0166933630695df4e1b8143f1419fbda5bcadc460251c72ec5a65f48e90244dda5618092b01de380632bbf1ba73a0fb0b75a87407eb09bcfa86adba31d1a14395046b1205f27be6e8cb2460ef2e5b95a61974a5f60139d96bb0a17b2bb301c667a3719d73613f90d695fd08bfedc79a8afa8d296ef58f8c59e55c9a88ee53aa0caf9e5ba8d9a18fdb44a1bfa1b4c588f2f9194908696c7a3f192d45bb4cc316710ab8b8656bdc25a1f5fd440235da2ccec8d7cafe415a9677f88ade178ec597c715f8d88216f4f1c7e14853df35fd4d82ed8d6b4bc0783f646692a0f7900a8a65704fec04993ca1536d0222983452216e4047984a67970093cbc17990570a5de6d9211675d88fba9f0020a7837566968211be16793311db05465471c00b1b0e12f43b56e3de7a5612a2a2ed4bbf242c576e5d02e13843bad9c1d5810512c533ccaa8085e235c10cfc6c96340b674367783be32fa64780fe1b0a1cd9627a2c4f37a06b399443ddd87107d96ad57fe887b734f39d5749045b081f6024f6aaae516b5a956d09e9278ccc57fef27a2f47d49c5ecbdcc662dd66be181a5dbecf149815a96aa0480e1b80a37c6422dc0d1a24fba1b67dd56b812929b540c1cf47edef0853c61d2bae83da8852944ccb6bff025b1d9e4a74512307de978919cfca6e536d630966e94bb092faee5101195be07261320b2736e34114244c8a5a3c0cef9588131c8518be7ce49287e419e6d0a473e35d2cb2a3cd7b67ef3d2515db90bd9653bc4cd1fd1b67f6f4f7382b4534ade33c4de3bfd2596c5460288d003f63abbbf43f51950692b250ff99ff0248cc8f5c7a21c017e1b82de2ee3e33deef02b1d48c92a78d2ba4510c111b6412877d8b928771f4e7aa05a4aaf9b5ca6c579e6319b40eda0a782c194c213f9cd0a89fd7ae289d784de655b106f539e26c1004e98f1b50b0aac06e220a7643329498dbbbf142a030afd376a4949f9e88b801f7b12522f90945816e9be417f175d6cf8fd051268586b1db6f9fde5240ec4f42985e6fa4ffd493ec5ab4e46d1a97db349568d2276b2cacfdbae593124633bc74c005e810b17cdbd90f2de23db460c3667405c7b2d7474b0591350f334e460cd43845fae27971830e4b5dcefa9b7f78098e91c4ae47e8ce5463b2da61e99bc51e01edd154baef439dc8e28aec6c334c496332c879b33e918c56c1ff3f1de2990e9d3c2fe27c92d9e95964e9e9340a2762088dcbd18c48654c0513d0a3eb3a4e0ac3f69f5e92f40d62985e4d0b4866cdd121746a73271b1f25e39572ad400fd82d86783c2c4c452d5b82cd0a9cf55b72a3ea522ec472ee8576a83435b84c50d68fb1276e45d81a67b88742514cef9cba38c2155c7a97a6fbf6fffaf1b18e29ca2616fc8d18228a3448a1d310e9ddfb74f49cccdabc30f415fb5993f52f97e2176c1c18cc0c2cec3b7722c6ae941422e4a4e94d444e862907f17e07f565b550175b0b57492565d9b4b00ab49cdd50e201e9d8c8e30ed7e83eecbe9178a6a8ed9b650aedfaecc4b45d171429ae9cbf621e590454d41e1a271d8546889d980b77ec6e31017fcdfe21818d6b725f55d4d8d230fb9e493d9d35100c8a8bba14e9161d72ed08b85794a985821df8eec27fe40de2b6dac52c62be78619a3f82cebe4cb6d6c291d37168fdf9500280d87893137a1f9488d89a3d782133f2356502052f8602714221f15459d5dd13ab010ad52e9be8efc7c5e6e2bd6670473593faacc6eb428612a5e98c9382a738c9ff8c404a9e25f3197bfd591978435e6fe7aa2ee2f4abd2de0b381160ced58575bb90a55f72d32b3b0bb395610fb22595ebfa5af0d7233a80a4e0db67525bd2d4096594f4f68fcbf035fd2852afd396977dd4cd088603daf0e82287bb88f0fa9684856d431a634f86a46dbcf4e82bc247cbfe96a6b7f49d43fc64cf09c7ac99225cdd52211a1e2d63f72350bd8e98b7bffa5814587552317213e68791452aa2147575d0b264b8c8586b1df0b49a79abd3620e47fb3961d717c178995fef75505dcd839cd011a862a784211546d8eb05dbf342213efd44801fd5a9612521fa78680e7bdd827496b22816ecbaa6274d5adb7d8d2a17f05756e4f54c35b5c1cd174aad1699458f7a0922f00f6ed5273f3bf90845976dedf249da8617d75608c488409d1f8d656a67a378da18f4a5729d19f5aa8e4bbfdbe698f7c8e4529dedf25eae2fd189fb042d66eba9b1da533676858af66727dd259ea0062c5b3047d8430151d21dcf7d5268b4d5b6407c3d4646d5d2da14e4933a45a3c2e8251f0e0348908e7c8013d818ce326ebf1533cebea48cc6e3d697059b73581f2ce40b7238d54887c55dd4b6f5c27bc49bcb85a80ac6b1c311cd81bcf35bb8caaa5a769cc025d93922db7d3ee3ce84736308dcfe82c41a50f08c5990aae39b0314dc29bd666e540371776f8ab4451725b5e7bc0b43228127a22c9717535975a9b90f3ce01cb6f44f32ea9b8f4e4feff7560917825910bf029b4c8d35373879f2623078d66e52050e98ae36e28b55f15e93e9d7249b5cd823ab17cc9a2fbb7fa891781ee712a6e12371f5fe5cb3b2c9ef42345e165d8ffdc6e257a715e911a44d5c6aa880f3a86c302d6a2fd341477373610ec28a3375ee0f99e98342bdba647df2dba62c074d4c66f68c3c0362498aedda25e4881370566efbe3f955bb68946d40d51d039e4549543e6f7e5da2ce8fa4b5ea81b4de605bf5e4f48ca73d234159fa33ffb99f60e8e9cad35a0a72d722b2b86dd5f02604b95a0c9a13d44dc0c004ce3c7c51e479ab940a8428a0744c2d0d3cc55dbf0bd51d986aa6993e898f0ee02ae6edcfbf8716702faa3f7085365d0941cb8adccf20e47db5d48d7c9e990cd0172b5ea3a789e816165506e7488cacdf7998667c5bf0c30e08973d40c1b02dc7261ceef4486b009a3130dc1e05162b7d60a90a6a5db88d57e1745374c24b808b8ba79e7c15179173c9f51f687aa2e0a0a035f48e2cfa206400e40165977290b337329ce0f38646082f20c64eff1b52625041af20a1a7440e6b1368a7ad56f8f2cde372368ebf5d1e33e14b7fed534904ee11297b3060d9d55a3e2f0d337a2345987e88120fbb1c543dca490e7c11de8e6d610259674ca63124bbb94d20e915b1245c9f296e299bcf0d90f5fd170856955cfb99daa391f93442369db04b3cafbe1f7053c66db7dd0ade7888f9c3ff9e83c1339c434d4e1869e45bdc21818015c80a5dcaf5e3345c6550baf93ced233a0cfe909f5c04431afdb7870f7014dbf823d170c93de2c9c34ed5b01c9cc4afe1d0e810add0ff5bf3e68fc389f88ec66669f411fd8543f655db31331bbdc865cfd08f4a0cdb08b5ea797d6b3e9a20ede7b25d4d18965796d4e42d639470c68f18a6b03590e87de51d54b7fb8a7b6706b84d93db6fa79e0a4aff2df51d71d30c5e0904f95e67ec5d17272b8cb377c4c6294367599c11815ed0ed7a3f0c4d222c962abee65abffda59bdb9fba41cd53f8ec64f4864167aae95a05beb9e172d9ed0866d38ff0aef3294c7c8d48762b3b449cd9b271229524a9a8e56305b70ef56e4881386c43b1fe1c1d834c4084f711fd49079c748fc33b91024baa7a75be1134e028e6b506e2030194b80fab45d53ed37b9bb00a481ee9336d166ac85ad912cbd08f68d70997ee475ff832c40f7efc39378be9b2456f6d88e0724819e8eec86f65c4530fe4f797650f514aebdd33276f0873f5f323e305349b42671061b7209ed795111e6a24ca06f8c45777e5106b7a6f38934d036a85ebaa72d3592a160aa275a1b433fa32ee363c5b4b8cdfd9f23c9d4dea1a7dbad3db154c19fe5ecd97c5ba9113a42e7c8332edd7f0b994e4509cf37c0b0c11e9b2d8fc9be99130329f9e994c1d9ebca05d64a4c867107f289aeaa1e7858935054622365e909130fe96bd16ddfc68de2ed606efe67c81c01612ac7c4092fc3c059b516b7db8becb22ae3cbfcefc21bb8814ac45d3ed5a133b7d86d17ed5b0b4985331658111d6592b5c3a760cfded1c9cc04a30537f3206e772972697f91bca0f38d2ec6c41f982b3529b492ac5fc01a4e88543cd2487fedfde4810eb414834d6ee49a917af0c451dd7336a82c5029366833e1e3ad265b506bb968b9a6b1618b1f0a7ec393587274e800a5182f9645472c232b345a886656d34269043854dd2d42035b39ef1f0899a69060422531bf782103d3afef638a474c66a4772e20feda6dd24090579a8e87e9cf06761fa9e4af3fbb9d67e877ca6fb1237dc6ba94dca58d6ad61b3e6f0087f87e056221fff2e135b60639fbdf64073fa7776ef42bb9a3c616178a9409b26da1912197e5778abb46f4b772d7e058fd324106584c90dc3c2ed7c9ea160cd4363c42d057aabdfc52f42a2c5db83cb1ce8329f522b4f3597c329101691db6539894d1e2a7b5b515f889a710baa443ae35f35ed77903112f11f7954acffa379fe4dbc9c26e917a8caeb66e7256557bf052f096a348de79223aac030c468ae59208c27ae32571193cdd928aa8575f2ee94a9042669fb1de300a3f39ff93ac1ec66c5245ceed7cf8b25ee28f15cb78e5edda8340d9572a0ed290fe96bca127495d7f862b98d98ae1eea24b867da3487fb4558ee256b2a6d7a5b1b011ffcdd6c739e9bc6fc75a21585dae3d96841c380dbebbe159415db86ab922283926eb1e693b08190239e3dcaa0a4706509d77f40ac1ed3a393d5bc9de3adc953000dd5831bfc5e27fd589a700a3c67980cac9492691f4026a3b11e5129402d3309f0609c017c22130a07a79b1a68b3a3d743a480f7c52131823380c51e11265c1dd11be366dd048b4f4471236bc52c51cc1561afc23cf5692e66f78a7bac29bfde0a65369db151657cc731618d964f32fd092f9a905d62d684aa1193e9f80e47d4ec34e8af07c09f36300fd4df7ec042123d3eb7e6d6f5413c3a996c1e74c080fea69bafe0633a47c1139480d1882ac705cb4e9e58c4b024dd68a629fab2bc788bcbc4c7b04c13f96179f689b8f81f7dbc1c026bca1beda57aaa0badb99d1e21c85a81ee729874c7219636f076f2b2f0f8d53cea4691529196eb2e9ac9b922f1cd833d8b9efad8390eb2f0cb32ec129ebfb828a2168611d1575c1f40921ea4532b68b9020dc873c6db9f414152045d911984cbc340ebbb4380fa3e18154f7f66370f0be6edb9470ac22a80a3676b2be5740cb27f6a549125a0466f27fcf30f63615d9c50afa25c3e44f29d9c87f0d3a0c1bc4029b1fb31d1b4531a46c710397c28eaa78e68ac737ae685253b81d24d2679be189c93608535a40cb11079627543fd5d9e2f6f9da78188d5fa4b41c56f1ef6ab9185ff6b873d74773d0308b50306691250db59f016d77aacb4edbac06f246b23f3bee63d791126250dc79162913df5ccc4818ec6a3817c556357b2929341a3a497d7f6f7ec5b49c296192b6d6bd2c35848e771b678bb6275b90f8b93498a469a4bd6e95448e35104c7ed600a48702745c14465e5a2a59e1fef8a3b910d260cbce3bfef9b4338dee42522ff7e1ea1eac59c81cdb60995451cf33f5260a36b78ed3d66daa3bd081b7a5c1501b4512b97164107e9f47d091068831882746a43a6f263a4ec1f61cbed1d11b95281737654c149684202a0115a593f9fe8b1291e7044f690fa44454a24f18a65bf34ea7fbb0d26d243f8f484a91b3965e454479deb3d853e4adad767714117a5cbeb3a284fadc0a49b4414f2f65b4b2e518dab9fd4958d739fc799181fbb0dbc2a00572ed0da57107affa08458ba6b8dd2cd292f733f346c615c642f3595fe309fe50aefabba2af831fdb45053c19b84fdb381b5909ddb90256baf30b85d29c61fad0e43342be3f6afb3bc8b50a9c0c1f8886929fbb220485911c6a55def8678ad0e4cddb68e6bc9b4a2dccfb95189c8431aa4445f077ae9b71431e09595d3a15d9f53eb6cc31268194657ba1bd45517c22aa292756e055470eae61a05ebeb2a9f7b1e838174f304854727890f856b89bcfc4c95b204ca9931ba994a5944da813442a77aedac37de0c07f6e6d57ab529093999df2e0a8aa199dd1ca3f7e505e83a4e385c38e92b8d4369e0128458ed8048e222a897f024973158d6966a390fb7c7895921995730f1e79d23acf1750a164f28548db972a4cd2f9a517b9a74b6ad24ea5fb39dc4b357190f1281aaa27d89b6564dbd170b67922c700547ace46fbbb6a9abbd84d8b8818d932adc77513b9ea79d1c72514f1e1c31cd442150ad516a05b87c2af9519ecf60d571496c5790150f831ead5eb33143196aad9eb51adba27c6e5ec8706855bc3fca610ad0269e8b49a1ac9c76a75d6fbf57896f7d8e2be923c3c6f66411c798969119ddaa53d443a2c9fc4518ad171e9b054522be563616c34abaa6e8c247af3024833924be9baa2c870a5073f12d5140733d95b04f9d27db45808984c3c02b73bf40c0f731e5bc0bb4cbab8359bb889de617b5d416a39ace88473b319a9b689b7b9a312aa645ce27e23e6aa642392254ad96abf32be84daf49deed52c0b4e0fcdffdd9c45c22317701b25ab1604b7e7af56ad74428786eb78c62d1d386f367a55acd1d8e561de08282fde8595be546ee54e18eaedd79ef6ed739e193a9d37ca1fd0eb4bfa4a257db399bfe7ac3284d0bd8c36a0f7ea4e9ab6cbc0c310392c7aad3bb177a160c9e03c2067d3ba0e3212efccb7b395d2ac514c30dd519c64f826c7146ba524e28615b44b441ad1661d5330d1c385ce4809b29cde532a210a497a538f80d2713d420d5058700db9fe585160e6160e3a4e6fb2b7605b338b32440219b601273db88308cf575f8e0a111332f4644ab629f23879136e27b618247d074496700e6e241e0b866759fc85e9aff234cfff14c4901fde10d6f8ac5415f5fb1c592120fcee70d899276f2b9baf98798cc5e310f3cd6ef134b55e042c4273455b2472d4be5b4e47c5eaca87fdf35365a24e826216c06b55260cf5aba04b0da42a4a07063c369ef8289bf85bb0fa11885592897173b0574b0f09fd056607c777384c6f7584fe55d9041759a9924fcf8e9fcd670c110966e4d194c6a2e6bb2cbab158a2c0d1659446fd38ca0af1cb5b3edfc081a2dac953385369d324f199efb5328a2a7a2179745dfcc97eec2eaa891542d62773a052a40b057f6e084295f6f473a5e5d4ff8da26e517ad2b3dbef0a4d4a1ccbd2fca27712e9da4691faa7a374ccf092b25fdfead1a9949d720d8b51b0d64316a3e6da0d46530ecef19c787849d5a22ac42c1ea43a9af6bc2d73a8b974d857706c561108ea458ac806e256554d561515798c1047a759f7d8b6a92ff8859b793408df6bb1242d691c08ca605cda37fad97a296bcc5f245cbfa57a17c95fd5661fc5afc6fcb97ed28f00d5afc3cd22939fd11a1d4f2ca80711d5ed6c67938bc29c05affa521cc1209a82e599e711b182ce093a548d232eda24fb009b9a98044f5838d9c0a51f04839ed8b9d46d575b4822eaed7d5d01abe4b2f93af2cbcd2bd384c7ffe667b1e2a4af1f871ac9aaea162e6f2a9c224762b39caa6fda9ac20bf503f976934753260bb2b3f22c42c3e2d1c2b03ce96da2c6d3e818dd6874ca8a8004305f5e4a564c517d95a65a3874c462f4e0a83513b274a49e7e9f7f9ae8a94e2c5ec2876fe1c06a3a2213f578f93096568702c89bb8b84c337c7f1818e97011f4d744784d13dd087b514181b484013f4381d46c789420aac08e8696d74fb9518efbac195cee4db582ded9b40854031a839d99cc09947d5b09d087efa957213ea4162ca7fda620001d1ba96a3d10a1bcd3d79ce8ffb42726344f1a1b7c190d8fa245810c188e21d4c1389003128959d01c2c31427adb428757b149e549b938bfa952eb82bb1c69c2f15f0533ae8a6cc71d9af149e6c48799903bc7274db4fd56c8f0270c601dff1945ffd5341175e51b43d7b6f91ffc7d7927a2b6bcf83484077499a141d3f63c35f895de201bea34fc0d22d16eafca84697591a95645a78b30f5261b8644879e87acb6cb806c4e2c72bce12f80f87af8e4870bd577ce980cb05089662271397be05f8a263d74ec94aa61255a1ec7363f3fd0091d35b400be2194aa32556b09d21a531cc01ba78cb12d4265f1e3278e0d2055b48d7c2362a943a8eee2f9a03e57d3fb021162ed4f77dcb68e5533dd58b5171b6aa45481b4d128cbe5dcbe9246c7a129a9e5bca6e5e047cf06afcf266357b0012b33151673f2c7480656ba9de10b9eb5b7137d99bcfdcae0513d7ca6c2d8e0cd8785ea7c248e9bf956707e1013a54b7f1421f6425187cf7da7e48dab1924866f4372c873fdf5084becdc9702801acc6a2ea9003f40d87cd8d4ab919f740d463a110a1b2eb6ec9f714ee1d65124f2eb39c582d4ed06b06ccede6395d65be005f05ff293b20e690277301205528e8f18b39b7cb3c7f0cac0c13620ef8a0ffc3b1206d21f558c9a4947be641353ebe93f252b3544b34a24324fcfe05a1cb18599960383a1192b641b863236e1184ddc408226ece108243b19c89cae2ec17d90fd9ab0027c3f7b19f4276693e2cff0df8a741c8526d312e912a77057b27df9255db1e5a3783b852f9d2160a8f692d7a5bb94b30b1b18b044f6b7a23955070f8e565db13e1f477e627fb8d7c192d9dcfcb0cfb22a0c5c472fbfd6798e5575271a9a30a67707b6babca00a2e6ce5ea17a390f6900ee71a3f5c4b6fbe06060fcd689cb23065a19ffa30c915d9727c2d29ca962adcac77e7b69ea0e0acb19cd8e5c0836cc30cedd90480b8d9f1857c231b85f6bb66a43adcac4a8b6642aa45cfcc5a5458567049638b2597531e7da168a2144492c6a75ee322bf40649103e54cf1130ee0237a984eed109b09acaee57bf49f9eff8992c8ad3144514af96b60a184d24b3d99c1d3eb90cea96833dfea2a18ae86e6898d7ff1530be376ef6959d8e1c1d7a3ab942e4caef9c5c274820d493ea01c6a3563ebef6f2767ad52d52504c18cbb4f9a7cdb1509cd3002ffdd185acbe329ca82d0ecf5cd9bfaca2b6a1d114fb1abf4cf77d11aad1ebc516b61eb5a961b1fd7020254212f775c337618aced3fef0852c97127227950ab2d07e878cc73bf0cb6d6e6fade9382af126f733dcf49fc360e15023715406a17946d4b5083ba6ad8a9c8dc3de49c8e1bf0dbbfc05203c99b90b76d6069aa2d4396d516a78fccd92d32929a8d8fdae2ceac3270de865c1921da4a76ce6b33bc6f2dd3a75c2afdaebab222eb78aedc23a709a64f9266eee3edc42f417fb07d9d8072e9bd25eec24444e395d32f200801d51445dde08024cc60862226ec61c73fccde3643e7892310a6fb90f40f37f102fc016eae847d1389f7064b6e62544d912f1639581aa6a265ea33f6f58ccee1f57662f957cfca4f7941d7e7a0f14612b279c5ff5cfb40f8da3eca12dfdf72e713b6cc811e86d46d7175adb96c27ddcb6e6ff27610a1443771c214fe61d16e573c27d77e4a6d43dcb5b6b94a325d562604d5f8b428b784ead0ab2abb98171c979cc59819771a0a6618eb43818d5b78205c9c49457026890bdbf39fe76162371fac2f30754d1ebcc4f75cfd4a59c1b8cd8fec70fd2a9797eba3586638a8ab5b51ac2d86bc6363264487e590744e82fade3714dd9f0e06aad94160f32012e7ab88723ad26d0e413dbaf1ee16c8823428844d314da8b5b00f6657b0e7f304f2bc628b2e6bcfd645cb60e96fa4f7c80ea7b5bb8b43bf304ffdfcdeeb3121d5481acb55e8a6227e34bd00236c4b22c5c26332a05663983dba5450495dafc30cab5c3293f51b3d0b087c81cb25033da72df0eca92bc6d4fde0e6b76b1add914232d49812bd44ef55179fb4c63b74ed8a7335fa75ffddec822a66055e2ff36fc4e70904aff7aa400d2240af63534749433ebc19f9f28f1a89a0182b01c232120f5e46831879df137b42106e8199d0eb0bc93dbafa9a297aecbe29adf1ede2587861241a16dfdc3dda8f438120fb8775d673d8f569cd10cc5dcec9152a7c6463b2792fab15542759c97b28f686f1f0483504c7e29aabee507ab3ae142c86cd45ff11469f9281ae1e86d920eafc425801ecdf4763c00743f7603f4a9e5309d148f110008d9638a4cde34d0aeb1e41680891845acea539fa745e0da12dce2aea20b13f0cfdb2d44468b456a51b6aa51fedbb4829bdd407128945405bd90ac7d7b03ab9d2627a44cd86b32088dbcd6bb450aa557b70c4adeab1d15bf345a317ad74099d0dda643d060022433c566eeb5bc79ef05a574bdb7aa6fb0ecd0c2e4b595bd6a3a2f61b5d076eae01d5e567000719c1c0f9f57dceb58cf3626ff9b5079c9c6a6d4de8c7260a089ca585867a8e529db8d29f9e3d30601954c3c5424dd042977fdb4ef32dfb82944e2fd0fb289e55b228e5dee22aea903d1a3d1ef0af73045491470cb7264e6543f43d7116cd0a33dd66b47503d8baa165467c3e45299109eb05617c4264f07de7e42bd8e3cb907c7f58e39169704843ec5dd36f4c43d73688dc3dcd70fcdff5ccbb5510f3b803137a516cf05ccb2cb94f5fbd0c7df3bd04fd42a8ceba1f363d2ed5fe134606ac8763c74945796d6751525d172cdb21b58b59b950745a2ff0f072fc72c9fe233ad38506fa311bc091e70ed4800b76caba36f08f17d107ba214453e71f4e17ad386a78ca6432dfa3f8fe1e24538ad2b806f8c8b987b5fd2e14cd1d3f59e854c23e175c9f3eecb79778fffe3bd2b9915a7529d3b35572247ed353e5c0b7cf6cc1abb4104202aec1d2a381cfb73c2d58ea9a8d76e75966fbee0cf15d122c56bd663661b192eb9d96112a5ccc3f16665d9aef2b85a9796f7a4855faadb29e16885e45359077f398dc44ba553714bece74465dc7e536f396e285377f8e58e98f39dfc87508f97dc009ca15de8ce72db2eb496f08db40911f3a476ca3cabfcd3f6013121127838f6768fa24e81d3c231ba0b9c98119b4d26243e87dc4df7da7b108726edd458367e35c5b0085aa1fe5ccda0c0144bb1de0e080bf985cecf0c3e4250d619ef9af1605a6ca83b5b2cea8f5a65c7d3759035b1fa74f3a16b0ec7269b53f2b03325f99e6af0212ff20f6d8495af71bfc7c2ef51ddd40fec1958d15395bfc3afa63c4fbc86ed1abcabcc66758d973ff6f09d4abbfd8243d5ed8925a678a8d52d536e2096d7890a8062715346a19c485836d55bd3d18b5b1662b516142315868e171a66d9f7d303a1cea4837f4bafa97855359d12d25456304c99a6843867b493638a35d66b9441a762f717d75b61379e8f249d1febf0059857f5d471caad4cd106c8ef1d33c688143d3c630fd264502dba9f7284f86d14db9265c8a3f9e50fcd722179dce158ca95814a57760e4bfdf5cbaa9c06b2244eca48ac9ba234d72f2fbd63ac07d14f3a8e4ffeb4f61afb6a8b0f7816f5062b8e818df25d8ce8296ebc03f3e847d37bca677e694f205fb10a7b2a84404461685bafc5cf6cda7cfec5dec6f87eeb401a6cec346004411b75662e568a76268d6faf7e039ae88268f9e48dd7cafec08229b2d9081b205f68fa101d253c05dc8ef4b00b390624cb8fc303c0e7e9edbe6eeff352f738d4543bee05c1b462717e17e28eacc47be0a15dba55de7cba35961f665c77042b7d4abc2c61778abc57c23e1f638991f265dc23619d7de549bd06933f52a224d1c66a093e520b4947aeff1f29d6dc2beccbc4d90c8efd8a307ad7417640e2957148670cfa73ea34d4219a7ae97b0dc63cddb2cefadb8d62b9eb5a84d334085c94668a5075c1943ee86e3ac08868721fc399b37097285b2e591887f907c1424cd2be3ba04965e90b7ee49407f4401c5e9f36df00c46ea54794d49aecf22c7a5d24ffebe3e25036e79a861f85d68eae24741a08d78e2a82393cdb042a556bb7d94c45426b310c41d5d7ebc4da4b854b2dfdc0edb3fc2b249e175457f0f7b2f2b25cc564e939b0307f1f8fbfaf128e486fc20946915cf21d81e4da7323f9cb29fbeb51fa5077c0316b525f93753a2411c52de3e30baee7669c9322e6708735c600ee441ea5f9e43dd60285897058a8b980a57c1677e0b314dc45c542b1bef27bd111ae2e940cc459da6f831c121cf7df90d418eb8e1c2623ce8a43942792c47ec87d98123842acc18de5bdfd717317bb4488ff695ce5af5a292291cb06fb53d39883d8525e06534b5bc72e65d5904521dfe6eb5a07f24ebb5ad2171e578875f7ddec32353a376bfc30e4f5d7f0bbb9ae5c6b852caa9279ed4e1bfb81be373a679b88fef835b60a1b7d267223c90f4af7883a0a718b57819d13f2a5a47b73d4773cad4d1f4a88170b9082b7091a441f874cf63efa02505d65567513ea690dd9b16563e4f754c044dd4217a5c70db19c7aad28eeffc33297a3699db86b2497df5cbfb5892c9f434ca4b353d8980863d7633f45a9483451cfcd4bc4e4ecce212f09d9e67c62caa335d46c45b8ebda30901f6672f29bb94884e0adba8a3a6779b87dcb83ae8c156dfe96d4ca25800a5e2dd396cfa419160121621d793fd6e115d3329e367e6f98331cf936d2d0a1549538220eabe92d9fcac8a8be2e3485f261b6bfd609ff1b19d8cab57c5df231df422a3932f0bb27a4e08da4e338fbe14ce48dc8cd1e2c5a673dbd0eb3bca7d00f38b695b1a3725ac6a3bc616fb132b4607a099dafdf45ffa9410844eab8992657301848ea6b827c21d10714fb2757f7d533fbb9faa23bdcafb7ed529e0b4bc1f6426b756a92c824a0ba52471636e030ae35c6b2919076ac3facac9e6b4b83d2c13f9f1f77a69a1c9354bdfa0d7b2a0016ecf11e0aacd26a785e9a1fbc3a1b7f9b56ffffddb70e4bf4425c1a9b80fbe85bdc0ef31da0885c8e8f0b954a404505594d12785470f5fe93512156c2ca70d73166210ffa4bf446d88671555ac5416ea5af1dc368407bfa2f9a36e7f7974fca229740d2b48793328b8b1abba0570028db51bcee091ca176ea2dcd4841c017bfb43682d5e6a06fc577786dd6ef6f05030ba9ffca78a2d36c5cb089b5f951278a47cb46ba029773f50055b1ca072905200366a3d841be8d2d5860699b9affaf098cb8ccf2a6fe7f7bbcb4d071326748227b3b83521bcaae75ecd9673d45270373ff23b4c81148629935fb3b2f5deded792500c5826c20171b358a99ac79370cd6be20a21df4eb699300b8e764b1556b73fe92c1c1de79e444871c9976722354d2062f056a8489a184412e97cdfe21eda6740cccfea97fc4e7be5efdd0e5e64501f36ff363505a8bed3d94b001c228e8e9354687b5255331787206810b8c50cac8479eb4f75de61ba75d5f8cbca95ae8c136d3ae570a745baa1579afb75a3f51d927c01ec0d2292ea064c15809636ceb4a09da7602bc34e2286fb0cca6313782c9843990927c1d034d1be0442f57fe2fbf025e8f79866034137dfad223448c8775f5fe90b844564079606b06acb8251fa84c6af3ee24c5ca677a06ae570b11a69280d5a8c841481c730427933182497e39cfcb41940ce61564609f481901b208a9a70e8ef9a724bdcb4fec356ab7d0f9bcca7abe114ecac784867ea19618c836bb4bd62f720b6e3ee734df3384f3cc1bea73b10c35f58e349210950ce7864aadc2eff631b1a5479b495c23dc365c68a802ac286eac2d9379742631be0d245b0bedf354d8ebaa0a76f6a1801a097dd8ab6e879f9962759c3fbcb0b0a5e701cadd7bc2dbd2ee7a2ccf7626c0c01178319e0a782617230651c4744d810906bb9f5285040fe9b22a43927810d3efc400b672a8954632949045dba1d542dbcf390314deca4d11ff2b80071481b3ebf0b9eed32f7da4e07bd044c806ccc857ba5339a2ec0dd25b8070b72bdb0227a339ae45ef5e1dbb3118da0402b2049099564ed7071b9067b1be6a0b94e8cadd8ed11593496386ab5e71d6f71a369e572dc11a07b59dbcd0bc754fac90506aff9f802b0ee59e29306314d42d44f55d061bb16e9c515af0023875f4d1b5dd82057032cd438814eb490854671c9d4518efd9df59be83dfb16a5acecc1e2d499584086d73bb66ec362dffb6501955211b79e6e4083bc9cf4d1594fe3492329009f162d49392857f52923fdc2e5e457d21d5182baf8cab8e4569376086c0c191cd5f7dffd2ccbc303d6405611bb3bf4524552ad13e9f46e2d5bb430ef41b07819259aa21fc02de8027b1e7c72218c6773dc7ab790912908d5604cec4377b8a9323e4b1e7af2fda63d66492017fc7f4af17011c29cff71e24f35087125607a55016150fa660b0a8c6911f896cfe039e86350a693400ba9bb1c493f3896943d87b18869ac6a151b820474c38d2a906cfb69e111ce29e558c843e73746f4901741e235145e6e955ad2790b5df835ef30c8ad8bfe8e8f709cad44cd4d47dc452aee892f22e51fb50b61b11cf24de0ff2b302566f4a28ad9219dfd5dd4bb6ed04d40a7fabd7bee7d710d491564f511599deb0e08400345048a6250d223990993a78fac0bc06a4ca40d602ccc56f1cd64977ee6af52242335756e2cce46976ce4bf1fa3ad896cadcbd8d7a20642736b7dcc8684c3fbcbd97933aaadddbbe8a99ef70eaae2922998b0965e69555ba0e3f90b3e019c26b6ab991e3b84fbe1fdf2272b774b7ab026527d040c1e398cf9ac81d74e0b353554b0361588d378d146bfc97bbc049a2fdf16492a73549a73af9c36b336d6c1a610ed232cdbf9b8157183b61f59261bf9257f93c1731cb2c18751684a599e69da56c1b602ad3931d9c0616aea39b192b18f9598265a71174ffeb369b3901afe11d1085fea37a000a9ed816269ce95f80cbf044591c432915aa89767682e98b9612204426433b727181103c7188736df0f841f2383dfe575d23e748d004e55da2bbe5bd435d2001a5416f7fcb7f530ea051580799a9532d54237553a082f3ba2a8c1a49c5e875f28eaa39201095d8d123d7f7b4cfc0b355414ac8902fd032dd2eab1e7aaade3c7a6db0ba8aa2395b9474a3fdd0ea24035fe48af8364436c814d89a36f53de73337949813681311fec3299703a386d992098c21e9f2d9e01355886573bbe74b6bd7ead87134db59b221fb55ca4337e53f656fd165f1e39e4a0aff694d45a94e3ba14572c93c730507be5f524b5476b7e74a9e844968e4709644a9044a6bb1fcfe1474e01d216e4c48b7fc4f7c685a50af1b70aed8dbcc6868eb33fec2c81168f0355a58e10894e2f09c677e7aa423fc7b464f713e8f5caeadf130704b3b54418545e8bf17f02b8917dc1e32bdcabdaf6bc278756e6160d8e3555846d891cb8715b0644ba57878c49a1d9b4011d981ca090709c6af0dd5d847aad7250c697f99c73e0c0066c60b8f255ba123eaa032835b41303eefbec17800faee972a514f47b4960fc7ae28d799b1ce704173059032a67fa9fedb54955df008c1cbbe031dbd055aebaee9fd20212f2c4fcaa97b2ae05b6791d187ef000b231b4edb28e6ddc75e9c3f37e0c8e037a9341ef0fa9327bdcab6b79abdbe0a901b5cddd6cc2b7cb650aa243da82e41ae35022c47d7ef395ba56d53cbf6243a43034705245d974c0d661cd182b18af0de55a0ff1b35c607cac2b4ebf07888dea9df1cd2db5aa76a73c86e4e0d1ce0e58fc92a463ca15d585e5de7a1ca70895f8e74c57c74bc0272ddc70f5dbab86b45f9d6802fe7e14085d08a667d1c9661d85b81127b697376fab248dcece99463b1f7b09407536865f1e041b591ffda82aaa0ae633e499f5c76072ed040f5f9d78a7c4d91c79351bfb911f19a7195c27aac93b948bf4ed888176a072eafb202a939bfe9485664e4b0b3cdd9ff036ed02da59fdebddf28db807833b7b5948f97a50f90a66029b0c9dbbd3cb36baf3936744e52793dc47509b6091993c22014c9662aef789d774b0ca3ac776daf8b563c48dc19b346839b30bb3fb7f6f560f8bcfc0943571be709de5e04e56afafcfb7f66240d97bef844eb0b6f8c78cbcc970f86ced48341699a2afeccf67a31222db899d2ab637b61902fd33c82c2e4174dae2bf67c64031e8e4c53ba9301cb77129c9d90b54fcd9b2c2e50fbeb2f01e8818a11b7eada6c2118896e9fc29f060f918272d7d6159c9f8d17cac8dac6ab8d7ccaf247575b9dc58e24904f8fa31152a5afc4331b430a39d4274d03a83223c13dbea6aeb9a70666b2a3eac8236f2f41914c638b40066fb54c5d9cf17fa86f4f320eae59d516eff1ef58b4f7f6c2059b3c9fef6d427f749c76a7e0af68ce6a69c9bde6dc89028f1f32ded9af382adf3a60212fa7c2c185e325f34fd401e7a4648c053f85ed7f622bb81a30a5322bd5ea625226e4ce2fffe199d61a059a5904e3a0d0a1a0b833202ab31bc9f177dbce4755abf34c754fce54638575e8cb0921bd0e8265ee9c6174102cebcb94cca92c0fe5cfb50e0b8f03dfcfd608273ca9da6914d28d43df3bfe8555e91382a3a4991d127434cd6881f675de0c07f30cc0c2ef96c2c18863d90ef74ad506ea1272da35da1edd7c23c08e095657b141b35d6d53386202cebdb97f4b150603790370f1dba467e3c633ed617836eecfde2e43fb076e389d2437e3d769a964483fc6e8b1b3ff60569ab49690b3d34a2103f3f892eca648bce98f90366a1e371d5d047eefa1fb6fb792b6e2cb849cd36dad72a3cabac8da4329e9e84a587eb5acc2f9b4b44cd9f0732ded45791df2a28eaec397803dab3d3beeca936b2728500027934e25196e6fcb0d5f21f859b32e562d6c36b6a7d37afc3648a2a4bd30476d78b85f6e5a7a7bed703c32381c078940095b7f996afa54de060e3ee478a79fa2b836c2a46defbf8f5a93688e6f52f1abb22a8c010e026a55bb6c010a6547ce4d48eb6035b4a7c6ac5c4e4a2666a43db1871464d6584bdc84c7c7fd122e861aa9f368eea6271018d82df166ef922b243629bb3c4bfa41cb01f710430f8f2f5a5e1b2a8b78f4d778c3075b139f9398be76653cc6acbeb20b328b2f42e03ffb2cd7b20d9dc66426defff85e7ce1d17b55ccc678a5641b5243d34cd19f243256370b2633eb9dc5052f5ca3d533ad41cd2fabbea1d61101b21d948c73774ac5eaf18f9dc5e06949396301b61900fc1f60f625d7722a6ae0c1d27bc17582537e5aaed2faf49de3714db9e0a3b250db6810cd309f22a7724a5df51da1bc4126e653d90d4d01b1ee597f8dfcc2decda78b9e748697a2f93d27b303cdbd63db8d0dbda370b1a510b82ba0c1d836e7d61a66fa292b1f750c31aaf574aa22d412c3eb9eb4bf8745ca1a399eca7811fe093ba19393120b2f782d6f2876e41e6f5405b6500edc14286f2e47b9d0799cb99faab12d19d2e7f95fa00b77c77c254b0362cada7c5fec9e0654756c73ee3c5d06dfb87eec648d129683c23d06705153a34b746adb0368f118104fec7e95b3289e5044fb719b580b9238f1eb5f4c40ec0ab79a46a9d4f518b421c7b02628c6c084498a9fd04ef0beeb4f0b9a15efe1342e1b1d8c06d31d243e14ef14a726ae2a8189efaa8dbe837c6ce730104eaa8430d59ad54d92048f675a4944ecd929d69940d9cad74b55d57da4a3aaebd6a39621d6f9b203d5b4c84d5e351008faf61a6fbecbb3d193a02086fa3ff24c2fe0ffcbd948f25580e32d9c4a77b646c55f97917608d715c6705c2d05fd93b1fb27aa7f255306fe81d399089f1359001d9c0bc663e0c4cf9a52a33445dde3d4bee4cb2f6269a0194f71a72f53ee4de4b0b94a8bca769a01a2f31b9bcf55494f30ae8acbc7c1186f79b1d03aec94347e9673e03add7cb5e1013cdec84b12d27a6cba5979ee0a65816d4e690242c21d32ea5a396d56c22543eba3030da146ef93fe4183d8de442f166557c196ed5c82d9fd2aae056ebba668391fb838697b084ec31ed39c71c7a2ae63520761764d347a4bdb425cd9cd2d6bfd461a37c3a08d6952b99836045894653985d131e98c7828cdff9c80f7e8d3e5dde7bed5e8d1e861569f260857b646c47e7607b110486d91b36e8367ef463d11241f19470bf80a4a96450126a755e54657a0437e0c6aa82370b4c81a5cdc7bf3ed09a5a7a61af6b41aad0f9f0ceb411884aa268656532b7dcb03e2e49e5348badd83a1ee55475a542d60e1015f71d80b04bce1d6c3b138ed365889c6f787e794202d9e0d468f7e8f2e9f141ab85edf36811d53690173351561e9ce6898d7372eaf3b369a132e3b914f3701cfdffaca59c762fee3ffa0273478c9508fcf0120970a6767efbfbfc95ffa8a9f84b11247a4c35d2ff62fbc377e07815c3375807469277f6beec02aaeedaa98f0c8e957108c76d2d496f19257f9fe9f9fc8bbe6818f727fd7a77d63dd4c23bd1c35535a7ee1979577c5fff2699578afc46055d133a347088da4538daeeaf387e893ff4579edcb1e552538335a6679e1a1b8c94e8b09dbab7148df21081b360b147646f35a9b9237c6a46eb0b934355f687303aacf6bc434c003eca1bf2d5c6aeed8281fb676a8d8dc59153233dad8356a412a17575f0bc157bca371d530309ec9ce896f522f8c195daca0f277c6f79e26d980955be18ef36589339460b31e4a156bca51f5ae28392bb65503909b25d83c7fdbfa0d947835108ff5a353ff1f34de213d351ed54e172dfa2df594922e7b19f4328753487799e6deaf42846671ae712f5784eddda61b10dd113dac7190167a4ba73550ada3e65e72d64e314bd2ef7f41b5ff3eee321a91adee76db9043ae310ded6b6b43bbd65fb05e998ee47ab792be89140be4e128fffc63cea5ea0ca1bd15da404a2c6604f11055da1bed8f7edf4d3c0887c94624eae68f35b832fa3704c9bc55bfdb6f5f0f84afc1a465b2fe02d66f452896c32986e77f9eb2efcf836cab595bd0c9ee8229902c78d4efa172c73e8c6585d720457a15b64bbcc66102d5939fdb224e65132a6c8e443c3aeb8edf0e6732816791b1ac2ce22f04dfd6eb4267b9a6db13774505782912fa7160f8bb446d603e9211dae43b93999926f69d0e10b0d8d2d36dc3a147f1d1005f502864841856c73ff94377efda13cab83a51d55318f38b8d9200d6c49e122517cfac896039fd9c5cbeea31b0111164289a2fd8123f1be356c673bbd79c0cbae090042997bb0e0f4357e64e6e2460b41045ccd746adccf2252d2d88ab89dfe9cd5051658aa2f6933de512459a9a18ac48cf941882a9e481984b6b3f3351e9e5f164780207c1dc961d600486e7c720f24486e1862dd07c28bf2891a166d8f90980597a4078a83326d198f3bc7c2c006dc70542bacb2d0021a24c6f2793a2f5490373ce74cee5bffd6cef4fe01430617cf124d9f3815445c5e1bf914382c5d397de78c12b90d4f0ce6bf2</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="网络管理" scheme="https://kalyan-zitiu.github.io/categories/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/"/>
    
    
    <category term="基础知识" scheme="https://kalyan-zitiu.github.io/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>动态规划</title>
    <link href="https://kalyan-zitiu.github.io/2023/04/02/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    <id>https://kalyan-zitiu.github.io/2023/04/02/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</id>
    <published>2023-04-02T14:00:00.000Z</published>
    <updated>2023-04-22T08:04:48.693Z</updated>
    
    <content type="html"><![CDATA[<h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Dynamic programming，简称DP。通过把原问题分解为相对简单得子问题得方式求解复杂问题的方法。动态规划常常适用于有重叠子问题喝最优子结构性质的问题。一般这些子问题很相似，可以通过函数关系递推出来，然后动态规划致力于解决每一个子问题一次。减少重复计算，如斐波那契数列可以看做入门级的经典动态规划。主要大的基本思想就是一个记住过去，来就现在求值。</p><h2 id="动态规划的青蛙跳阶问题。"><a href="#动态规划的青蛙跳阶问题。" class="headerlink" title="动态规划的青蛙跳阶问题。"></a>动态规划的青蛙跳阶问题。</h2><p>一只青蛙一次可以跳上1级台阶，也可以跳上2级台阶。求该青蛙跳上一个 10 级的台阶总共有多少种跳法。</p><p>具体思路就是，在跳上n格的时候，你必须柯一是跳上n-1格子的次数，然后再跳上n格。<br>所以说需要的是记住之前的所有值来计算最新的值。从而达到在计算第n个格时候，能够以较快的速度知道。跳到n个的次数。</p><p>那么就有了斐波那契数列的应用</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">f(10) = f(9) + f(8)</span><br><span class="line">f(9) = f(8) + f(7)</span><br><span class="line">f(8) = f(7) + f(6)</span><br><span class="line">f(7) = f(6) + f(5)</span><br><span class="line">f(6) = f(5) + f(4)</span><br><span class="line">···</span><br><span class="line">f(3) = f(2) + f(1)</span><br><span class="line"></span><br><span class="line">通用的公式为f(n) = f(n-1) + f(n-2)</span><br></pre></td></tr></table></figure><p>然后就可以用递归来解决这个问题。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class Solution&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numWays</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(n&lt;=<span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> numWays(n-<span class="number">1</span>) + numWays(n-<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是用递归的方法，耗时就很大，但计算f(10)的时候，就需要先计算出子问题f(9)和f(8)然后计算f(9),又要先算出子问题f(8) 和 f(7),以此类推。一直到f(2)和f(1),递归树才结束。所以就有有了：</p><ul><li>递归复杂度 = 解决一个子问题时间* 子问题个数</li><li>一个人子问题时间 = f（n-1）+f（n-2），所以复杂度是O（1）；</li><li>问题个数 = 递归树节点的总数，递归树的总节点 = 2^n-1，所以复杂度是O（2 ^ n）</li></ul><p>因此青蛙跳阶的递归解法的时间复杂度 = O(1)*O(2 ^ n) = O(2 ^ n) ,然后你会发现回过头来，有大量的重复计算，比如f(8) 被计算了两次，f（7）被重复计算了3次…..所以这个递归算法低效就是这样的原因。</p><h3 id="带备忘录的递归解法"><a href="#带备忘录的递归解法" class="headerlink" title="带备忘录的递归解法"></a>带备忘录的递归解法</h3><p>既然发现了存在大量的重复计算，那么就有了一个思想，我们能把重复计算的值给记录下来，当到了可以使用的时候就可以把它重新取出来使用，这样就不用有重复的计算了。所以这里又引出了一个新的问题，用什么的数据类型或者数据结构去记录这个重复的值。</p><ul><li>一般都会想到使用一个数组或者一个哈希Map充当这个备忘录。</li></ul><p>子问题个数 = 树节点数=n，解决一个子问题还是O（1）,所以带备忘录的递归算法的时间复杂度是O（n）。接下来呢，就用备忘录的递归算法去些代码。来解决青蛙的超时问题。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span>&#123;</span><br><span class="line"><span class="comment">//使用哈希map，充当备忘录的作用</span></span><br><span class="line">Map&lt;Integer,Integer&gt; tempMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numways</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="comment">// n = 0 也算一种</span></span><br><span class="line"><span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n&lt;=<span class="number">2</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//先判断有没有计算过，即看看备忘录有没有</span></span><br><span class="line"><span class="keyword">if</span>(tempMap.containsKey(n))&#123;</span><br><span class="line"><span class="comment">//备忘录有，计算过，直接返回</span></span><br><span class="line"><span class="keyword">return</span> tempMap.get(n);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//备忘录没有，即没有计算过，执行递归计算，并且把结果保存到备忘录map中，对100000007取余</span></span><br><span class="line">tempMap.put(n,(numWays(n-<span class="number">1</span>)+numWays(n-<span class="number">2</span>)) % <span class="number">1000000007</span>);</span><br><span class="line"><span class="keyword">return</span> tempMap.get(n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="动态规划-1"><a href="#动态规划-1" class="headerlink" title="动态规划"></a>动态规划</h3><p>思路上基本和带着备忘录的递归解法是一致的，都是减少重复计算，时间复杂度也都是差不多，但是：</p><ul><li>备忘录的递归，是从f(10)往f(1)方向延伸求解的，所以称为<strong>自顶向下</strong>的解法。</li><li>动态规划从较小问题的解，有交叠性质，逐步决策出较大问题的解，它是从f(1)往f(10)方向往上推求解，所以称为<strong>自底向上</strong>的解法。</li><li>动态规划有几个典型得特征，最优子结构，状态转移方程，边界，重叠子问题。</li></ul><p>例如：</p><ul><li>f(n-1)和f(n-2) 称为 f(n) 的最优子结构</li><li>f(n)= f（n-1）+f（n-2）就称为状态转移方程</li><li>f(1) = 1, f(2) = 2 就是边界啦</li><li>比如f(10)= f(9)+f(8),f(9) = f(8) + f(7) ,f(8)就是重叠子问题。</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numWays</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n&lt;= <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            temp = (a + b)% <span class="number">1000000007</span>;</span><br><span class="line">            a = b;</span><br><span class="line">            b = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="动态规划解题思路"><a href="#动态规划解题思路" class="headerlink" title="动态规划解题思路"></a>动态规划解题思路</h2><ol><li><p>在问题中，可以把所有可能穷举出来，发现有重叠子问题得存在，就可以考虑动态规划。</p></li><li><p>一些求最值得场景，比如最长递增子序列，最小编辑距离，背包问题，凑零钱问题等，都是经典得动态规划的经典应用场景</p></li><li><p>核心就是拆分子问题，记住过往，减少重量计算，总结思路就是：</p><ul><li>穷举分析</li><li>确认边界</li><li>找出规律，确定最优子结构</li><li>写出状态转移方程</li></ul><ol><li><p>穷举分析</p></li><li><p>确定边界<br>通过穷举分析，我们发现，当台阶数是1的时候或者2的时候，可以明确知道青蛙跳法。f（1） =1，f(2) = 2，当台阶n&gt;=3时，已经呈现出规律f(3) = f(2) + f(1) =3，因此f（1） =1，f(2) = 2就是青蛙跳阶的边界。</p></li><li><p>确定最优子结构<br>n&gt;=3时，已经呈现出规律 f(n) = f(n-1) + f(n-2) ，因此，f(n-1)和f(n-2) 称为 f(n) 的最优子结构。什么是最优子结构？有这么一个解释：一道动态规划问题，其实就是递推问题。假设当前决策结果是f(n),则最优子结构就是要让f(n-k)最优，最优子结构性质就是能让转移到n的状态最优的，并且与后面的决策没有关系，即让后面的决策安心的使用前面的局部最优解的一种性质.</p></li><li><p>写出状态转移方程<br>通过前面3步，穷举分析，确定边界，最优子结构，得出状态转移方程：</p></li><li><p>代码实现</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>][...] = 边界值</span><br><span class="line"><span class="keyword">for</span>(状态<span class="number">1</span> ：所有状态<span class="number">1</span>的值)&#123;</span><br><span class="line"> <span class="keyword">for</span>(状态<span class="number">2</span> ：所有状态<span class="number">2</span>的值)&#123;</span><br><span class="line">     <span class="keyword">for</span>(...)&#123;</span><br><span class="line">       <span class="comment">//状态转移方程</span></span><br><span class="line">       dp[状态<span class="number">1</span>][状态<span class="number">2</span>][...] = 求最值</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="案例分析"><a href="#案例分析" class="headerlink" title="案例分析"></a>案例分析</h2><p>给你一个整数数组nums，找到其中最长严格递增子序列的长度。<br>输入：nums=[10,9,2,5,3,7,101,18];<br>输出：4<br>解释：最长递增子序列是[2,3,7,101],因此长度为</p><h3 id="穷举分析"><a href="#穷举分析" class="headerlink" title="穷举分析"></a>穷举分析</h3><p>这里观察规律，显然是有关系的，我们还是遵循动态规划自底向上的原则，基于示例1的数据，从数组只有一个元素开始分析。</p><ul><li>当nums只有一个元素10时，最长递增子序列是[10],长度是1.</li><li>当nums需要加入一个元素9时，最长递增子序列是[10]或者[9],长度是1。</li><li>当nums再加入一个元素2时，最长递增子序列是[10]或者[9]或者[2],长度是1。</li><li>当nums再加入一个元素5时，最长递增子序列是[2,5],长度是2。</li><li>当nums再加入一个元素3时，最长递增子序列是[2,5]或者[2,3],长度是2。</li><li>当nums再加入一个元素7时，,最长递增子序列是[2,5,7]或者[2,3,7],长度是3。</li><li>当nums再加入一个元素101时，最长递增子序列是[2,5,7,101]或者[2,3,7,101],长度是4。</li><li>当nums再加入一个元素18时，最长递增子序列是[2,5,7,101]或者[2,3,7,101]或者[2,5,7,18]或者[2,3,7,18],长度是4。</li><li>当nums再加入一个元素7时,最长递增子序列是[2,5,7,101]或者[2,3,7,101]或者[2,5,7,18]或者[2,3,7,18],长度是4.</li></ul><h3 id="分析找规律，拆分子问题。"><a href="#分析找规律，拆分子问题。" class="headerlink" title="分析找规律，拆分子问题。"></a>分析找规律，拆分子问题。</h3><p>如果新加入一个元素nums[i], 最长递增子序列要么是以nums[i]结尾的递增子序列，要么就是nums[i-1]的最长递增子序列。nums[i]的最长递增子序列，不就是从以数组num[i]每个元素结尾的最长子序列集合，取元素最多（也就是长度最长）。可以用dp[i]表示以num[i]这个数结尾的最长递增子序列的长度</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/image-20230422155700534.png" alt="image-20230422155700534"></p><p>nums[i]结尾的自增子序列，只要找到比nums[i]小的子序列，加上nums[i] </p><h3 id="最简单边界情况"><a href="#最简单边界情况" class="headerlink" title="最简单边界情况"></a>最简单边界情况</h3><p>当nums数组只有一个元素时候，最长递增子序列的长度dp(1) = 1,当nums数组有两个元素时，dp(2) =2或者1， 因此边界就是dp(1)=1。</p><h3 id="确定最优子结构"><a href="#确定最优子结构" class="headerlink" title="确定最优子结构"></a>确定最优子结构</h3><p>max(dp(j)) 就是最优子结构。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp(i) =max(dp(j))+<span class="number">1</span>，存在j属于区间[<span class="number">0</span>，i-<span class="number">1</span>],并且num[i]&gt;num[j]。</span><br></pre></td></tr></table></figure><h3 id="状态转移方程"><a href="#状态转移方程" class="headerlink" title="状态转移方程"></a>状态转移方程</h3><p>通过前面分析，我们就可以得出</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">最长递增子序列 =max(dp[i])</span><br></pre></td></tr></table></figure><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLIS</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        <span class="comment">//初始化就是边界情况</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxans</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//自底向上遍历</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            dp[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//从下标0到i遍历</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="comment">//找到前面比nums[i]小的数nums[j],即有dp[i]= dp[j]+1</span></span><br><span class="line">                <span class="keyword">if</span> (nums[j] &lt; nums[i]) &#123;</span><br><span class="line">                    <span class="comment">//因为会有多个小于nums[i]的数，也就是会存在多种组合了嘛，我们就取最大放到dp[i]</span></span><br><span class="line">                    dp[i] = Math.max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//求出dp[i]后，dp最大那个就是nums的最长递增子序列啦</span></span><br><span class="line">            maxans = Math.max(maxans, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;动态规划&quot;&gt;&lt;a href=&quot;#动态规划&quot; class=&quot;headerlink&quot; title=&quot;动态规划&quot;&gt;&lt;/a&gt;动态规划&lt;/h1&gt;&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h</summary>
      
    
    
    
    <category term="算法" scheme="https://kalyan-zitiu.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="基础知识" scheme="https://kalyan-zitiu.github.io/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>设计模式-创新型模式</title>
    <link href="https://kalyan-zitiu.github.io/2023/03/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>https://kalyan-zitiu.github.io/2023/03/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2023-03-21T14:00:00.000Z</published>
    <updated>2023-03-27T03:06:06.999Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设计模式-创新型模式"><a href="#设计模式-创新型模式" class="headerlink" title="设计模式-创新型模式"></a>设计模式-创新型模式</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>设计模式是软件开发中的一种通用解决方案，它们是经过实践证明的、被广泛接受的最佳实践。设计模式提供了一种可重用的设计思想，可以帮助开发人员解决常见的设计问题，提高代码质量和可维护性。</p><p>设计模式通常包含以下元素：</p><ol><li><p>模式名称：用于描述模式的名称。</p></li><li><p>问题描述：描述模式所解决的问题，包括场景和限制条件。</p></li><li><p>解决方案：描述模式的解决方案，包括结构、参与者、协作方式和责任。</p></li><li><p>优点和缺点：描述模式的优点和缺点，包括可维护性、可扩展性、可重用性等方面。</p></li><li><p>适用性：描述模式适用的场景和限制条件。</p></li><li><p>实现方式：描述模式的实现方式，包括代码示例和实现细节。</p></li></ol><h2 id="创新型模式"><a href="#创新型模式" class="headerlink" title="创新型模式"></a>创新型模式</h2><h3 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h3><h4 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h4><ul><li>简单工厂模式又叫静态方法模式（因为工厂类定义了一个静态方法）<br>现实生活中，工厂是负责生产产品的；</li><li>同样在设计模式中，简单工厂模式我们可以理解为负责生产对象的一个类，称为“工厂类”。</li></ul><h4 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>将“类实例化的操作”与“使用对象的操作”分开，让使用者不用知道具体参数就可以实例化出所需要的“产品”类，从而避免了在客户端代码中显式指定，实现了解耦。即使用者可直接消费产品而不需要知道其生产的细节。</li><li>将创建实例的工作与使用实例的工作分开，使用者不必关心类对象如何创建，实现了解耦；</li><li>把初始化实例时的工作放到工厂里进行，使代码更容易维护。 更符合面向对象的原则 &amp; 面向接口编程，而不是面向实现编程。</li></ul><h4 id="模式原理"><a href="#模式原理" class="headerlink" title="模式原理"></a>模式原理</h4><table><thead><tr><th>组成</th><th>关系</th><th>作用</th></tr></thead><tbody><tr><td>抽象产品</td><td>具体产品的父类</td><td>描述产品的公共接口</td></tr><tr><td>具体产品</td><td>抽象产品的子类；工厂类创建的目标类</td><td>描述生产的具体产品</td></tr><tr><td>工厂</td><td>被外界调用</td><td>根据传入不同参数从而创建不同具体产品类的实例</td></tr></tbody></table><h4 id="UML类图"><a href="#UML类图" class="headerlink" title="UML类图"></a>UML类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303261441166.png" alt="img"></p><h4 id="举例实现"><a href="#举例实现" class="headerlink" title="举例实现"></a>举例实现</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Product</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//具体产品类A</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">ProductA</span> <span class="keyword">extends</span>  <span class="title class_">Product</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了产品A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体产品类B</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">ProductB</span> <span class="keyword">extends</span>  <span class="title class_">Product</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了产品C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体产品类C</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">ProductC</span> <span class="keyword">extends</span>  <span class="title class_">Product</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了产品C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span>  <span class="title class_">Factory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Product <span class="title function_">Manufacture</span><span class="params">(String ProductName)</span>&#123;</span><br><span class="line"><span class="comment">//工厂类里用switch语句控制生产哪种商品；</span></span><br><span class="line"><span class="comment">//使用者只需要调用工厂类的静态方法就可以实现产品类的实例化。</span></span><br><span class="line">        <span class="keyword">switch</span> (ProductName)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;A&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;B&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;C&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductC</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//工厂产品生产流程</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleFactoryPattern</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Factory</span> <span class="variable">mFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Factory</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//客户要产品A</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//调用工厂类的静态方法 &amp; 传入不同参数从而创建产品实例</span></span><br><span class="line">            mFactory.Manufacture(<span class="string">&quot;A&quot;</span>).Show();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (NullPointerException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;没有这一类产品&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//客户要产品B</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mFactory.Manufacture(<span class="string">&quot;B&quot;</span>).Show();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (NullPointerException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;没有这一类产品&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//客户要产品C</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mFactory.Manufacture(<span class="string">&quot;C&quot;</span>).Show();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (NullPointerException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;没有这一类产品&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//客户要产品D</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mFactory.Manufacture(<span class="string">&quot;D&quot;</span>).Show();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (NullPointerException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;没有这一类产品&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">生产出了产品A</span><br><span class="line">生产出了产品C</span><br><span class="line">生产出了产品C</span><br><span class="line">没有这一类产品</span><br></pre></td></tr></table></figure><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><ul><li>工厂类集中了所有实例（产品）的创建逻辑，一旦这个工厂不能正常工作，整个系统都会受到影响；</li><li>违背“开放 - 关闭原则”，一旦添加新产品就不得不修改工厂类的逻辑，这样就会造成工厂逻辑过于复杂。</li><li>简单工厂模式由于使用了静态工厂方法，静态方法不能被继承和重写，会造成工厂角色无法形成基于继承的等级结构。</li></ul><h3 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h3><h4 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h4><ul><li>工厂方法模式，又称工厂模式、多态工厂模式和虚拟构造器模式，通过定义工厂父类负责定义创建对象的公共接口，而子类则负责生成具体的对象。</li><li>将类的实例化（具体产品的创建）延迟到工厂类的子类（具体工厂）中完成，即由子类来决定应该实例化（创建）哪一个类。</li></ul><h4 id="解决问题-1"><a href="#解决问题-1" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>具体产品的创建推迟到工厂类的子类（具体工厂）中，此时工厂类不再负责所有产品的创建，而只是给出具体工厂必须实现的接口，这样工厂方法模式在添加新产品的时候就不修改工厂类逻辑而是添加新的工厂子类，符合开放封闭原则，克服了简单工厂模式中缺点</li><li>新增一种产品时，只需要增加相应的具体产品类和相应的工厂子类即可</li><li>符合单一职责原则,每个具体工厂类只负责创建对应的产品</li><li>不使用静态工厂方法，可以形成基于继承的等级结构。简单工厂模式的工厂类使用静态工厂方法</li></ul><h4 id="模式组成"><a href="#模式组成" class="headerlink" title="模式组成"></a>模式组成</h4><table><thead><tr><th>组成</th><th>关系</th><th>作用</th></tr></thead><tbody><tr><td>抽象产品</td><td>具体产品的父类</td><td>描述具体产品的公共接口</td></tr><tr><td>具体产品</td><td>抽象产品的子类；工厂类创建的目标类</td><td>描述生产的具体产品</td></tr><tr><td>抽象工厂</td><td>具体工厂的父类</td><td>描述具体工厂的公共接口</td></tr><tr><td>具体工厂</td><td>抽象工厂的子类；被外界调用</td><td>描述具体工厂；实现FactoryMethod工厂方法创建产品的实例</td></tr></tbody></table><h4 id="UML类图-1"><a href="#UML类图-1" class="headerlink" title="UML类图"></a>UML类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303261447429.png" alt="image-20230326144728389"></p><h4 id="实例举例"><a href="#实例举例" class="headerlink" title="实例举例"></a>实例举例</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Factory</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> Product <span class="title function_">Manufacture</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Product</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//具体产品A类</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">ProductA</span> <span class="keyword">extends</span>  <span class="title class_">Product</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了产品A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体产品B类</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">ProductB</span> <span class="keyword">extends</span>  <span class="title class_">Product</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了产品B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//工厂A类 - 生产A类产品</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">FactoryA</span> <span class="keyword">extends</span> <span class="title class_">Factory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">Manufacture</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//工厂B类 - 生产B类产品</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">FactoryB</span> <span class="keyword">extends</span> <span class="title class_">Factory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">Manufacture</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//生产工作流程</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactoryPattern</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//客户要产品A</span></span><br><span class="line">        <span class="type">FactoryA</span> <span class="variable">mFactoryA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FactoryA</span>();</span><br><span class="line">        mFactoryA.Manufacture().Show();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//客户要产品B</span></span><br><span class="line">        <span class="type">FactoryB</span> <span class="variable">mFactoryB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FactoryB</span>();</span><br><span class="line">        mFactoryB.Manufacture().Show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">生产出了产品A</span><br><span class="line">生产出了产品C</span><br></pre></td></tr></table></figure><h4 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h4><ul><li>添加新产品时，除了增加新产品类外，还要提供与之对应的具体工厂类，系统类的个数将成对增加，在一定程度上增加了系统的复杂度；同时，有更多的类需要编译和运行，会给系统带来一些额外的开销；</li><li>由于考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度，且在实现时可能需要用到DOM、反射等技术，增加了系统的实现难度</li><li>虽然保证了工厂方法内的对修改关闭，但对于使用工厂方法的类，如果要更换另外一种产品，仍然需要修改实例化的具体工厂类；</li></ul><h4 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h4><ul><li>当一个类不知道它所需要的对象的类时，在工厂方法模式中，客户端不需要知道具体产品类的类名，只需要知道所对应的工厂即可；</li><li>当一个类希望通过其子类来指定创建对象时，在工厂方法模式中，对于抽象工厂类只需要提供一个创建产品的接口，而由其子类来确定具体要创建的对象，利用面向对象的多态性和里氏代换原则，在程序运行时，子类对象将覆盖父类对象，从而使得系统更容易扩展。</li><li>将创建对象的任务委托给多个工厂子类中的某一个，客户端在使用时可以无须关心是哪一个工厂子类创建产品子类，需要时再动态指定，可将具体工厂类的类名存储在配置文件或数据库中。</li></ul><h3 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h3><h4 id="简介-3"><a href="#简介-3" class="headerlink" title="简介"></a>简介</h4><ul><li>抽象工厂模式，提供一个创建一系列相关或相互依赖对象的接口，而无须指定它们具体的类；具体的工厂负责实现具体的产品实例。</li><li>抽象工厂模式与工厂方法模式最大的区别：抽象工厂中每个工厂可以创建多种类的产品；而工厂方法每个工厂只能创建一类</li><li>允许使用抽象的接口来创建一组相关产品，而不需要知道或关心实际生产出的具体产品是什么，这样就可以从具体产品中被解耦。</li></ul><h4 id="解决问题-2"><a href="#解决问题-2" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>降低耦合，抽象工厂模式将具体产品的创建延迟到具体工厂的子类中，这样将对象的创建封装起来，可以减少客户端与具体产品类之间的依赖，从而使系统耦合度低，这样更有利于后期的维护和扩展；</li><li>更符合开-闭原则，新增一种产品类时，只需要增加相应的具体产品类和相应的工厂子类即可</li></ul><h4 id="模式组成-1"><a href="#模式组成-1" class="headerlink" title="模式组成"></a>模式组成</h4><table><thead><tr><th>组成</th><th>关系</th><th>作用</th></tr></thead><tbody><tr><td>抽象产品族</td><td>抽象产品的父类</td><td>描述抽象产品的公共接口</td></tr><tr><td>抽象产品</td><td>具体产品的父类</td><td>描述具体产品的公共接口</td></tr><tr><td>具体产品</td><td>抽象产品的子类；工厂类创建的目标类</td><td>描述生产的具体产品</td></tr><tr><td>抽象工厂</td><td>具体工厂的父类</td><td>描述具体工厂的公共接口</td></tr><tr><td>具体工厂</td><td>抽象工厂的子类；被外界调用</td><td>描述具体工厂；实现工厂方法创建产品的实例</td></tr></tbody></table><h4 id="UML类图-2"><a href="#UML类图-2" class="headerlink" title="UML类图"></a>UML类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303261459666.png" alt="img"></p><h4 id="举例实例"><a href="#举例实例" class="headerlink" title="举例实例"></a>举例实例</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Factory</span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> Product <span class="title function_">ManufactureContainer</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> Product <span class="title function_">ManufactureMould</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractProduct</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//容器产品抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">ContainerProduct</span> <span class="keyword">extends</span> <span class="title class_">AbstractProduct</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//模具产品抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">MouldProduct</span> <span class="keyword">extends</span> <span class="title class_">AbstractProduct</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//容器产品A类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ContainerProductA</span> <span class="keyword">extends</span> <span class="title class_">ContainerProduct</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了容器产品A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//容器产品B类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ContainerProductB</span> <span class="keyword">extends</span> <span class="title class_">ContainerProduct</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了容器产品B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//模具产品A类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MouldProductA</span> <span class="keyword">extends</span> <span class="title class_">MouldProduct</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了模具产品A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//模具产品B类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MouldProductB</span> <span class="keyword">extends</span> <span class="title class_">MouldProduct</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产出了模具产品B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//A厂 - 生产模具+容器产品</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FactoryA</span> <span class="keyword">extends</span> <span class="title class_">Factory</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">ManufactureContainer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ContainerProductA</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">ManufactureMould</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MouldProductA</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//B厂 - 生产模具+容器产品</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FactoryB</span> <span class="keyword">extends</span> <span class="title class_">Factory</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">ManufactureContainer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ContainerProductB</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">ManufactureMould</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MouldProductB</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//生产工作流程</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AbstractFactoryPattern</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">FactoryA</span> <span class="variable">mFactoryA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FactoryA</span>();</span><br><span class="line">        <span class="type">FactoryB</span> <span class="variable">mFactoryB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FactoryB</span>();</span><br><span class="line">        <span class="comment">//A厂当地客户需要容器产品A</span></span><br><span class="line">        mFactoryA.ManufactureContainer().Show();</span><br><span class="line">        <span class="comment">//A厂当地客户需要模具产品A</span></span><br><span class="line">        mFactoryA.ManufactureMould().Show();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//B厂当地客户需要容器产品B</span></span><br><span class="line">        mFactoryB.ManufactureContainer().Show();</span><br><span class="line">        <span class="comment">//B厂当地客户需要模具产品B</span></span><br><span class="line">        mFactoryB.ManufactureMould().Show();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">生产出了容器产品A</span><br><span class="line">生产出了容器产品B</span><br><span class="line">生产出了模具产品A</span><br><span class="line">生产出了模具产品B</span><br></pre></td></tr></table></figure><h4 id="问题-2"><a href="#问题-2" class="headerlink" title="问题"></a>问题</h4><ul><li>抽象工厂模式很难支持新种类产品的变化</li></ul><h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><h4 id="简介-4"><a href="#简介-4" class="headerlink" title="简介"></a>简介</h4><ul><li>实现1个类只有1个实例化对象 &amp; 提供一个全局访问点</li><li>从上面可看出：工人类操作的明显不是同一个仓库实例，而全部工人希望操作的是同一个仓库实例，即只有1个实例</li></ul><h4 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h4><ul><li>在Java中，我们通过使用对象（类实例化后）来操作这些类，类实例化是通过它的构造方法进行的，要是想实现一个类只有一个实例化对象。</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303261501938.png" alt="img"></p><h4 id="举例实现-1"><a href="#举例实现-1" class="headerlink" title="举例实现"></a>举例实现</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line"><span class="comment">//1. 创建私有变量 ourInstance（用以记录 Singleton 的唯一实例）</span></span><br><span class="line"><span class="comment">//2. 内部进行实例化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">ourInstance</span>  <span class="operator">=</span> <span class="keyword">new</span>  <span class="title class_">Singleton</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//3. 把类的构造方法私有化，不让外部调用构造方法实例化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//4. 定义公有方法提供该类的全局唯一访问点</span></span><br><span class="line"><span class="comment">//5. 外部通过调用getInstance()方法来返回唯一的实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  Singleton <span class="title function_">newInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ourInstance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="情景代入"><a href="#情景代入" class="headerlink" title="情景代入"></a>情景代入</h4><p>背景：小成有一个塑料生产厂，但里面只有一个仓库。<br>目的：想用代码来实现仓库的管理<br>现有做法： 建立仓库类和工人类     其中，仓库类里的quantity=商品数量；工人类里有搬运方法MoveIn(int i)和MoveOut(int i)。</p><h5 id="一般实现"><a href="#一般实现" class="headerlink" title="一般实现"></a>一般实现</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//仓库类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StoreHouse</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">quantity</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setQuantity</span><span class="params">(<span class="type">int</span> quantity)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.quantity = quantity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getQuantity</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quantity;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//搬货工人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Carrier</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> StoreHouse mStoreHouse;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Carrier</span><span class="params">(StoreHouse storeHouse)</span>&#123;</span><br><span class="line">        mStoreHouse = storeHouse;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//搬货进仓库</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">MoveIn</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        mStoreHouse.setQuantity(mStoreHouse.getQuantity()+i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//搬货出仓库</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">MoveOut</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        mStoreHouse.setQuantity(mStoreHouse.getQuantity()-i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//工人搬运测试</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SinglePattern</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">StoreHouse</span> <span class="variable">mStoreHouse1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StoreHouse</span>();</span><br><span class="line">        <span class="type">StoreHouse</span> <span class="variable">mStoreHouse2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StoreHouse</span>();</span><br><span class="line">        <span class="type">Carrier</span> <span class="variable">Carrier1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Carrier</span>(mStoreHouse1);</span><br><span class="line">        <span class="type">Carrier</span> <span class="variable">Carrier2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Carrier</span>(mStoreHouse2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;两个是不是同一个？&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(mStoreHouse1.equals(mStoreHouse2))&#123;<span class="comment">//这里用equals而不是用 == 符号，因为 == 符号只是比较两个对象的地址</span></span><br><span class="line">            System.out.println(<span class="string">&quot;是同一个&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;不是同一个&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//搬运工搬完货物之后出来汇报仓库商品数量</span></span><br><span class="line">        Carrier1.MoveIn(<span class="number">30</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;仓库商品余量：&quot;</span>+Carrier1.mStoreHouse.getQuantity());</span><br><span class="line">        Carrier2.MoveOut(<span class="number">50</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;仓库商品余量：&quot;</span>+Carrier2.mStoreHouse.getQuantity());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="单例实现"><a href="#单例实现" class="headerlink" title="单例实现"></a>单例实现</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> scut.designmodel.SingletonPattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">//单例仓库类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StoreHouse</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//仓库商品数量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">quantity</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="comment">//自己在内部实例化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">StoreHouse</span> <span class="variable">ourInstance</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StoreHouse</span>();;</span><br><span class="line">    <span class="comment">//让外部通过调用getInstance()方法来返回唯一的实例。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> StoreHouse <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ourInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//封闭构造函数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">StoreHouse</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setQuantity</span><span class="params">(<span class="type">int</span> quantity)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.quantity = quantity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getQuantity</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quantity;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//搬货工人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Carrier</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> StoreHouse mStoreHouse;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Carrier</span><span class="params">(StoreHouse storeHouse)</span>&#123;</span><br><span class="line">        mStoreHouse = storeHouse;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//搬货进仓库</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">MoveIn</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        mStoreHouse.setQuantity(mStoreHouse.getQuantity()+i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//搬货出仓库</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">MoveOut</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        mStoreHouse.setQuantity(mStoreHouse.getQuantity()-i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//工人搬运测试</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SinglePattern</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">StoreHouse</span> <span class="variable">mStoreHouse1</span> <span class="operator">=</span> StoreHouse.getInstance();</span><br><span class="line">        <span class="type">StoreHouse</span> <span class="variable">mStoreHouse2</span> <span class="operator">=</span> StoreHouse.getInstance();</span><br><span class="line">        <span class="type">Carrier</span> <span class="variable">Carrier1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Carrier</span>(mStoreHouse1);</span><br><span class="line">        <span class="type">Carrier</span> <span class="variable">Carrier2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Carrier</span>(mStoreHouse2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;两个是不是同一个？&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(mStoreHouse1.equals(mStoreHouse2))&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;是同一个&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;不是同一个&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//搬运工搬完货物之后出来汇报仓库商品数量</span></span><br><span class="line">        Carrier1.MoveIn(<span class="number">30</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;仓库商品余量：&quot;</span>+Carrier1.mStoreHouse.getQuantity());</span><br><span class="line">        Carrier2.MoveOut(<span class="number">50</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;仓库商品余量：&quot;</span>+Carrier2.mStoreHouse.getQuantity());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="多种单例模式实现方式"><a href="#多种单例模式实现方式" class="headerlink" title="多种单例模式实现方式"></a>多种单例模式实现方式</h4><h5 id="饿汉式"><a href="#饿汉式" class="headerlink" title="饿汉式"></a>饿汉式</h5><ul><li>依赖JVM类加载机制，保证单例只会被创建一次，即线程安全</li><li>JVM在类的初始化阶段，会执行类的初始化</li><li>在执行类的初始化的时候，JVM会去获取一个锁，这个所可以同步多个线程对同一个类的初始化<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. 加载该类时，单例就会自动被创建</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Singleton</span> <span class="variable">ourInstance</span>  <span class="operator">=</span> <span class="keyword">new</span>  <span class="title class_">Singleton</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. 构造函数 设置为 私有权限</span></span><br><span class="line">    <span class="comment">// 原因：禁止他人创建实例 </span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. 通过调用静态方法获得创建的单例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  Singleton <span class="title function_">newInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ourInstance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h5></li><li>根据枚举类型的下述特点，满足单例模式所需的创建单例，线程安全，实现简介的需求</li><li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303261509469.jpeg" alt="img"></li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Singleton</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义1个枚举的元素，即为单例类的1个实例</span></span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 隐藏了1个空的、私有的 构造方法</span></span><br><span class="line">    <span class="comment">// private Singleton () &#123;&#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取单例的方式：</span></span><br><span class="line"><span class="type">Singleton</span> <span class="variable">singleton</span> <span class="operator">=</span> Singleton.INSTANCE;</span><br></pre></td></tr></table></figure><h5 id="懒汉式"><a href="#懒汉式" class="headerlink" title="懒汉式"></a>懒汉式</h5><ul><li>单例创建时机可控，有需要的时候才手动创建单例</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 类加载时，先不自动创建单例</span></span><br><span class="line">   <span class="comment">//  即，将单例的引用先赋值为 Null</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Singleton</span> <span class="variable">ourInstance</span>  <span class="operator">=</span> <span class="literal">null</span>；</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 构造函数 设置为 私有权限</span></span><br><span class="line">    <span class="comment">// 原因：禁止他人创建实例 </span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. 需要时才手动调用 newInstance（） 创建 单例   </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  Singleton <span class="title function_">newInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 先判断单例是否为空，以避免重复创建</span></span><br><span class="line">    <span class="keyword">if</span>( ourInstance == <span class="literal">null</span>)&#123;</span><br><span class="line">        ourInstance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ourInstance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="问题-3"><a href="#问题-3" class="headerlink" title="问题"></a>问题</h4><ul><li>对于懒汉会存在线程不安全的时候，特别是在多线程时候会出现以下问题</li><li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303261512668.png" alt="img"></li></ul><h4 id="同步锁"><a href="#同步锁" class="headerlink" title="同步锁"></a>同步锁</h4><ul><li>使用同步锁synchronized，锁住创建单例的方法，防止多个线程同时调用，从而避免造成单例被多次创建</li><li>getInstance（）方法块只能运行在一个线程中</li><li>倘若此段代码已在一个线程中运行，则另外一个线程试图运行该块代码，则会被一直阻塞二一直等待。<h5 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 写法1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 类加载时，先不自动创建单例</span></span><br><span class="line">    <span class="comment">//  即，将单例的引用先赋值为 Null</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Singleton</span> <span class="variable">ourInstance</span>  <span class="operator">=</span> <span class="literal">null</span>；</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. 构造函数 设置为 私有权限</span></span><br><span class="line">    <span class="comment">// 原因：禁止他人创建实例 </span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 3. 加入同步锁</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// 先判断单例是否为空，以避免重复创建</span></span><br><span class="line">        <span class="keyword">if</span> ( ourInstance == <span class="literal">null</span> )</span><br><span class="line">            ourInstance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">        <span class="keyword">return</span> ourInstance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法2</span></span><br><span class="line"><span class="comment">// 该写法的作用与上述写法作用相同，只是写法有所区别</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span>&#123; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// 加入同步锁</span></span><br><span class="line">        <span class="keyword">synchronized</span>(Singleton.class) &#123;</span><br><span class="line">            <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">                instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="双重校验锁"><a href="#双重校验锁" class="headerlink" title="双重校验锁"></a>双重校验锁</h4><ul><li>在同步锁的基础上，添加多一层if判断，若单例已经创建，则不需要执行加锁操作就可以获取实例，从而提高性能</li></ul><h5 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Singleton</span> <span class="variable">ourInstance</span>  <span class="operator">=</span> <span class="literal">null</span>；</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  Singleton <span class="title function_">newInstance</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="comment">// 加入双重校验锁</span></span><br><span class="line">    <span class="comment">// 校验锁1：第1个if</span></span><br><span class="line">    <span class="keyword">if</span>( ourInstance == <span class="literal">null</span>)&#123;  <span class="comment">// ①</span></span><br><span class="line">     <span class="keyword">synchronized</span> (Singleton.class)&#123; <span class="comment">// ②</span></span><br><span class="line">      <span class="comment">// 校验锁2：第2个 if</span></span><br><span class="line">      <span class="keyword">if</span>( ourInstance == <span class="literal">null</span>)&#123;</span><br><span class="line">          ourInstance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">        <span class="keyword">return</span> ourInstance;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 说明</span></span><br><span class="line"><span class="comment">// 校验锁1：第1个if</span></span><br><span class="line"><span class="comment">// 作用：若单例已创建，则直接返回已创建的单例，无需再执行加锁操作</span></span><br><span class="line"><span class="comment">// 即直接跳到执行 return ourInstance</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 校验锁2：第2个 if </span></span><br><span class="line"><span class="comment">// 作用：防止多次创建单例问题</span></span><br><span class="line"><span class="comment">// 原理</span></span><br><span class="line">  <span class="comment">// 1. 线程A调用newInstance()，当运行到②位置时，此时线程B也调用了newInstance()</span></span><br><span class="line">  <span class="comment">// 2. 因线程A并没有执行instance = new Singleton();，此时instance仍为空，因此线程B能突破第1层 if 判断，运行到①位置等待synchronized中的A线程执行完毕</span></span><br><span class="line">  <span class="comment">// 3. 当线程A释放同步锁时，单例已创建，即instance已非空</span></span><br><span class="line">  <span class="comment">// 4. 此时线程B 从①开始执行到位置②。此时第2层 if 判断 = 为空（单例已创建），因此也不会创建多余的实例</span></span><br></pre></td></tr></table></figure><h4 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h4><ul><li>更具静态内部类的特性，同步解决按需加载，线程安全的问题，同时实现简洁</li><li>在静态内部类中创建单例，在装载该内部类的时候才会去创建单例</li><li>线程安全：类是由JVM加载，而JVM只会加载一遍，保证只有一个单例</li></ul><h5 id="实现-2"><a href="#实现-2" class="headerlink" title="实现"></a>实现</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. 创建静态内部类</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Singleton2</span> &#123;</span><br><span class="line">       <span class="comment">// 在静态内部类里创建单例</span></span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Singleton</span> <span class="variable">ourInstance</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>()；</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 私有构造函数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 延迟加载、按需创建</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  Singleton <span class="title function_">newInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Singleton2.ourInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用过程说明：</span></span><br><span class="line">      <span class="comment">// 1. 外部调用类的newInstance() </span></span><br><span class="line">      <span class="comment">// 2. 自动调用Singleton2.ourInstance</span></span><br><span class="line">       <span class="comment">// 2.1 此时单例类Singleton2得到初始化</span></span><br><span class="line">       <span class="comment">// 2.2 而该类在装载 &amp; 被初始化时，会初始化它的静态域，从而创建单例；</span></span><br><span class="line">       <span class="comment">// 2.3 由于是静态域，因此只会JVM只会加载1遍，Java虚拟机保证了线程安全性</span></span><br><span class="line">      <span class="comment">// 3. 最终只创建1个单</span></span><br></pre></td></tr></table></figure><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303261537777.png" alt="img"></p><h3 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h3><h4 id="简介-5"><a href="#简介-5" class="headerlink" title="简介"></a>简介</h4><ul><li>将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示</li><li>在用户不知道对象的建造过程和细节的情况下就可以直接创建复杂的对象。</li><li>建造者模式负责按照是顺序创建复杂对象（把内部的建造过程和细节隐藏藏匿起来）</li></ul><h4 id="解决问题-3"><a href="#解决问题-3" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>方便用户创建复杂的对象</li><li>代码复用性以及封装性（将对象构建过程和细节进行封装以及复用）</li><li>方便解耦，方便控制对象的创建，方便于拓展。</li></ul><h4 id="UML类图-3"><a href="#UML类图-3" class="headerlink" title="UML类图"></a>UML类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303270853304.png" alt="img"></p><h4 id="模式讲解"><a href="#模式讲解" class="headerlink" title="模式讲解"></a>模式讲解</h4><ol><li>指挥者直接和客户进行需求沟通</li><li>沟通后指挥者将客户创建产品的需求划分为各个部件的建造请求</li><li>将各个部件的建造请求委派到具体的建造者</li><li>各个具体建造者负责进行产品部件的构建</li><li>最终构建成具体产品。</li></ol><h4 id="情景代入-1"><a href="#情景代入-1" class="headerlink" title="情景代入"></a>情景代入</h4><ul><li>背景：小成希望去电脑城买一台组装的台式主机</li><li>过程：   </li></ul><ol><li>电脑城老板（Diretor）和小成（Client）进行需求沟通（买来打游戏？学习？看片？）</li><li>了解需求后，电脑城老板将小成需要的主机划分为各个部件（Builder）的建造请求（CPU、主板blabla）</li><li>指挥装机人员（ConcreteBuilder）去构建组件；</li><li>将组件组装起来成小成需要的电脑（Product）；</li></ol><h5 id="举例实例-1"><a href="#举例实例-1" class="headerlink" title="举例实例"></a>举例实例</h5><ol><li>定义组装的过程：组装电脑的过程<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Builder</span>&#123;</span><br><span class="line"><span class="comment">//第一步：CPU</span></span><br><span class="line"><span class="comment">//声明为抽象方法，具体由子类实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">BuildCPU</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//第二步：装主板</span></span><br><span class="line"><span class="comment">//声明为抽象方法，具体由子类实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">BuildMainboard</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//第三步：装硬盘</span></span><br><span class="line"><span class="comment">//声明为抽象方法，具体由子类实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">BuildHD</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//返回产品的方法：获得组装好的电脑</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> Computer <span class="title function_">GetCompputer</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>电脑城老板委派任务给装机人员<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Director</span>&#123;</span><br><span class="line"><span class="comment">//指挥装机人员组装的电脑</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Construct</span><span class="params">(Builder builder)</span>&#123;</span><br><span class="line">builder.BuildCPU();</span><br><span class="line">builder.BuildMainboard();</span><br><span class="line">builder.BuuildHD();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>创建具体的建造者：装机人员<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteBuilder</span> <span class="keyword">extends</span> <span class="title class_">Builder</span> &#123;</span><br><span class="line">    <span class="comment">//创建产品实例</span></span><br><span class="line">    <span class="type">Computer</span> <span class="variable">computer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Computer</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//组装产品</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BuildCPU</span><span class="params">()</span>&#123;</span><br><span class="line">        computer.Add(<span class="string">&quot;组装CPU&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BuilMainboard</span><span class="params">()</span>&#123;</span><br><span class="line">        computer.Add(<span class="string">&quot;组装主板&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BuildHD</span><span class="params">()</span>&#123;</span><br><span class="line">        computer.Add(<span class="string">&quot;组装硬盘&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回组装成功的电脑</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Computer <span class="title function_">GetComputer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> computer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>定义具体产品类：电脑<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Computer</span>&#123;</span><br><span class="line"><span class="comment">//电脑组件的集合</span></span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; parts = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line"><span class="comment">//用于将组件组装到电脑</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Add</span><span class="params">(String part)</span>&#123;</span><br><span class="line">part.add (part);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Show</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;&lt;part.size();i++)&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;组件&quot;</span>+part.get(i)+<span class="string">&quot;装好了&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;电脑组装完成，请验收&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>客户端调用-小成到电脑找了老板买电脑</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Builder</span> Pattern&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//逛了很久终于发现一家合适的电脑店</span></span><br><span class="line"><span class="comment">//找到该店的老板和装机人员</span></span><br><span class="line">  <span class="type">Director</span> <span class="variable">director</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Director</span>();</span><br><span class="line">  <span class="type">Builder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteBuilder</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//沟通需求后，老板叫装机人员去装电脑</span></span><br><span class="line">director.Construct(builder);</span><br><span class="line"></span><br><span class="line"><span class="comment">//装完后，组装人员搬来组装好的电脑</span></span><br><span class="line"><span class="type">Computer</span> <span class="variable">computer</span> <span class="operator">=</span> builder.GetComputer();</span><br><span class="line"><span class="comment">//组装人员展示电脑给小成看</span></span><br><span class="line">computer.Show()；</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="问题-4"><a href="#问题-4" class="headerlink" title="问题"></a>问题</h4><ul><li>建造者模式所创建的产品一般具有较多的共同点，其组成部分相似；如果产品之间的差异性很大，则不适合使用建造者模式，因此其使用范围受到一定的限制。</li><li>如果产品的内部变化复杂，可能会导致需要定义很多具体建造者类来实现这种变化，导致系统变得很庞大。</li></ul><h3 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h3><h4 id="简介-6"><a href="#简介-6" class="headerlink" title="简介"></a>简介</h4><ul><li>它允许通过复制现有的对象来创建新的对象，而不是通过创建新的实例并初始化它们来创建对象。这种模式通常用于创建具有相同属性的多个对象，以避免重复的初始化过程。在原型模式中，原型对象是创建新对象的模板，新对象是通过复制原型对象来创建的。原型模式的实现通常需要实现 Cloneable 接口或者使用序列化和反序列化来实现对象的复制。</li></ul><h4 id="UML类图-4"><a href="#UML类图-4" class="headerlink" title="UML类图"></a>UML类图</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303271043974.png" alt="image-20230327104312924"></p><h4 id="解决问题-4"><a href="#解决问题-4" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>逃避构造函数的约束。</li></ul><h4 id="举例实例-2"><a href="#举例实例-2" class="headerlink" title="举例实例"></a>举例实例</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> String id;</span><br><span class="line">   <span class="keyword">protected</span> String type;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">getType</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> type;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> id;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.id = id;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">public</span> Object <span class="title function_">clone</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="type">Object</span> <span class="variable">clone</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         clone = <span class="built_in">super</span>.clone();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> clone;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">()</span>&#123;</span><br><span class="line">     type = <span class="string">&quot;Rectangle&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Inside Rectangle::draw() method.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">Square</span><span class="params">()</span>&#123;</span><br><span class="line">     type = <span class="string">&quot;Square&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Inside Square::draw() method.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span>&#123;</span><br><span class="line">     type = <span class="string">&quot;Circle&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Inside Circle::draw() method.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShapeCache</span> &#123;</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> Hashtable&lt;String, Shape&gt; shapeMap </span><br><span class="line">      = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;String, Shape&gt;();</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> Shape <span class="title function_">getShape</span><span class="params">(String shapeId)</span> &#123;</span><br><span class="line">      <span class="type">Shape</span> <span class="variable">cachedShape</span> <span class="operator">=</span> shapeMap.get(shapeId);</span><br><span class="line">      <span class="keyword">return</span> (Shape) cachedShape.clone();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 对每种形状都运行数据库查询，并创建该形状</span></span><br><span class="line">   <span class="comment">// shapeMap.put(shapeKey, shape);</span></span><br><span class="line">   <span class="comment">// 例如，我们要添加三种形状</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">loadCache</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="type">Circle</span> <span class="variable">circle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">      circle.setId(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">      shapeMap.put(circle.getId(),circle);</span><br><span class="line"> </span><br><span class="line">      <span class="type">Square</span> <span class="variable">square</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Square</span>();</span><br><span class="line">      square.setId(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">      shapeMap.put(square.getId(),square);</span><br><span class="line"> </span><br><span class="line">      <span class="type">Rectangle</span> <span class="variable">rectangle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>();</span><br><span class="line">      rectangle.setId(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">      shapeMap.put(rectangle.getId(),rectangle);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrototypePatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      ShapeCache.loadCache();</span><br><span class="line"> </span><br><span class="line">      <span class="type">Shape</span> <span class="variable">clonedShape</span> <span class="operator">=</span> (Shape) ShapeCache.getShape(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;Shape : &quot;</span> + clonedShape.getType());        </span><br><span class="line"> </span><br><span class="line">      <span class="type">Shape</span> <span class="variable">clonedShape2</span> <span class="operator">=</span> (Shape) ShapeCache.getShape(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;Shape : &quot;</span> + clonedShape2.getType());        </span><br><span class="line"> </span><br><span class="line">      <span class="type">Shape</span> <span class="variable">clonedShape3</span> <span class="operator">=</span> (Shape) ShapeCache.getShape(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;Shape : &quot;</span> + clonedShape3.getType());        </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="问题-5"><a href="#问题-5" class="headerlink" title="问题"></a>问题</h4><ul><li>配备克隆方法需要对类的功能进行通盘考虑，这对于全新的类不是很男</li><li>必须实现Cloneable接口</li></ul><h4 id="应用-1"><a href="#应用-1" class="headerlink" title="应用"></a>应用</h4><ul><li>资源优化</li><li>类初始化需要消化很多资源</li><li>一个对象多个修改者</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;设计模式-创新型模式&quot;&gt;&lt;a href=&quot;#设计模式-创新型模式&quot; class=&quot;headerlink&quot; title=&quot;设计模式-创新型模式&quot;&gt;&lt;/a&gt;设计模式-创新型模式&lt;/h1&gt;&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="设计模式" scheme="https://kalyan-zitiu.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
    <category term="基础知识" scheme="https://kalyan-zitiu.github.io/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>Goal解析以及进阶练习</title>
    <link href="https://kalyan-zitiu.github.io/2023/01/06/IC-%E7%BB%83%E4%B9%A0%E9%A2%98%E8%A7%A33/"/>
    <id>https://kalyan-zitiu.github.io/2023/01/06/IC-%E7%BB%83%E4%B9%A0%E9%A2%98%E8%A7%A33/</id>
    <published>2023-01-06T07:00:04.000Z</published>
    <updated>2023-01-06T07:33:07.147Z</updated>
    
    <content type="html"><![CDATA[<h1 id="goal解析"><a href="#goal解析" class="headerlink" title="goal解析"></a>goal解析</h1><p>请你设计一个可以解释字符串 command 的 Goal 解析器 。</p><ul><li>command 由 “G”、”()” 和/或 “(al)” 按某种顺序组成。</li><li>Goal 解析器会将 “G” 解释为字符串 “G”、”()” 解释为字符串 “o” ，”(al)” 解释为字符串 “al” 。然后，按原顺序将经解释得到的字符串连接成一个字符串。</li><li>给你字符串 command ，返回 Goal 解析器 对 command 的解释结果。</li></ul><h2 id="P-题解"><a href="#P-题解" class="headerlink" title="P-题解"></a>P-题解</h2><p>又是偷懒的一天，直接用库函数了</p><ol><li>需要注意的是下面的括号是要转义的，不然会识别成null。</li><li>此方法的时间复杂度会较大，个人猜测是函数内部的循环或条件语句分析相对O-题解比较复杂。<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">interpret</span><span class="params">(String command)</span> &#123;</span><br><span class="line">    command = command.replace(<span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;G&#x27;</span>);</span><br><span class="line">    command = command.replaceAll(<span class="string">&quot;\\(\\)&quot;</span>,<span class="string">&quot;o&quot;</span>);</span><br><span class="line">    command = command.replaceAll(<span class="string">&quot;\\(al\\)&quot;</span>,<span class="string">&quot;al&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> command;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="O-题解"><a href="#O-题解" class="headerlink" title="O-题解"></a>O-题解</h2><h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><ol><li>本题只会出现”G”,”()”以及”(al)”所以不符合”（）”与”G”的条件一律可以按照”（al）”处理。<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">interpret</span><span class="params">(String command)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; command.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (command.charAt(i) == <span class="string">&#x27;G&#x27;</span>) &#123;</span><br><span class="line">                res.append(<span class="string">&quot;G&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (command.charAt(i) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (command.charAt(i + <span class="number">1</span>) == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                    res.append(<span class="string">&quot;o&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    res.append(<span class="string">&quot;al&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">来源：力扣（LeetCode）</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;goal解析&quot;&gt;&lt;a href=&quot;#goal解析&quot; class=&quot;headerlink&quot; title=&quot;goal解析&quot;&gt;&lt;/a&gt;goal解析&lt;/h1&gt;&lt;p&gt;请你设计一个可以解释字符串 command 的 Goal 解析器 。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;comman</summary>
      
    
    
    
    <category term="leetccode" scheme="https://kalyan-zitiu.github.io/categories/leetccode/"/>
    
    
    <category term="练习" scheme="https://kalyan-zitiu.github.io/tags/%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>TinyURL 的加密与解密</title>
    <link href="https://kalyan-zitiu.github.io/2023/01/05/IC-%E7%BB%83%E4%B9%A0%E9%A2%98%E8%A7%A32/"/>
    <id>https://kalyan-zitiu.github.io/2023/01/05/IC-%E7%BB%83%E4%B9%A0%E9%A2%98%E8%A7%A32/</id>
    <published>2023-01-05T09:40:04.000Z</published>
    <updated>2023-01-05T11:31:21.200Z</updated>
    
    <content type="html"><![CDATA[<h1 id="TinyURL-的加密与解密"><a href="#TinyURL-的加密与解密" class="headerlink" title="TinyURL 的加密与解密"></a>TinyURL 的加密与解密</h1><ol><li>TinyURL 是一种 URL 简化服务， 比如：当你输入一个 URL <a href="https://leetcode.com/problems/design-tinyurl">https://leetcode.com/problems/design-tinyurl</a> 时，它将返回一个简化的URL <a href="http://tinyurl.com/4e9iAk">http://tinyurl.com/4e9iAk</a> 。请你设计一个类来加密与解密 TinyURL 。</li></ol><ul><li>加密和解密算法如何设计和运作是没有限制的，你只需要保证一个 URL 可以被加密成一个 TinyURL ，并且这个 TinyURL 可以用解密方法恢复成原本的 URL 。<br>实现 Solution 类：</li><li>Solution() 初始化 TinyURL 系统对象。</li><li>String encode(String longUrl) 返回 longUrl 对应的 TinyURL 。</li><li>String decode(String shortUrl) 返回 shortUrl 原本的 URL 。题目数据保证给定的 shortUrl 是由同一个系统对象加密的。</li></ul><h2 id="P-题解"><a href="#P-题解" class="headerlink" title="P-题解"></a>P-题解</h2><p>其实我第一时间想到的就只有异或运算而已</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Encodes a URL to a shortened URL.</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">encode</span><span class="params">(String longUrl)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> syscode(longUrl);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes a shortened URL to its original URL.</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">decode</span><span class="params">(String shortUrl)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> syscode(shortUrl);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">syscode</span><span class="params">(String index)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">key</span> <span class="operator">=</span> <span class="number">114514</span>;</span><br><span class="line">        <span class="type">char</span> mixcode[] = index.toCharArray();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;mixcode.length;i++)&#123;</span><br><span class="line">            mixcode[i] = (<span class="type">char</span>)(mixcode[i]^key);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(mixcode);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="O-题解"><a href="#O-题解" class="headerlink" title="O-题解"></a>O-题解</h2><h3 id="来源leetcode"><a href="#来源leetcode" class="headerlink" title="(来源leetcode)"></a>(来源leetcode)</h3><h3 id="自增"><a href="#自增" class="headerlink" title="自增"></a>自增</h3><p>建立哈希表，用自增的id作为URL的键，每次接收一个URL都会使id递增，从而将键值对database进行存储，然后返回带有id的字符串作为shorURL。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Codec</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, String&gt; dataBase = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, String&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">encode</span><span class="params">(String longUrl)</span> &#123;</span><br><span class="line">        id++;</span><br><span class="line">        dataBase.put(id, longUrl);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;http://tinyurl.com/&quot;</span> + id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">decode</span><span class="params">(String shortUrl)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> shortUrl.lastIndexOf(<span class="string">&#x27;/&#x27;</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">key</span> <span class="operator">=</span> Integer.parseInt(shortUrl.substring(p));</span><br><span class="line">        <span class="keyword">return</span> dataBase.get(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="哈希生成"><a href="#哈希生成" class="headerlink" title="哈希生成"></a>哈希生成</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Codec</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">K1</span> <span class="operator">=</span> <span class="number">1117</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">K2</span> <span class="operator">=</span> <span class="number">1000000007</span>;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, String&gt; dataBase = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, String&gt;();</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Integer&gt; urlToKey = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, Integer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">encode</span><span class="params">(String longUrl)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (urlToKey.containsKey(longUrl)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;http://tinyurl.com/&quot;</span> + urlToKey.get(longUrl);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">key</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">base</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; longUrl.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> longUrl.charAt(i);</span><br><span class="line">            key = (<span class="type">int</span>) ((key + (<span class="type">long</span>) c * base) % K2);</span><br><span class="line">            base = (base * K1) % K2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (dataBase.containsKey(key)) &#123;</span><br><span class="line">            key = (key + <span class="number">1</span>) % K2;</span><br><span class="line">        &#125;</span><br><span class="line">        dataBase.put(key, longUrl);</span><br><span class="line">        urlToKey.put(longUrl, key);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;http://tinyurl.com/&quot;</span> + key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">decode</span><span class="params">(String shortUrl)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> shortUrl.lastIndexOf(<span class="string">&#x27;/&#x27;</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">key</span> <span class="operator">=</span> Integer.parseInt(shortUrl.substring(p));</span><br><span class="line">        <span class="keyword">return</span> dataBase.get(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;TinyURL-的加密与解密&quot;&gt;&lt;a href=&quot;#TinyURL-的加密与解密&quot; class=&quot;headerlink&quot; title=&quot;TinyURL 的加密与解密&quot;&gt;&lt;/a&gt;TinyURL 的加密与解密&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;TinyURL 是一种 URL </summary>
      
    
    
    
    <category term="leetccode" scheme="https://kalyan-zitiu.github.io/categories/leetccode/"/>
    
    
    <category term="练习" scheme="https://kalyan-zitiu.github.io/tags/%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>根据给定数字划分数组</title>
    <link href="https://kalyan-zitiu.github.io/2023/01/03/IC-%E7%BB%83%E4%B9%A0%E9%A2%98%E8%A7%A3/"/>
    <id>https://kalyan-zitiu.github.io/2023/01/03/IC-%E7%BB%83%E4%B9%A0%E9%A2%98%E8%A7%A3/</id>
    <published>2023-01-03T10:20:04.000Z</published>
    <updated>2023-01-05T09:35:45.775Z</updated>
    
    <content type="html"><![CDATA[<h2 id="根据给定数字划分数组"><a href="#根据给定数字划分数组" class="headerlink" title="根据给定数字划分数组"></a>根据给定数字划分数组</h2><p>给你一个下标从 0 开始的整数数组 nums 和一个整数 pivot 。请你将 nums 重新排列，使得以下条件均成立：</p><ul><li>所有小于 pivot 的元素都出现在所有大于 pivot 的元素 之前 。</li><li>所有等于 pivot 的元素都出现在小于和大于 pivot 的元素 中间 。</li><li>小于 pivot 的元素之间和大于 pivot 的元素之间的 相对顺序 不发生改变。<ul><li>更正式的，考虑每一对 pi，pj ，pi 是初始时位置 i 元素的新位置，pj 是初始时位置 j 元素的新位置。对于小于 pivot 的元素，如果 i &lt; j 且 nums[i] &lt; pivot 和 nums[j] &lt; pivot 都成立，那么 pi &lt; pj 也成立。类似的，对于大于 pivot 的元素，如果 i &lt; j 且 nums[i] &gt; pivot 和 nums[j] &gt; pivot 都成立，那么 pi &lt; pj 。</li></ul></li></ul><h3 id="P-题解"><a href="#P-题解" class="headerlink" title="P-题解"></a>P-题解</h3><p>总体来说时空都是比较占优的空间损耗也不大</p><ol><li>双指针left从0开始递增以及right从数组后置位开始递减，分别用作于比较大于pivot以及小于pivot的，优点在于能够按照原本的次序在新的数组里面安排位置。</li><li>其实等于pivot可以不做比较，可以在新数组的所有元素填满pivot值，然后通过与原数组比较前后开始占位变值。</li><li>其实这里的时间复杂度应该是O（N）的。<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] pivotArray(<span class="type">int</span>[] nums, <span class="type">int</span> pivot) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span>nums.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span>length-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> newNum[] = <span class="keyword">new</span> <span class="title class_">int</span> [length];</span><br><span class="line">    Arrays.fill(newNum,pivot);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> min=<span class="number">0</span>,max=length-<span class="number">1</span>;left&lt;length&amp;&amp;right&gt;=<span class="number">0</span>;left++,right--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[left]&lt;pivot)&#123;</span><br><span class="line">            newNum[min++]=nums[left];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[right]&gt;pivot)&#123;</span><br><span class="line">            newNum[max--]=nums[right];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newNum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="O-题解"><a href="#O-题解" class="headerlink" title="O-题解"></a>O-题解</h3><h4 id="简单的三次遍历"><a href="#简单的三次遍历" class="headerlink" title="简单的三次遍历"></a>简单的三次遍历</h4><p>时间较快，空间损耗相对大</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] pivotArray(<span class="type">int</span>[] nums, <span class="type">int</span> pivot) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length, k = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) <span class="keyword">if</span> (nums[i] &lt; pivot) ans[k++] = nums[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) <span class="keyword">if</span> (nums[i] == pivot) ans[k++] = nums[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) <span class="keyword">if</span> (nums[i] &gt; pivot) ans[k++] = nums[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="划分以及拼接"><a href="#划分以及拼接" class="headerlink" title="划分以及拼接"></a>划分以及拼接</h4><p>运行时间可以说是题解里最长的了，而且空间也不是最优秀的。可能是因为增强for循环的或者计算长度的原因，比上面多一次循环的方法时间还要久。</p><ol><li>三个数据类型为Integer的ArrayList对象，分别储存三个不同的情况的数值</li><li>计算所有List的长度，建立新的数组，增强循环来依次输入顺序数值</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] pivotArray(<span class="type">int</span>[] nums, <span class="type">int</span> pivot) </span><br><span class="line">&#123;</span><br><span class="line">    List&lt;Integer&gt; a = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; b = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x: nums)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; pivot)</span><br><span class="line">        &#123;</span><br><span class="line">            a.add(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (x == pivot)</span><br><span class="line">        &#123;</span><br><span class="line">            b.add(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            c.add(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> a.size() + b.size() + c.size();</span><br><span class="line">    <span class="type">int</span> [] res = <span class="keyword">new</span> <span class="title class_">int</span> [n];</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x : a)</span><br><span class="line">    &#123;</span><br><span class="line">        res[i ++] = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x : b)</span><br><span class="line">    &#123;</span><br><span class="line">        res[i ++] = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x : c)</span><br><span class="line">    &#123;</span><br><span class="line">        res[i ++] = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;根据给定数字划分数组&quot;&gt;&lt;a href=&quot;#根据给定数字划分数组&quot; class=&quot;headerlink&quot; title=&quot;根据给定数字划分数组&quot;&gt;&lt;/a&gt;根据给定数字划分数组&lt;/h2&gt;&lt;p&gt;给你一个下标从 0 开始的整数数组 nums 和一个整数 pivot 。请你</summary>
      
    
    
    
    <category term="leetccode" scheme="https://kalyan-zitiu.github.io/categories/leetccode/"/>
    
    
    <category term="练习" scheme="https://kalyan-zitiu.github.io/tags/%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>进程耗时计算</title>
    <link href="https://kalyan-zitiu.github.io/2023/01/01/%E8%A1%8C%E7%A8%8B%E8%80%97%E6%97%B6%E8%AE%A1%E6%97%B6/"/>
    <id>https://kalyan-zitiu.github.io/2023/01/01/%E8%A1%8C%E7%A8%8B%E8%80%97%E6%97%B6%E8%AE%A1%E6%97%B6/</id>
    <published>2023-01-01T08:45:04.000Z</published>
    <updated>2023-01-01T09:04:09.200Z</updated>
    
    <content type="html"><![CDATA[<h1 id="进程耗时计算"><a href="#进程耗时计算" class="headerlink" title="进程耗时计算"></a>进程耗时计算</h1><p>这是一个能够计算运行进程的包。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeTool</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">SimpleDateFormat</span> <span class="variable">fmt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;HH:mm:ss.SSS&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Task</span>&#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">check</span><span class="params">(String title,Task task)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (title==<span class="literal">null</span>)<span class="keyword">return</span>;</span><br><span class="line">        title = (title==<span class="literal">null</span>)?<span class="string">&quot;&quot;</span>:(<span class="string">&quot;【&quot;</span>+title+<span class="string">&quot;】&quot;</span>);</span><br><span class="line">        System.out.println(title);</span><br><span class="line">        System.out.println(<span class="string">&quot;开始:&quot;</span>+fmt.format(<span class="keyword">new</span> <span class="title class_">Date</span>()));</span><br><span class="line">        <span class="type">long</span> <span class="variable">begin</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        task.execute();</span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;结束:&quot;</span>+fmt.format(<span class="keyword">new</span> <span class="title class_">Date</span>()));</span><br><span class="line">        <span class="type">double</span> <span class="variable">delta</span> <span class="operator">=</span> (end - begin)/<span class="number">1000.0</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;耗时:&quot;</span>+delta+<span class="string">&quot;秒&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><ol><li>在自建的软件包内建立一个TimeTool文件。</li><li>同包导入<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> 软件包名字.TimeTool.Task;</span><br></pre></td></tr></table></figure></li><li>调用方法<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TimeTool.check(<span class="string">&quot;此处填写此次进程测试的名字（随便起个名字，方便对比区分）&quot;</span>,<span class="keyword">new</span> <span class="title class_">Task</span>()&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//放入你需要测试的进程</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)；</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;进程耗时计算&quot;&gt;&lt;a href=&quot;#进程耗时计算&quot; class=&quot;headerlink&quot; title=&quot;进程耗时计算&quot;&gt;&lt;/a&gt;进程耗时计算&lt;/h1&gt;&lt;p&gt;这是一个能够计算运行进程的包。&lt;/p&gt;
&lt;h2 id=&quot;代码&quot;&gt;&lt;a href=&quot;#代码&quot; class=&quot;h</summary>
      
    
    
    
    <category term="工具" scheme="https://kalyan-zitiu.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="工具" scheme="https://kalyan-zitiu.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>二叉树（持续更新中）</title>
    <link href="https://kalyan-zitiu.github.io/2022/12/19/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%83%E4%B9%A0/"/>
    <id>https://kalyan-zitiu.github.io/2022/12/19/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%83%E4%B9%A0/</id>
    <published>2022-12-19T01:00:00.000Z</published>
    <updated>2022-12-19T01:02:27.710Z</updated>
    
    <content type="html"><![CDATA[<h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><h3 id="镜像二叉树"><a href="#镜像二叉树" class="headerlink" title="镜像二叉树"></a>镜像二叉树</h3><p>1.把左右根交换即可</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202212190900221.png" alt="image-20221219090003177"></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">mirrorTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">temp</span> <span class="operator">=</span> root.left;</span><br><span class="line">        root.left = root.right;</span><br><span class="line">        root.right = temp;</span><br><span class="line">        mirrorTree(root.left);</span><br><span class="line">        mirrorTree(root.right);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="找出克隆二叉树中的相同节点"><a href="#找出克隆二叉树中的相同节点" class="headerlink" title="找出克隆二叉树中的相同节点"></a>找出克隆二叉树中的相同节点</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202212051005239.png" alt="image-20221205100529196"></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> TreeNode <span class="title function_">getTargetCopy</span><span class="params">(<span class="keyword">final</span> TreeNode original, <span class="keyword">final</span> TreeNode cloned, <span class="keyword">final</span> TreeNode target)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (original == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (original == target) <span class="keyword">return</span> cloned;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> getTargetCopy(original.left, cloned.left, target);</span><br><span class="line">        <span class="keyword">if</span> (left!=<span class="literal">null</span>) <span class="keyword">return</span> left;</span><br><span class="line">        <span class="keyword">return</span> getTargetCopy(original.right, cloned.right, target);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="HomeWork"><a href="#HomeWork" class="headerlink" title="HomeWork"></a>HomeWork</h2><h3 id="自定义树结点"><a href="#自定义树结点" class="headerlink" title="自定义树结点"></a>自定义树结点</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">char</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">char</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">char</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><h3 id="1-先根序列构造二叉树：A-B-null-D-null-null-C-null-null"><a href="#1-先根序列构造二叉树：A-B-null-D-null-null-C-null-null" class="headerlink" title="1. 先根序列构造二叉树：A B null D null null C null null"></a>1. 先根序列构造二叉树：A B null D null null C null null</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//一个全局变量，其实缺点也会很多，对于后面的方法均需要一个计时器，还有一种就是放在方法内的局部变量，跟着方法递归增加</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//题目给的是字符串，可以用toCharArray()变换字符数组</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">CteateTree</span><span class="params">(<span class="type">char</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (count &lt; arr.length) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">val</span> <span class="operator">=</span> arr[count++];</span><br><span class="line">        <span class="comment">//当val值不等于空，这里把^当成空，就把新的带有val的节点赋值给真正意义上的根节点，往后的都是左右子树</span></span><br><span class="line">        <span class="keyword">if</span> (val != <span class="string">&#x27;^&#x27;</span>) &#123;</span><br><span class="line">            node = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(val);</span><br><span class="line">            node.left = CteateTree(arr);</span><br><span class="line">            node.right = CteateTree(arr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//这道题你也简单点理论上可以直接把^也带入结点,不做空值处理,起码在我这里是这样,上面的自定义树节点的基本存储数据类型是用了char.这样好像也可以节省后面遍历的空值处理问题</span></span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-对于1中生成的二叉树进行前序、中序、后序遍历。"><a href="#2-对于1中生成的二叉树进行前序、中序、后序遍历。" class="headerlink" title="2.对于1中生成的二叉树进行前序、中序、后序遍历。"></a>2.对于1中生成的二叉树进行前序、中序、后序遍历。</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//前序输出</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preOrderTravera</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node!=<span class="literal">null</span>) &#123;</span><br><span class="line">        System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        preOrderTravera(node.left);</span><br><span class="line">        preOrderTravera(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        System.out.print(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//中序输出</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">inOrderTravera</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node != <span class="literal">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">        inOrderTravera(node.left);</span><br><span class="line">        System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        inOrderTravera(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        System.out.print(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//后序输出</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">postOrderTravera</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node != <span class="literal">null</span>) &#123;</span><br><span class="line">        postOrderTravera(node.left);</span><br><span class="line">        postOrderTravera(node.right);</span><br><span class="line">        System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        System.out.print(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-计算1中生成的二叉树结点总数。"><a href="#3-计算1中生成的二叉树结点总数。" class="headerlink" title="3. 计算1中生成的二叉树结点总数。"></a>3. 计算1中生成的二叉树结点总数。</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//老样子,静态全局变量,你也可以局部变量,像下面一样,充当一个计数器的作用,只需要在实例方法中输入从0开始,效果是一样的,局部变量的好处就是当你使用完方法后会释放内存,也就是会比一直存在占用内存static全局变量更节省空间.</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span> num=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//思路很简单,遇到非空值计数器就+1.考虑到前面提到的^直接带入结点,这里还可能要加上值不为^</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">TreeNodeNum</span><span class="params">(TreeNode node,<span class="comment">/*，int num */</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">        num += <span class="number">1</span>;</span><br><span class="line">        TreeNodeNum(node.left);</span><br><span class="line">        TreeNodeNum(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-计算1中生成二叉树的高度"><a href="#4-计算1中生成二叉树的高度" class="headerlink" title="4. 计算1中生成二叉树的高度"></a>4. 计算1中生成二叉树的高度</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//题目的主要问题是怎么在众多的左右子树中找出最大的根深度也就是普遍说的树高</span></span><br><span class="line"><span class="comment">//思路:递归判断,当这个结点为空的时候,则返回0,每次的递归都需要一次深度比较,找出最大的深度</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftNode</span> <span class="operator">=</span>maxDepth(root.left);</span><br><span class="line">        <span class="type">int</span> rightNode=maxDepth(root.right);</span><br><span class="line">        <span class="comment">//这里的+1是因为是根节点并没有参与计算,因此需要+上根结点</span></span><br><span class="line">        <span class="keyword">return</span> Math.max(leftNode,rightNode)+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-计算1中生成二叉树中度为1的节点数、度为2的结点数和叶子数。"><a href="#5-计算1中生成二叉树中度为1的节点数、度为2的结点数和叶子数。" class="headerlink" title="5.计算1中生成二叉树中度为1的节点数、度为2的结点数和叶子数。"></a>5.计算1中生成二叉树中度为1的节点数、度为2的结点数和叶子数。</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//总的思路就是判断左右指针的三种情况即可1.均为空 2.左空右不空(左不空右空)3.均不为空</span></span><br><span class="line"><span class="comment">//叶子结点数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">LeafNodeCount</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>+LeafNodeCount(root.left)+LeafNodeCount(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> LeafNodeCount(root.left) + LeafNodeCount(root.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">OneNodeCount</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right != <span class="literal">null</span> || root.left != <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>+OneNodeCount(root.left)+OneNodeCount(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> OneNodeCount(root.left) + OneNodeCount(root.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">DoubleNodeCount</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="literal">null</span> &amp;&amp; root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>+DoubleNodeCount(root.left) + DoubleNodeCount(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DoubleNodeCount(root.left) + DoubleNodeCount(root.right);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="6-按照下面两个序列生成二叉树：先序：ABHFDECKG-；中序：HBDFAEKCG"><a href="#6-按照下面两个序列生成二叉树：先序：ABHFDECKG-；中序：HBDFAEKCG" class="headerlink" title="6.按照下面两个序列生成二叉树：先序：ABHFDECKG ；中序：HBDFAEKCG"></a>6.按照下面两个序列生成二叉树：先序：ABHFDECKG ；中序：HBDFAEKCG</h3><p>前序+中序构造二叉树<br>先序:根 [左子树]  [右子树]<br>中序:[左子树] 根 [右子树]</p><p>思路:只要遍历中序找到根节点,利用双指针确认左右子树遍历结果的长度,再利用先序方式构造即可</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211221135621.png" alt="image-20221122113530560"></p><p>循环寻界+递归构造树</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">buildTrees</span><span class="params">(<span class="type">char</span> [] pre,<span class="type">char</span> [] in)</span> &#123;</span><br><span class="line"><span class="comment">//构造函数</span></span><br><span class="line">    TreeNode root=buildTree(pre,<span class="number">0</span>,pre.length-<span class="number">1</span>,in,<span class="number">0</span>,in.length-<span class="number">1</span>);</span><br><span class="line">     <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//主体</span></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">char</span> [] pre,<span class="type">int</span> PreLeft,<span class="type">int</span> PreRight,<span class="type">char</span> [] in,<span class="type">int</span> inLeft,<span class="type">int</span> inRight)</span> &#123;</span><br><span class="line"><span class="comment">//如果越界则表示结点为空</span></span><br><span class="line">      <span class="keyword">if</span>(PreLeft&gt;PreRight||inLeft&gt;inRight)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"><span class="comment">//开始构造,声明新结点</span></span><br><span class="line">   TreeNode root=<span class="keyword">new</span> <span class="title class_">TreeNode</span>(pre[PreLeft]);</span><br><span class="line"><span class="comment">//循环寻找中序的根节点,还能够确认左右子树边界</span></span><br><span class="line">         <span class="keyword">for</span>(<span class="type">int</span> i=inLeft;i&lt;=inRight;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(in[i]==pre[PreLeft])&#123;</span><br><span class="line"><span class="comment">//先序构造树,指针就定义为左右子树的区间,构造左子树             </span></span><br><span class="line">    root.left=buildTree(pre,PreLeft+<span class="number">1</span>,PreLeft+i-inLeft,in,inLeft,i-<span class="number">1</span>);</span><br><span class="line"><span class="comment">//变化右子树边界,构造右子树</span></span><br><span class="line">     root.right=buildTree(pre,i-inLeft+PreLeft+<span class="number">1</span>,PreRight,in,i+<span class="number">1</span>,inRight);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">         &#125;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="哈希表优化循环子过程"><a href="#哈希表优化循环子过程" class="headerlink" title="哈希表优化循环子过程"></a>哈希表优化循环子过程</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//过程几乎与上面的方法一样，只不过不需要每次递归后又进行循环来找到边界。</span></span><br><span class="line"><span class="comment">//提前把中序的所有遍历用哈希表储存起来即可。后面的取根直接依靠对应值来寻找序号，用来定界</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">buildTreeTwo</span><span class="params">(<span class="type">char</span> [] pre,<span class="type">char</span> [] in)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">PreLen</span> <span class="operator">=</span> pre.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">InLen</span> <span class="operator">=</span> pre.length;</span><br><span class="line">        Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(PreLen);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;i&lt;InLen;i++)&#123;</span><br><span class="line">            map.put(in[i],i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> buildTreeTwo(pre,<span class="number">0</span>,PreLen-<span class="number">1</span>,map,<span class="number">0</span>,InLen-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">buildTreeTwo</span><span class="params">(<span class="type">char</span>[]pre,<span class="type">int</span> PreLeft,<span class="type">int</span> PreRight,Map&lt;Character,Integer&gt; map,<span class="type">int</span> InLeft,<span class="type">int</span> InRight)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(PreLeft&gt;PreRight||InLeft&gt;InRight)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span> <span class="variable">val</span> <span class="operator">=</span> pre[PreLeft];</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(val);</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> map.get(val);</span><br><span class="line">        root.left=buildTreeTwo(pre,PreLeft+<span class="number">1</span>,index-InLeft+PreLeft,map,InLeft,index-<span class="number">1</span>);</span><br><span class="line">        root.right=buildTreeTwo(pre,index-InLeft+PreLeft+<span class="number">1</span>,PreRight,map,index+<span class="number">1</span>,InRight);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="栈方法迭代"><a href="#栈方法迭代" class="headerlink" title="栈方法迭代"></a>栈方法迭代</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">char</span>[] preorder, <span class="type">char</span>[] inorder)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (preorder == <span class="literal">null</span> || preorder.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(preorder[<span class="number">0</span>]);</span><br><span class="line">    Deque&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="type">int</span> <span class="variable">inorderIndex</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; preorder.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">preorderVal</span> <span class="operator">=</span> preorder[i];</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.peek();</span><br><span class="line">        <span class="keyword">if</span> (node.val != inorder[inorderIndex]) &#123;</span><br><span class="line">            node.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(preorderVal);</span><br><span class="line">            stack.push(node.left);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek().val == inorder[inorderIndex]) &#123;</span><br><span class="line">                node = stack.pop();</span><br><span class="line">                inorderIndex++;</span><br><span class="line">            &#125;</span><br><span class="line">            node.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(preorderVal);</span><br><span class="line">            stack.push(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二叉树遍历"><a href="#二叉树遍历" class="headerlink" title="二叉树遍历"></a>二叉树遍历</h2><h3 id="建立树节点"><a href="#建立树节点" class="headerlink" title="建立树节点"></a>建立树节点</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span>&#123;</span><br><span class="line"><span class="type">int</span> val;</span><br><span class="line">TreeNode left;</span><br><span class="line">TreeNode right;</span><br><span class="line">TreeNode()&#123;&#125;</span><br><span class="line">TreeNOde(<span class="type">int</span> val)&#123;</span><br><span class="line"><span class="type">this</span> <span class="variable">val</span> <span class="operator">=</span> val;</span><br><span class="line">&#125;</span><br><span class="line">TreeNode(<span class="type">int</span> val,TreeNode left,TreeNode right)&#123;</span><br><span class="line"><span class="built_in">this</span>.val = val;</span><br><span class="line"><span class="built_in">this</span>.left=left;</span><br><span class="line"><span class="built_in">this</span>.right=right;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="前序遍历"><a href="#前序遍历" class="headerlink" title="前序遍历"></a>前序遍历</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preOrderTraveral</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(node==<span class="literal">null</span>)&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">System.out.print(node.data+<span class="string">&quot;&quot;</span>);</span><br><span class="line">preOrderTraveral(node.left);</span><br><span class="line">preOrderTraveral(node.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">inOrderTraveral</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(node == <span class="literal">null</span>)&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">inOrderTraveral(node.left);</span><br><span class="line">System.out.print(node.data+<span class="string">&quot;&quot;</span>);</span><br><span class="line">inOrderTraveral(node.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">postOrderTraveral</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(node == <span class="literal">null</span>)&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">postTraveral(node.left);</span><br><span class="line">postTraveral(node.right);</span><br><span class="line">System.out.print(node.data+<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="层次遍历"><a href="#层次遍历" class="headerlink" title="层次遍历"></a>层次遍历</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">leverOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="comment">//声明一个队列对象</span></span><br><span class="line">        Queue&lt;TreeNode&gt; storage = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">        <span class="comment">// 根节点为空，返回空值</span></span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//把结点拉入队列</span></span><br><span class="line">        storage.offer(root);</span><br><span class="line">        <span class="keyword">while</span>(!storage.isEmpty())&#123;</span><br><span class="line">        <span class="comment">//把队列首部拉出输出值并且访问左右子树结点</span></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> storage.poll();</span><br><span class="line">            System.out.print(cur.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="comment">//若左指针不为空，就把左子树拉入队列</span></span><br><span class="line">            <span class="keyword">if</span> (cur.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">                storage.offer(cur.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//若右指针不为空，就把右子树拉入队列</span></span><br><span class="line">            <span class="keyword">if</span> (cur.right!=<span class="literal">null</span>) &#123;</span><br><span class="line">                storage.offer(cur.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="Morris遍历"><a href="#Morris遍历" class="headerlink" title="Morris遍历"></a>Morris遍历</h3><p><a href="https://zitiu.top/2022/10/24/Morris%20%E9%81%8D%E5%8E%86/">https://zitiu.top/2022/10/24/Morris%20%E9%81%8D%E5%8E%86/</a></p><h2 id="leetcode"><a href="#leetcode" class="headerlink" title="leetcode"></a>leetcode</h2><h3 id="总思路"><a href="#总思路" class="headerlink" title="总思路"></a>总思路</h3><ol><li><p>只要提到树的话就几乎都会涉及到递归和回溯.</p></li><li><p>比较常用的算法思想就是深度和广度优先搜索</p><h3 id="617-合并二叉树"><a href="#617-合并二叉树" class="headerlink" title="617.合并二叉树"></a>617.合并二叉树</h3></li><li><p> 这道题我的思路很简单,就是递归遍历,进行创新节点的操作</p></li><li><p>可以分三种情况</p><ul><li>两个节点均为null值</li><li>一个节点为null,一个不为null值</li><li>两个节点都不是null值</li></ul></li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211121621158.png" alt="image-20221112162114118"></p><p>实现1:深度优先搜索</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">merageTrees</span><span class="params">(TreeNode r1,TreeNode r2)</span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(r1==<span class="literal">null</span>) <span class="keyword">return</span> r2;</span><br><span class="line">   <span class="keyword">if</span>(r2==<span class="literal">null</span>) <span class="keyword">return</span> r1;</span><br><span class="line">   <span class="type">TreeNode</span> <span class="variable">metaTree</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(r1.val+r2.val);</span><br><span class="line">   metaTree.left = merageTrees(r1.left,r2.left);</span><br><span class="line">   metaTree.right= merageTrees(r1.right,r2.right);</span><br><span class="line">   <span class="keyword">return</span> metaTree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现2:广度优先搜索</p><ol><li>主要实现:构建三个队列分别储存3颗树的每个节点</li></ol><ul><li>每次从队列种取出一个节点,判断两个原始树的结点是否为空<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">public</span> TreeNode <span class="title function_">mergeTrees</span><span class="params">(TreeNode t1, TreeNode t2)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (t1 == <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> t2;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (t2 == <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> t1;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">TreeNode</span> <span class="variable">merged</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(t1.val + t2.val);</span><br><span class="line">      Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">      Queue&lt;TreeNode&gt; queue1 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">      Queue&lt;TreeNode&gt; queue2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">      queue.offer(merged);</span><br><span class="line">      queue1.offer(t1);</span><br><span class="line">      queue2.offer(t2);</span><br><span class="line">      <span class="keyword">while</span> (!queue1.isEmpty() &amp;&amp; !queue2.isEmpty()) &#123;</span><br><span class="line">          <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll(), node1 = queue1.poll(), node2 = queue2.poll();</span><br><span class="line">          <span class="type">TreeNode</span> <span class="variable">left1</span> <span class="operator">=</span> node1.left, left2 = node2.left, right1 = node1.right, right2 = node2.right;</span><br><span class="line">          <span class="keyword">if</span> (left1 != <span class="literal">null</span> || left2 != <span class="literal">null</span>) &#123;</span><br><span class="line">              <span class="keyword">if</span> (left1 != <span class="literal">null</span> &amp;&amp; left2 != <span class="literal">null</span>) &#123;</span><br><span class="line">                  <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(left1.val + left2.val);</span><br><span class="line">                  node.left = left;</span><br><span class="line">                  queue.offer(left);</span><br><span class="line">                  queue1.offer(left1);</span><br><span class="line">                  queue2.offer(left2);</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left1 != <span class="literal">null</span>) &#123;</span><br><span class="line">                  node.left = left1;</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left2 != <span class="literal">null</span>) &#123;</span><br><span class="line">                  node.left = left2;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span> (right1 != <span class="literal">null</span> || right2 != <span class="literal">null</span>) &#123;</span><br><span class="line">              <span class="keyword">if</span> (right1 != <span class="literal">null</span> &amp;&amp; right2 != <span class="literal">null</span>) &#123;</span><br><span class="line">                  <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(right1.val + right2.val);</span><br><span class="line">                  node.right = right;</span><br><span class="line">                  queue.offer(right);</span><br><span class="line">                  queue1.offer(right1);</span><br><span class="line">                  queue2.offer(right2);</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (right1 != <span class="literal">null</span>) &#123;</span><br><span class="line">                  node.right = right1;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  node.right = right2;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> merged;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="100-相同的树"><a href="#100-相同的树" class="headerlink" title="100.相同的树"></a>100.相同的树</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211121840333.png" alt="image-20221112184055309"></p><ol><li>树的递归判断</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSameTree</span><span class="params">(TreeNode p,TreeNode q)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(p==<span class="literal">null</span>&amp;&amp;q==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(p==<span class="literal">null</span>||q==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span>(p.val!=q.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">return</span> isSameTree(p,left,q.left)&amp;&amp;isSameTree(p.right,q.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="对称二叉树"><a href="#对称二叉树" class="headerlink" title="对称二叉树"></a>对称二叉树</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211121844717.png" alt="image-20221112184440687"></p><ol><li>基本和相同树的判断思想是一样的，只要把左右两个孩子分别当作新的结点进行比较</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">     <span class="keyword">return</span>  isSameTree(root,root);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSameTree</span><span class="params">(TreeNode leftnode,TreeNode rightnode)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(leftnode==<span class="literal">null</span>&amp;&amp;rightnode==<span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>(leftnode==<span class="literal">null</span>||rightnode==<span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> leftnode.val==rightnode.val&amp;&amp;isSameTree(leftnode.left,rightnode.right)&amp;&amp;isSameTree(leftnode.right,rightnode.left);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="226-翻转二叉树"><a href="#226-翻转二叉树" class="headerlink" title="226.翻转二叉树"></a>226.翻转二叉树</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211121849830.png" alt="image-20221112184924806"> </p><ol><li>思路也是十分的简单，像数组的位置变换一样，定义一个辅助变量，而这边定义一个新的树对象来储存。</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 思想十分像数组的辅助变量位置变换的方法</span></span><br><span class="line">       <span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">           <span class="comment">// 声明一个新的对象，先是储存右孩子的数据</span></span><br><span class="line">           <span class="type">TreeNode</span> <span class="variable">rightTree</span> <span class="operator">=</span> root.right;</span><br><span class="line">           root.right = invertTree(root.left);</span><br><span class="line">           root.left = invertTree(rightTree);</span><br><span class="line">           <span class="keyword">return</span> root;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="111-二叉树的最小深度"><a href="#111-二叉树的最小深度" class="headerlink" title="111.二叉树的最小深度"></a>111.二叉树的最小深度</h3><ol><li>做法几乎于最大深度差不多，只是把max改成min罢了</li><li>但是要注意的是空节点是不需要比较的。</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211131358958.png" alt="image-20221113135809932"></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">pubilc <span class="type">int</span> <span class="title function_">minDepth</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(root.right==<span class="literal">null</span>&amp;&amp;root.left!=<span class="literal">null</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>+minDepth(root.left);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(root.left==<span class="literal">null</span>&amp;&amp;root.right!=<span class="literal">null</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>+minDepth(root.right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Math.min(minDepth(root.left),minDepth(root.right))+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="637-二叉树的层平均值"><a href="#637-二叉树的层平均值" class="headerlink" title="637.二叉树的层平均值"></a>637.二叉树的层平均值</h3><ol><li>我第一反应是一定要用到层次遍历，那么每层的结点个数我是应该怎么确定呢？</li><li> 然而实际上确实需要用到层次遍历的思想，而且还需要一个计数器</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211231913942.png" alt="image-20221123191353894"></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Double&gt; <span class="title function_">averageOfLevels</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       List&lt;Double&gt; storage = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Double&gt;();</span><br><span class="line">       Queue&lt;TreeNode&gt; stoge = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">       stoge.offer(root);</span><br><span class="line">       <span class="keyword">while</span>(!stoge.isEmpty())&#123;</span><br><span class="line">           <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line">           <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> stoge.size();</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;size;i++)&#123;</span><br><span class="line">               root = stoge.poll();</span><br><span class="line">               sum += root.val;</span><br><span class="line">           <span class="keyword">if</span>(root.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">               stoge.offer(root.left);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(root.right!=<span class="literal">null</span>)&#123;</span><br><span class="line">               stoge.offer(root.right);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       storage.add(sum/size);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> storage;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>步骤解析<ol><li>在while之前把根结点代入队列。</li><li>开始while循环，重置sum值，目的是为了把每层的的结点总值区分开添入List中</li><li>获取队列的长度，队列的长度在这里其实就是这层结点的总数</li><li>比如代入root后，然后元素出队，因为此时的队列中只有root一个元素，所以出队root后，队列为空，停止循环，然后计算sum值，sum值得计算是用for循环本层得结点数得次数后得到得，然后把sum/size添加入List中</li><li>判断，那么两个if语句为了让下一个左右结点得入队，空则不入，不空则入。</li></ol></li></ol><h3 id="404-左子叶之和"><a href="#404-左子叶之和" class="headerlink" title="404.左子叶之和"></a>404.左子叶之和</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211251049323.png" alt="image-20221125104925282"></p><ol><li>首先需要的是找到叶子节点，如果是就回溯到上一个结点输出左子叶，如果不是的话就往下递归。<ol><li>递归<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumOfLeftLeaves</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>(root.left!=<span class="literal">null</span>&amp;&amp;root.left.right==<span class="literal">null</span>&amp;&amp;root.left.left==<span class="literal">null</span>)&#123;</span><br><span class="line">           sum += root.left.val;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> sumOfLeftLeaves(root.left)+sumOfLeftLeaves(root.right)+sum;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li><li>队列（广度优先搜索）<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumOfLeftLeaves</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    Queue&lt;TreeNode&gt; storage = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    storage.offer(root);</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!storage.isEmpty())&#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> storage.poll();</span><br><span class="line">        <span class="keyword">if</span>(node.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(node.left.right==<span class="literal">null</span>&amp;&amp;node.left.left==<span class="literal">null</span>)&#123;</span><br><span class="line">                sum+=node.left.val;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                storage.offer(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(node.right!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!(node.right.left==<span class="literal">null</span>&amp;&amp;node.right.right==<span class="literal">null</span>))&#123;</span><br><span class="line">                storage.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;二叉树&quot;&gt;&lt;a href=&quot;#二叉树&quot; class=&quot;headerlink&quot; title=&quot;二叉树&quot;&gt;&lt;/a&gt;二叉树&lt;/h1&gt;&lt;h3 id=&quot;镜像二叉树&quot;&gt;&lt;a href=&quot;#镜像二叉树&quot; class=&quot;headerlink&quot; title=&quot;镜像二叉树&quot;&gt;&lt;/a&gt;</summary>
      
    
    
    
    <category term="练习" scheme="https://kalyan-zitiu.github.io/categories/%E7%BB%83%E4%B9%A0/"/>
    
    <category term="持续更新中" scheme="https://kalyan-zitiu.github.io/categories/%E7%BB%83%E4%B9%A0/%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E4%B8%AD/"/>
    
    
    <category term="算法" scheme="https://kalyan-zitiu.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>计算机网络学习笔记-传输层</title>
    <link href="https://kalyan-zitiu.github.io/2022/12/05/%E4%BC%A0%E8%BE%93%E5%B1%82/"/>
    <id>https://kalyan-zitiu.github.io/2022/12/05/%E4%BC%A0%E8%BE%93%E5%B1%82/</id>
    <published>2022-12-05T14:00:00.000Z</published>
    <updated>2023-03-27T03:28:51.534Z</updated>
    
    <content type="html"><![CDATA[<h1 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h1><h2 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ol><li>UDP是无连接的，减少开销和发送数据之前的时延</li><li>UDP使用最大努力交付，即不保证可靠交付</li><li>面向报文，适合一次性传输少量的数据的网络应用</li><li>没有拥塞控制，适合多实时应用</li><li>首部开销晓，8B，Tcp208<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211151804590.png" alt="image-20221115180421539"></li></ol><h3 id="UDP首部格式"><a href="#UDP首部格式" class="headerlink" title="UDP首部格式"></a>UDP首部格式</h3><ol><li>UDP长度是指UDP用户数据报的整个长度</li><li>UDP检验和是用来检测整个UDP数据报是否有错，错就丢弃</li><li>分用时，找不到对应的目的端口号，就丢弃报文，并给发送方发送ICMP“端口不可达”差错报告报文<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211161119442.png" alt="image-20221116111919394"></li></ol><h3 id="UDP校验"><a href="#UDP校验" class="headerlink" title="UDP校验"></a>UDP校验</h3><ol><li>伪首部只有在计算机检验和时才出现，不向下传送也不向上递交。</li><li>17：封装UDP报文的IP数据报首部协议字段17。</li><li>UDP长度：UDP首部8B+数据部分长度（不包括伪首部）。<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211161132390.png" alt="image-20221116113239359"><br>在发送端上会存在：</li><li>填上伪首部</li><li>全0填充检验和字段</li><li>全0填充数据部分（UDP数据报要看称许多4B的字串接起来）</li><li>伪首部+首部+数据部分采用二进制反码求和</li><li>把和求反码填入检验和字段</li><li>去掉伪首部，发送<br>在接收端上会存在：</li><li>填上伪首部</li><li>伪首部+首部+数据部分采用二进制反码求和</li><li>结果全为1则无差错，否则丢弃数据报/交给应用层附上出差错的警告</li></ol><h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><ol><li>TCP是面向连接的传输层协议。</li><li>TCP只能有两个端点，每一条TCP连接只能是点对点的（因此没办法运用多播和广播的通讯方式）</li><li>TCP提供可靠交付的服务，无差错，不丢失，不重复，按序到达</li><li>提供全双工通讯（有发送缓存和接收缓存 ）</li><li>TCP面向字节流：TCP把应用程序交下来的数据看成一连串无结构的字节流</li></ol><h3 id="报文段的首部格式"><a href="#报文段的首部格式" class="headerlink" title="报文段的首部格式"></a>报文段的首部格式</h3><ol><li>序号：在一个TCP连接中传送的字节流中的每一个字节都在按顺序编号，本字段表示本报文段所发送数据的第一个字节的序号</li><li>确认号：期望收到对方下一个报文段的第一个数据字节的序号。若确认号为N，则证明到序号N-1位置的所有数据都已正确收到。</li><li>数据偏移：TCP报文段的数据起始处距离TCP报文段的起始处有多远，以4B位单位，即一个数组是4B。</li><li>6个控制位<ul><li>紧急位URG：URG=1时，标明此报文段中有紧急数据，是最高优先级的数据，应该尽快传送，不用在缓存中排队，配合紧急指针字段使用（发送方）。</li><li>确认位ACK：ACK=1时确认号有效，在连接建立后所有传送的报文段都必须把ACK置为1。</li><li>推送位PSH：PSH=1时，接收方尽快交付接收应用进程，不再等到缓存填满再向上交付。</li><li>复位RST：RST=1时，标明TCP连接中出现严重差错，必须释放连接，然后再重新建立传输链接。</li><li>同步位SYN：SYN=1时，表明是一个连接请求/连接接受报文。</li><li>终止位FIN：FIN=1时，表明此报文段发送方数据已发完，要求释放连接。</li></ul></li><li>窗口：发送本报文段的一方接受窗口，即现在允许对方发送的数据量</li><li>检验和：检验首部+数据，检验时加上12B的伪首部，第四个字段为6.</li><li>紧急指针：URF=1时才有意义，指出本报文段中紧急数据的字节数</li><li>选项：最大报文段长度MSS，窗口扩大，时间戳，选择确认</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211161310156.png" alt="image-20221116131046116"></p><h3 id="TCP连接管理"><a href="#TCP连接管理" class="headerlink" title="TCP连接管理"></a>TCP连接管理</h3><ol><li>TCP连接的建立采用客户服务器方式，主动发起连接建立的应用进程叫做客户，而被动等待连接建立的应用进程叫服务器</li><li>假设运行在一台主机（客户）上的一个进程想与另一台主机（服务器）上的一个进程建立一条连接，客户应用进程首先通知客户TCP，他想建立一个与服务器上某个进程之间的连接，客户中的TCP会用一下步骤与服务器中的TCP建立一条TCP连接<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211171124294.png" alt="image-20221117112431243"><ol><li>客户端发送连接请求报文段，无应用层数据SYN=1，seq=x（随机）</li><li>服务器端为该TCP连接分配缓存和变量，并向客户端返回确认报文段，允许连接，无应用层数据。SYN=1，ACK=1，seq=y（随机），ack=x+1</li><li>客户端为该TCP连接分配缓存和变量，并向服务器端返回确认的确认，可以携带数据SYN=0，ACK=1，seq=x+1,ack=y+1。</li></ol></li></ol><h3 id="SYN洪泛攻击"><a href="#SYN洪泛攻击" class="headerlink" title="SYN洪泛攻击"></a>SYN洪泛攻击</h3><p>SYN洪泛攻击发生在OSI第四层，这种方式利用TCP协议的特性，就是三次握手。攻击者会发送TCP SYN，SYN就是TCP三次握手中的第一个数据包，而当服务器返回ACK后，该攻击者就不对其进行再确认，而那个TCP连接就处于挂起状态，也就是半连接状态，服务器收不到再确认的话，还会重复发送ACK给攻击者。这样更加会浪费服务器的资源。攻击者就对服务器发送大量的这种TCP连接，由于每一个都没法完成三次握手，所以在服务器上，这些TCP连接会因为挂起状态而消耗CPU和内存，最后服务器可能死机，就无法为正常用户提供服务了。</p><h3 id="TCP的连接释放"><a href="#TCP的连接释放" class="headerlink" title="TCP的连接释放"></a>TCP的连接释放</h3><p>1.参与一条TCP连接的两个进程中的任何一个都能终止连接，连接结束后，主机中的“资源”（缓存和变量）将被释放。</p><ol><li>客户端发送连接释放报文段，停止发送数据，主动关闭TCP连接FIN=1，seq=u</li><li>服务器端回送一个确认报文段，客户到服务器这个方向的连接就释放了–半关闭状态ACK=1，seq=v,ack=u+1。</li><li>服务端发完数据，就发送连接释放报文段，主动关闭TCP连接。FIN=1，ACK=1，seq=w,ack=u+1</li><li>客户端回送一个确认报文段，再等到时间等待计时器设置的2MSL（最长报文段寿命）后，连接彻底关闭。ACK=1，seq=u+1，ack=w+1</li></ol><h3 id="TCP的可靠传输"><a href="#TCP的可靠传输" class="headerlink" title="TCP的可靠传输"></a>TCP的可靠传输</h3><ol><li>保证接受方进程从缓存区读出的字节流与发送方发出的字节流是完全一样的。也就是说明了数据帧在传输过程中既不能丢失，也不能受影响。<h4 id="校验"><a href="#校验" class="headerlink" title="校验"></a>校验</h4></li></ol><h4 id="序号"><a href="#序号" class="headerlink" title="序号"></a>序号</h4><ol><li><p>一个字节占用一个序号</p></li><li><p>序号字段指的是一个报文段第一个字节的序号<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211202009218.png" alt="image-20221120200930161"></p><h4 id="确认"><a href="#确认" class="headerlink" title="确认"></a>确认</h4></li><li><p>发送方会保存一个TCP缓存报文段</p></li><li><p>接收方会在收到报文段后会发送确认报文段，当然接收方也可发送数据与确认报文段发去给发送方</p></li><li><p>若报文段在传输过程中丢失了，TCP会使用累计确认的方法，接收方会返回一个丢失报文段后的第一个字节的确认号报文段</p></li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211202017088.png" alt="image-20221120201732026"></p><h4 id="重传"><a href="#重传" class="headerlink" title="重传"></a>重传</h4><ol><li><p>超时重传，若在规定时间内发送方没有接收到接收方的确认数据报，就会进行重传。</p></li><li><p>TCP动态改变重传的规定时间RTTs（加权平均往返时间）</p></li><li><p>冗余ACK（冗余确认）每当期望序号大的失序报文段到达时，发送一个冗余ACK，指明下一个期待字节的序号。例子：发送方已发送1，2，3，4，5报文段</p></li></ol><ul><li>接收方收到1，返回给1的确认（确认号为2的第一个字节）</li><li>接收方收到3，仍然返回给1的确认（确认号为2的第一个字节）</li><li>接收方收到4，仍返回给1的确认（确认号为2的第一个字节）</li><li>接收方收到5，仍返回给1的确认（确认号为2的第一个字节）<br>如果发送方收到了3个对于报文段1的冗余ACK就会认为报文段丢失，重传2号报文段，快速重传。</li></ul><h3 id="TCP流量控制"><a href="#TCP流量控制" class="headerlink" title="TCP流量控制"></a>TCP流量控制</h3><ol><li>利用滑动窗口机制实现流量控制</li><li>在通信过程中，接收方根据自己接收缓存的大小，动态地调整发送方的发送窗口大小，即接收窗口rwnd（接收方设置确认报文段的窗口字段来将rwnd通知给发送方），发送方的发送窗口取接收窗口rwnd和拥塞窗口cwnd的最小值。</li><li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202212052140044.png" alt="image-20221205214003915"></li><li>TCP会为每一个连接设有一个持续计时器，只要TCP连接的一方收到对方的零窗口通知，就会启动持续计时器</li><li>若持续计时器设置的时间到期，就会发送一个零窗口探测报文段。接收方收到探测报文段时给出现在的窗口值</li><li>若窗口仍然是0，那么发送方会重新设置持续计时器</li></ol><h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><p>问题：当资源需求的总和大于可用资源的总和就会出现拥塞的条件，那么会有许多资源同时呈现供应不足就会导致网络性能变坏然后网络的吞吐量将会随输入负荷增大而下降</p><h4 id="慢开始和拥塞避免"><a href="#慢开始和拥塞避免" class="headerlink" title="慢开始和拥塞避免"></a>慢开始和拥塞避免</h4><p>传输轮次：发送了一批报文段并收到了他们的确认的时间，也可以指的是往返的时延RTT</p><ol><li><p>探测网络拥塞程度后，提升拥塞窗口的数量</p></li><li><p>ssthresh的初始值指的是慢开始的值（不会再以指数增长的形式增长），会以加法的形式来增加，这就叫拥塞避免</p></li><li><p>当遇到网络拥塞的时候，就会执行断崖式减少，拥塞窗口会跌到cwnd=1，重新开始增加</p></li><li><p>在这过程中，可能会重新更新ssthresh，当遇到网络控制的时候，会把发送拥塞的cwnd值马上除以2生成新的ssthresh值，那么下一轮次的慢开始会从新的ssthresh开始。</p></li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202303271128126.png" alt="image-20221205221100217"></p><h4 id="快重传和快恢复"><a href="#快重传和快恢复" class="headerlink" title="快重传和快恢复"></a>快重传和快恢复</h4><p>1.快重传就是等于冗余ack的算法是一致的，当某个报文段的确认帧并没有被发送方收到时候，后面发送的报文段返回的始终是还未收到的确认报文，当积累到三次的时候就会重传。<br>2.快恢复是和上面的ssthresh值是有关联的，当发送网络拥塞的时候，cwnd并不会直接降落到1，而是会降落到ssthresh值上直接进行慢开始。这样能够减少cwnd的变化幅度从而优化了速度。但是ssthresh值还是需要根据发送网络拥塞的cwnd来决定的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;传输层&quot;&gt;&lt;a href=&quot;#传输层&quot; class=&quot;headerlink&quot; title=&quot;传输层&quot;&gt;&lt;/a&gt;传输层&lt;/h1&gt;&lt;h2 id=&quot;UDP协议&quot;&gt;&lt;a href=&quot;#UDP协议&quot; class=&quot;headerlink&quot; title=&quot;UDP协议&quot;&gt;&lt;/a&gt;</summary>
      
    
    
    
    <category term="计算机网络" scheme="https://kalyan-zitiu.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="基础知识" scheme="https://kalyan-zitiu.github.io/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>HTTP</title>
    <link href="https://kalyan-zitiu.github.io/2022/11/15/Http/"/>
    <id>https://kalyan-zitiu.github.io/2022/11/15/Http/</id>
    <published>2022-11-15T11:30:04.000Z</published>
    <updated>2023-01-03T11:48:23.537Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul><li>超文本传输协议(Hyper Text Transfer Protocol，Http)是一个简单的请求-响应协议，它通常运行在TCP之上，它指定了客户端可能发送给服务器什么样的消息以及得到什么样的响应。请求何响应消息的头以ASCII形式给出；而消息内容则具有了MIME格式。所有的WWW文件都必须遵守这个标准</li><li>Http是一个基于TCP/IP通信协议来传递数据的（HTML文件，信息，结果等）</li></ul><h2 id="Http与Https的区别"><a href="#Http与Https的区别" class="headerlink" title="Http与Https的区别"></a>Http与Https的区别</h2><ul><li>Http是从万维网服务器传输超文本到本地浏览器的传送协议</li><li>Https是一种通过计算机网络进行的安全通信的传输协议</li><li>端口不一样Http的URL是默认使用端口80，而Https的是默认使用端口443<h3 id="Https"><a href="#Https" class="headerlink" title="Https"></a>Https</h3></li><li>Https是通过Http进行通信，利用SSL/TLS来加密数据包，Https开发的主要目的，是提供对网站服务器的身份认证，保护交换资料的隐私和完整性<h4 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h4></li><li>1.TCP三次同步握手</li><li>2、客户端验证服务器数字证书</li><li>3、DH 算法协商对称加密算法的密钥、hash 算法的密钥</li><li>4、SSL 安全加密隧道协商完成</li><li>5、网页以加密的方式传输，用协商的对称加密算法和密钥加密，保证数据机密性；用协商的hash算法进行数据完整性保护，保证数据不被篡改<h4 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h4></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210221158748.jpeg" alt="img"></p><h5 id="详细"><a href="#详细" class="headerlink" title="详细"></a>详细</h5><ul><li><p>SYN</p><ul><li>指的是<strong>同步序列编号</strong>，是T<strong>CP/IP</strong>建立连接时使用的握手信号。在客户端与服务器之间建立正常的<strong>TCP网络</strong>连接时，客户机首先发出一个<strong>SYN</strong>消息，服务器使用<strong>SYN+ACK</strong>应答表示接收到了这个消息，最后客户机再以ACK消息响应。这样在客户机和服务器之间才能建立起<strong>可靠的TCP连接</strong>，<strong>数据</strong>才可以在客户机和服务器之间传递。</li></ul></li><li><p>MIME</p><ul><li>多用途互联网邮件扩展类型。是设定某种扩展名的文件用一种应用程序来打开的方式类型，当该<strong>扩展名文件被访问的时候，浏览器会自动使用指定应用程序来打开。</strong>多用于指定一些客户端自定义的文件名，以及一些媒体文件打开方式。</li></ul></li><li><p>第一次握手：客户端尝试连接服务器，向服务器发送syn包（同步序列编号）客户端进入<strong>SYN_SEND</strong></p></li><li><p>第二次握手，服务器接收客户端syn包并且确认，同时向客户端发送一个SYN包，即SYN+ACK包，此时服务器处于<strong>SYN_RECV状态</strong></p></li><li><p>第三次握手，客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK，此包发送完毕，客户端和服务器进入了<strong>ESTABLISHED状态</strong></p><h3 id="Http的工作原理"><a href="#Http的工作原理" class="headerlink" title="Http的工作原理"></a>Http的工作原理</h3></li><li><p>HTTP协议工作与客户端-服务端架构上</p></li><li><p>浏览器作为客户端通过URL向服务端发送所有请求</p></li><li><p>Web的服务端有Apache服务器，IIS服务器</p></li><li><p>需要注意的是</p><ul><li>HTTP是无连接，无连接的含义是限制每次连接只处理一个请求，服务器处理完客户的请求，并收到客户的应答后，断开连接以达到节省传输时间</li><li>它是一个媒体独立的，意味着，客户端和服务器知道如何处理数据内容，任何类型的数据都可以通过HTTP发送，客户端以及服务器指定使用适合的MiME-type内容类型</li><li>它是无状态的：指的是对于事务的处理它是没有记忆能力的，这就说明如果后续需要处理前面的信息的话，必须得重新传输，导致每次连接的数据量增大。 </li></ul></li></ul><h3 id="Https-1"><a href="#Https-1" class="headerlink" title="Https"></a>Https</h3><ul><li>能够在不安全的网络上创建一个安全通道，并且可以使用适当的加密包和服务器证书验证且可被信任</li><li>当以下情况达成时可被信任</li><li>浏览器正确的实现了HTTPS且操作系统中安装了正确且受信任的证书颁发机构；</li><li>次协议的加密层也就是SSL./TLS能够有效的提供认证和高强度的加密</li></ul><h2 id="Http的消息结构"><a href="#Http的消息结构" class="headerlink" title="Http的消息结构"></a>Http的消息结构</h2><ul><li><p>客户端一般发送一个HTTP请求到服务器的请求消息包括以下格式：请求行，请求头部，空行和请求数据四个部分组成。</p><ul><li><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210221316880.png" alt="image-20221022131636849"></li></ul></li><li><p>服务器响应也是四个部分组成，分别是：状态行，消息报头，空行和响应正文</p></li></ul><h2 id="HTTP请求方法"><a href="#HTTP请求方法" class="headerlink" title="HTTP请求方法"></a>HTTP请求方法</h2><table><thead><tr><th>number</th><th>method</th><th>descrition</th></tr></thead><tbody><tr><td>1.</td><td>GET</td><td>请求指定的页面信息，返回实体主体</td></tr><tr><td>2.</td><td>HEAD</td><td>返回的响应中没有具体内容，用于获取报头</td></tr><tr><td>3.</td><td>POST</td><td>向指定的资源提交数据进行处理请求。数据被包含在请求体中。POST请求可能导致新的资源的建立和/或已有的资源的修改</td></tr><tr><td>4.</td><td>PUT</td><td>从客户端向服务器传送的数据取代指定的文档内容</td></tr><tr><td>5.</td><td>DELETE</td><td>请求服务器伤处指定画面</td></tr><tr><td>6.</td><td>CONNECT</td><td>预留给能够将连接改为管道方式的代理服务器</td></tr><tr><td>7.</td><td>TRACE</td><td>回显服务器收到的请求，主要用于测试或诊断</td></tr><tr><td>8.</td><td>PATCH</td><td>对PUT方法的补充，用来对已知资源进行局部更新</td></tr><tr><td>9.</td><td>OPTIONS</td><td>允许客户端查看服务器的性能</td></tr></tbody></table><h2 id="http状态码"><a href="#http状态码" class="headerlink" title="http状态码"></a>http状态码</h2><table><thead><tr><th>状态码</th><th>英文对应名称</th><th>中文描述</th></tr></thead><tbody><tr><td>100</td><td>Continue</td><td>继续。客户端应继续其请求</td></tr><tr><td>101</td><td>Switching Protocols</td><td>切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议</td></tr><tr><td>200</td><td>OK</td><td>请求成功。一般用于GET与POST请求</td></tr><tr><td>201</td><td>Created</td><td>已创建。成功请求并创建了新的资源</td></tr><tr><td>202</td><td>Accepted</td><td>已接受。已经接受请求，但未处理完成</td></tr><tr><td>203</td><td>Non-Authoritative Information</td><td>非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本</td></tr><tr><td>204</td><td>No Content</td><td>无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档</td></tr><tr><td>205</td><td>Reset Content</td><td>重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域</td></tr><tr><td>206</td><td>Partial Content</td><td>部分内容。服务器成功处理了部分GET请求</td></tr><tr><td>300</td><td>Multiple Choices</td><td>多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择</td></tr><tr><td>301</td><td>Moved Permanently</td><td>永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替</td></tr><tr><td>302</td><td>Found</td><td>临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI</td></tr><tr><td>303</td><td>See Other</td><td>查看其它地址。与301类似。使用GET和POST请求查看</td></tr><tr><td>304</td><td>Not Modified</td><td>未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源</td></tr><tr><td>305</td><td>Use Proxy</td><td>使用代理。所请求的资源必须通过代理访问</td></tr><tr><td>306</td><td>Unused</td><td>已经被废弃的HTTP状态码</td></tr><tr><td>307</td><td>Temporary Redirect</td><td>临时重定向。与302类似。使用GET请求重定向</td></tr><tr><td>400</td><td>Bad Request</td><td>客户端请求的语法错误，服务器无法理解</td></tr><tr><td>401</td><td>Unauthorized</td><td>请求要求用户的身份认证</td></tr><tr><td>402</td><td>Payment Required</td><td>保留，将来使用</td></tr><tr><td>403</td><td>Forbidden</td><td>服务器理解请求客户端的请求，但是拒绝执行此请求</td></tr><tr><td>404</td><td>Not Found</td><td>服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面</td></tr><tr><td>405</td><td>Method Not Allowed</td><td>客户端请求中的方法被禁止</td></tr><tr><td>406</td><td>Not Acceptable</td><td>服务器无法根据客户端请求的内容特性完成请求</td></tr><tr><td>407</td><td>Proxy Authentication Required</td><td>请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权</td></tr><tr><td>408</td><td>Request Time-out</td><td>服务器等待客户端发送的请求时间过长，超时</td></tr><tr><td>409</td><td>Conflict</td><td>服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突</td></tr><tr><td>410</td><td>Gone</td><td>客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置</td></tr><tr><td>411</td><td>Length Required</td><td>服务器无法处理客户端发送的不带Content-Length的请求信息</td></tr><tr><td>412</td><td>Precondition Failed</td><td>客户端请求信息的先决条件错误</td></tr><tr><td>413</td><td>Request Entity Too Large</td><td>由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息</td></tr><tr><td>414</td><td>Request-URI Too Large</td><td>请求的URI过长（URI通常为网址），服务器无法处理</td></tr><tr><td>415</td><td>Unsupported Media Type</td><td>服务器无法处理请求附带的媒体格式</td></tr><tr><td>416</td><td>Requested range not satisfiable</td><td>客户端请求的范围无效</td></tr><tr><td>417</td><td>Expectation Failed</td><td>服务器无法满足Expect的请求头信息</td></tr><tr><td>500</td><td>Internal Server Error</td><td>服务器内部错误，无法完成请求</td></tr><tr><td>501</td><td>Not Implemented</td><td>服务器不支持请求的功能，无法完成请求</td></tr><tr><td>502</td><td>Bad Gateway</td><td>作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应</td></tr><tr><td>503</td><td>Service Unavailable</td><td>由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中</td></tr><tr><td>504</td><td>Gateway Time-out</td><td>充当网关或代理的服务器，未及时从远端服务器获取请求</td></tr><tr><td>505</td><td>HTTP Version not supported</td><td>服务器不支持请求的HTTP协议的版本，无法完成处理</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Http&quot;&gt;&lt;a href=&quot;#Http&quot; class=&quot;headerlink&quot; title=&quot;Http&quot;&gt;&lt;/a&gt;Http&lt;/h1&gt;&lt;h2 id=&quot;概述&quot;&gt;&lt;a href=&quot;#概述&quot; class=&quot;headerlink&quot; title=&quot;概述&quot;&gt;&lt;/a&gt;概述&lt;/h</summary>
      
    
    
    
    <category term="计算机网络" scheme="https://kalyan-zitiu.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="协议" scheme="https://kalyan-zitiu.github.io/tags/%E5%8D%8F%E8%AE%AE/"/>
    
  </entry>
  
  <entry>
    <title>图存结构</title>
    <link href="https://kalyan-zitiu.github.io/2022/11/15/%E5%9B%BE%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/"/>
    <id>https://kalyan-zitiu.github.io/2022/11/15/%E5%9B%BE%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/</id>
    <published>2022-11-15T11:00:23.000Z</published>
    <updated>2022-11-21T06:59:06.851Z</updated>
    
    <content type="html"><![CDATA[<h1 id="图的存储结构"><a href="#图的存储结构" class="headerlink" title="图的存储结构"></a>图的存储结构</h1><h2 id="基本知识（此次都是为图存储结构的基本知识，若已了解可跳至算法部分）"><a href="#基本知识（此次都是为图存储结构的基本知识，若已了解可跳至算法部分）" class="headerlink" title="基本知识（此次都是为图存储结构的基本知识，若已了解可跳至算法部分）"></a>基本知识（此次都是为图存储结构的基本知识，若已了解可跳至算法部分）</h2><h3 id="什么是图存储结构"><a href="#什么是图存储结构" class="headerlink" title="什么是图存储结构"></a>什么是图存储结构</h3><ul><li>根据有向和无向线来连接每个顶点间的关系<ul><li>有向图：如果元素之间存在单向的联系，那么这样的图结构称为有向图.<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210270950517.png" alt="image-20221027095058466"></li><li>无向图：各个元素之间的联系都是双向的，这样的图存结构称为无向图。<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210270952151.png" alt="image-20221027095201129"></li></ul></li></ul><h3 id="图的基本概念"><a href="#图的基本概念" class="headerlink" title="图的基本概念"></a>图的基本概念</h3><p>1.弧头和弧尾</p><ul><li>有向图中，无箭头的一端的顶点通常被称为“初始点”或“弧尾”，箭头的一段被称为“终端点”或“弧头”。</li></ul><p>2.入度和出度</p><ul><li>对于有向图中的一个顶点 V 来说，箭头指向 V 的弧的数量为 V 的入度（InDegree，记为 ID(V)）；箭头远离 V 的弧的数量为 V 的出度（OutDegree，记为OD(V)）。</li></ul><p>3.(V1,V2)和&lt;V1,V2&gt;的区别</p><ul><li><strong>无向图中描述两顶点V1和V2之间的关系可以用(V1,V2)来表示；有向图中描述从V1到V2的“单向”关系可以用&lt;V1,V2&gt;来表示</strong></li><li>由于图存储结构中顶点之间的关系是可以用线来表示的，因此(V1,V2)还可以用来表示无向图中连接V1和V2的线，又称为边;同样&lt;V1,V2&gt;也可用来表示有向图中从V1到V2带方向的线，又称为弧。</li></ul><p>4.集合VR</p><ul><li>图中习惯用VR表示图中所有顶点之间的关系的集合，例如，上图无向图的集合VR={(V1,V2),(V1,V4),(V1,V3),(V3,V4)}。有向图的集合 VR={&lt;v1,v2&gt;,&lt;v1,v3&gt;,&lt;v3,v4&gt;,&lt;v4,v1&gt;}。</li></ul><p>5.路径和回路</p><ul><li>无论是无向图还是有向图，从一个顶点到另一个顶点途径的所有顶点组成的序列（包括起点和终点），称为一条路径。若路径中的<strong>某个顶点能够最后回到自己身上</strong>，那么这个路径称为<strong>环</strong>或者<strong>回路</strong></li></ul><p>6.权和网</p><ul><li>在一些图中，可能为每条边赋值一个实数表示一定的含义，这种与边（或弧）相互匹配的实数被称为“权”，而带权的图通常称为网。例如，图4就是一个网结构:<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271035591.png" alt="image-20221027103555566"></li></ul><p>7.子图</p><ul><li>指的是由图中一部分顶点和边构成的图称为原图的子图</li></ul><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="完全图"><a href="#完全图" class="headerlink" title="完全图"></a>完全图</h4><ul><li>每个顶点都有与除开自身外的其他顶点有直接关系</li><li>若有n个顶点的完全图，则图中边的数量为n(n-1)/2;而对于具有n个顶点的有向完全图，图中的弧的数量为n(n-1)。<h4 id="连通图"><a href="#连通图" class="headerlink" title="连通图"></a>连通图</h4></li><li><strong>如果图中从一个顶点到达另外一个顶点，至少有一条路径，那么这两个顶点是连通着的。</strong>例如图中，虽然V1和V3没有直接关联，但从V1到V3存在两条路径，分别是V1-V2-V3和V1-V4-V3，因此称V1和V2之间是连通的<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271101163.png" alt="image-20221027110110138"><br>上面用的是无向图的例子，其实有向图也是基本差不多的啦，自己揣摩哦！！！！<h5 id="强连通图"><a href="#强连通图" class="headerlink" title="强连通图"></a>强连通图</h5></li><li>在有向图中两个顶点彼此都有至少有一条通路，那么这有向图为强连通图。</li><li>除此之外，若有向图不是强连通图，但其中包含的是最大连通子图具有强连通的性质，则称该子图为强连通分量<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271112764.png" alt="image-20221027111223735"></li></ul><h3 id="生成树"><a href="#生成树" class="headerlink" title="生成树"></a>生成树</h3><ul><li>其实对连通图的遍历的过程中就已经是生成树的过程了<br>1.如图：<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271122665.png" alt="image-20221027112213637"><br>2.需要注意的是连通图中，由于任意两顶点之间可能含有多条通路，遍历连通图的方式有多种，往往一张连通图可能有多种不同的生成树与之对应。<br>3.连通图中的生成树必须满足以下 2 个条件：<ul><li>包含连通图中所有的顶点；</li><li>任意两顶点之间有且仅有一条通路；</li></ul></li></ul><h2 id="编程实现"><a href="#编程实现" class="headerlink" title="编程实现"></a>编程实现</h2><h3 id="图的顺序存储结构"><a href="#图的顺序存储结构" class="headerlink" title="图的顺序存储结构"></a>图的顺序存储结构</h3><ul><li>虽然图结构的数据元素存在多对多关系，但是同样可以采用顺序储存，能够使用数组有效的储存图</li><li>需要注意的是：数组储存图时，需要一个数组存放图中顶点本身的数据（最好是一维数组），另外一个数组存储的是各顶点之间的关系（这时候就要是二维数组了）<h4 id="邻接矩阵无向图"><a href="#邻接矩阵无向图" class="headerlink" title="邻接矩阵无向图"></a>邻接矩阵无向图</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MatrixNDG</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> size;<span class="comment">//图顶点个数</span></span><br><span class="line">    <span class="type">char</span>[] vertexs;<span class="comment">//图顶点名称</span></span><br><span class="line">    <span class="type">int</span>[][] matrix;<span class="comment">//图关系矩阵</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MatrixNDG</span><span class="params">(<span class="type">char</span>[] vertexs,<span class="type">char</span>[][] edges)</span>&#123;</span><br><span class="line">        size=vertexs.length;</span><br><span class="line">        matrix=<span class="keyword">new</span> <span class="title class_">int</span>[size][size];<span class="comment">//设定图关系矩阵大小</span></span><br><span class="line">        <span class="built_in">this</span>.vertexs=vertexs;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span>[] c:edges)&#123;<span class="comment">//设置矩阵值</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> getPosition(c[<span class="number">0</span>]);<span class="comment">//根据顶点名称确定对应矩阵下标</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">p2</span> <span class="operator">=</span> getPosition(c[<span class="number">1</span>]);</span><br><span class="line">            matrix[p1][p2] = <span class="number">1</span>;<span class="comment">//无向图，在两个对称位置存储</span></span><br><span class="line">            matrix[p2][p1] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//图的遍历输出</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] i:matrix)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j:i)&#123;</span><br><span class="line">                System.out.print(j+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据顶点名称获取对应的矩阵下标</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getPosition</span><span class="params">(<span class="type">char</span> ch)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;vertexs.length; i++)</span><br><span class="line">            <span class="keyword">if</span>(vertexs[i]==ch)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] vexs = &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>&#125;;</span><br><span class="line">        <span class="type">char</span>[][] edges = <span class="keyword">new</span> <span class="title class_">char</span>[][]&#123;</span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;F&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;G&#x27;</span>&#125;,&#125;;</span><br><span class="line">        MatrixNDG pG;</span><br><span class="line">        <span class="comment">// 自定义&quot;图&quot;(输入矩阵队列)</span></span><br><span class="line">        <span class="comment">// 采用已有的&quot;图&quot;</span></span><br><span class="line">        <span class="type">long</span> start=System.nanoTime();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)&#123;</span><br><span class="line">            pG = <span class="keyword">new</span> <span class="title class_">MatrixNDG</span>(vexs, edges);</span><br><span class="line">            <span class="comment">//pG.print();   // 打印图 </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> end=System.nanoTime();</span><br><span class="line">        System.out.println(end-start);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="邻接矩阵有向图"><a href="#邻接矩阵有向图" class="headerlink" title="邻接矩阵有向图"></a>邻接矩阵有向图</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MatrixDG</span> &#123;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="type">char</span>[] vertexs;</span><br><span class="line">    <span class="type">int</span>[][] matrix;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MatrixDG</span><span class="params">(<span class="type">char</span>[] vertexs,<span class="type">char</span>[][] edges)</span>&#123;</span><br><span class="line">        size=vertexs.length;</span><br><span class="line">        matrix=<span class="keyword">new</span> <span class="title class_">int</span>[size][size];</span><br><span class="line">        <span class="built_in">this</span>.vertexs=vertexs;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//和邻接矩阵无向图差别仅仅在这里</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span>[] c:edges)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> getPosition(c[<span class="number">0</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">p2</span> <span class="operator">=</span> getPosition(c[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">            matrix[p1][p2] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] i:matrix)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j:i)&#123;</span><br><span class="line">                System.out.print(j+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getPosition</span><span class="params">(<span class="type">char</span> ch)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;vertexs.length; i++)</span><br><span class="line">            <span class="keyword">if</span>(vertexs[i]==ch)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] vexs = &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>&#125;;</span><br><span class="line">        <span class="type">char</span>[][] edges = <span class="keyword">new</span> <span class="title class_">char</span>[][]&#123;</span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;F&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;G&#x27;</span>&#125;,&#125;;</span><br><span class="line">        MatrixDG pG;</span><br><span class="line">        <span class="comment">// 自定义&quot;图&quot;(输入矩阵队列)</span></span><br><span class="line">        <span class="comment">//pG = new MatrixUDG();</span></span><br><span class="line">        <span class="comment">// 采用已有的&quot;图&quot;</span></span><br><span class="line">        pG = <span class="keyword">new</span> <span class="title class_">MatrixDG</span>(vexs, edges);</span><br><span class="line"></span><br><span class="line">        pG.print();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="邻接表无向表"><a href="#邻接表无向表" class="headerlink" title="邻接表无向表"></a>邻接表无向表</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNDG</span> &#123;</span><br><span class="line"></span><br><span class="line">    Vertex[] vertexLists;<span class="comment">//邻接表数组</span></span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Vertex</span>&#123;<span class="comment">//邻接表节点类，单链表数据结构</span></span><br><span class="line">        <span class="type">char</span> ch;</span><br><span class="line">        Vertex next;</span><br><span class="line"></span><br><span class="line">        Vertex(<span class="type">char</span> ch)&#123;<span class="comment">//初始化方法</span></span><br><span class="line">            <span class="built_in">this</span>.ch=ch;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">char</span> ch)</span>&#123;<span class="comment">//加到链表尾</span></span><br><span class="line">            Vertex node=<span class="built_in">this</span>;</span><br><span class="line">            <span class="keyword">while</span>(node.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">                node=node.next;</span><br><span class="line">            &#125;</span><br><span class="line">            node.next=<span class="keyword">new</span> <span class="title class_">Vertex</span>(ch);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNDG</span><span class="params">(<span class="type">char</span>[] vertexs,<span class="type">char</span>[][] edges)</span>&#123;</span><br><span class="line"></span><br><span class="line">        size=vertexs.length;</span><br><span class="line">        <span class="built_in">this</span>.vertexLists=<span class="keyword">new</span> <span class="title class_">Vertex</span>[size];<span class="comment">//确定邻接表大小</span></span><br><span class="line">        <span class="comment">//设置邻接表头节点</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;size;i++)&#123;</span><br><span class="line">            <span class="built_in">this</span>.vertexLists[i]=<span class="keyword">new</span> <span class="title class_">Vertex</span>(vertexs[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//存储边信息</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span>[] c:edges)&#123;</span><br><span class="line">           <span class="type">int</span> p1=getPosition(c[<span class="number">0</span>]);</span><br><span class="line">           vertexLists[p1].add(c[<span class="number">1</span>]);</span><br><span class="line">           <span class="type">int</span> p2=getPosition(c[<span class="number">1</span>]);</span><br><span class="line">           vertexLists[p2].add(c[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//跟据顶点名称获取链表下标</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getPosition</span><span class="params">(<span class="type">char</span> ch)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;size; i++)</span><br><span class="line">            <span class="keyword">if</span>(vertexLists[i].ch==ch)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//遍历输出邻接表</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;size;i++)&#123;</span><br><span class="line">           Vertex temp=vertexLists[i];</span><br><span class="line">           <span class="keyword">while</span>(temp!=<span class="literal">null</span>)&#123;</span><br><span class="line">               System.out.print(temp.ch+<span class="string">&quot; &quot;</span>);</span><br><span class="line">               temp=temp.next;</span><br><span class="line">           &#125;</span><br><span class="line">           System.out.println();</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">char</span>[] vexs = &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>&#125;;</span><br><span class="line">        <span class="type">char</span>[][] edges = <span class="keyword">new</span> <span class="title class_">char</span>[][]&#123;</span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;F&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;G&#x27;</span>&#125;,&#125;;</span><br><span class="line"></span><br><span class="line">        ListNDG pG;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> start=System.nanoTime();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)&#123;</span><br><span class="line">            pG = <span class="keyword">new</span> <span class="title class_">ListNDG</span>(vexs, edges);</span><br><span class="line">            <span class="comment">//pG.print();   // 打印图 </span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> end=System.nanoTime();</span><br><span class="line"></span><br><span class="line">        System.out.println(end-start);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="邻接有向表"><a href="#邻接有向表" class="headerlink" title="邻接有向表"></a>邻接有向表</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListDG</span> &#123;</span><br><span class="line">    Vertex[] vertexLists;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Vertex</span>&#123;</span><br><span class="line">        <span class="type">char</span> ch;</span><br><span class="line">        Vertex next;</span><br><span class="line"></span><br><span class="line">        Vertex(<span class="type">char</span> ch)&#123;</span><br><span class="line">            <span class="built_in">this</span>.ch=ch;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">char</span> ch)</span>&#123;</span><br><span class="line">            Vertex node=<span class="built_in">this</span>;</span><br><span class="line">            <span class="keyword">while</span>(node.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">                node=node.next;</span><br><span class="line">            &#125;</span><br><span class="line">            node.next=<span class="keyword">new</span> <span class="title class_">Vertex</span>(ch);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListDG</span><span class="params">(<span class="type">char</span>[] vertexs,<span class="type">char</span>[][] edges)</span>&#123;</span><br><span class="line"></span><br><span class="line">        size=vertexs.length;</span><br><span class="line">        <span class="built_in">this</span>.vertexLists=<span class="keyword">new</span> <span class="title class_">Vertex</span>[size];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;size;i++)&#123;</span><br><span class="line">            <span class="built_in">this</span>.vertexLists[i]=<span class="keyword">new</span> <span class="title class_">Vertex</span>(vertexs[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span>[] c:edges)&#123;</span><br><span class="line">           <span class="type">int</span> p=getPosition(c[<span class="number">0</span>]);</span><br><span class="line">           vertexLists[p].add(c[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getPosition</span><span class="params">(<span class="type">char</span> ch)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;size; i++)</span><br><span class="line">            <span class="keyword">if</span>(vertexLists[i].ch==ch)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;size;i++)&#123;</span><br><span class="line">           Vertex temp=vertexLists[i];</span><br><span class="line">           <span class="keyword">while</span>(temp!=<span class="literal">null</span>)&#123;</span><br><span class="line">               System.out.print(temp.ch+<span class="string">&quot; &quot;</span>);</span><br><span class="line">               temp=temp.next;</span><br><span class="line">           &#125;</span><br><span class="line">           System.out.println();</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">char</span>[] vexs = &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>&#125;;</span><br><span class="line">        <span class="type">char</span>[][] edges = <span class="keyword">new</span> <span class="title class_">char</span>[][]&#123;</span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;F&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;G&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;G&#x27;</span>&#125;,&#125;;</span><br><span class="line"></span><br><span class="line">        ListDG pG;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> start=System.nanoTime();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)&#123;</span><br><span class="line">            pG = <span class="keyword">new</span> <span class="title class_">ListDG</span>(vexs, edges);</span><br><span class="line">            <span class="comment">//pG.print();   // 打印图 </span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> end=System.nanoTime();</span><br><span class="line"></span><br><span class="line">        System.out.println(end-start);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h2 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h2><ul><li><p>所谓图的遍历，简单理解就是逐个访问图中的顶点，确保每个顶点都只访问一次</p></li><li><p>深度优先搜索算法遍历图1无向图的过程:<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271413712.png" alt="image-20221027141315660"></p></li></ul><p>1.初始状态下，无向图中的所有顶点都是没有被访问过的，一次可以任选一个顶点出发，遍历整个无向图，假设从V1顶点开始，先访问V1顶点。</p><p>2.紧邻V1的顶点有两个，分别是V2和V3，它们都没有被访问过，从它们中任选一个，这里选择V2</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271530315.png" alt="image-20221027153049261"></p><p>3.紧邻V2的顶点三个，分别是V1，V4，V5，尚未被访问的有V4，V5，从它们中任选一个，比如访问V4，如下图所示：</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271531571.png" alt="image-20221027153105528"></p><p>4.紧邻 V4 的顶点有两个，分别是 V2 和 V8，只有 V8 尚未被访问，因此访问 V8，如下图所示：</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271531449.png" alt="image-20221027153116398"></p><p>5.紧邻 V8 的顶点有两个，分别是 V4 和 V5，只有 V5 尚未被访问，因此访问 V5，如下图所示：</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271531351.png" alt="image-20221027153133306"></p><p>6.和 V5 相邻的顶点有两个，分别是 V2 和 V8，它们都已经访问过了。也就是说，此时从 V5 出发，找不到任何未被访问的顶点了。</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271531438.png" alt="image-20221027153147389"></p><p>7.这种情况下，深度优先搜索算法会回退到之前的顶点，查看先前有没有漏掉的、尚未访问的顶点：</p><ul><li>从 V5 回退到 V8，找不到尚未访问的顶点；</li><li>从 V8 回退到 V4，还是找不到尚未访问的顶点；</li><li>从 V4 回退到 V2，也还是找不到尚未访问的顶点；</li><li>从 V2 回退到 V1，发现 V3 还没有被访问。<br>于是，下一个要访问的顶点就是 V3，如下图所示：</li></ul><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271532746.png" alt="image-20221027153201697"></p><p>8.紧邻 V3 的顶点有三个，分别是 V1、V6 和 V7，尚未访问的有 V6 和 V7，因此从它们中任选一个，比如访问 V6，如下图所示：</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202210271532529.png" alt="image-20221027153214477"></p><p>9.紧邻 V6 的顶点有两个，分别是 V3 和 V7，只有 V7 还没有访问，因此访问 V7，如下图所示：</p><p>10.紧邻 V7 顶点有 V6 和 V3，但它们都已经访问过了，此时面临的情况和第 6 步完全一样，深度优先搜索算法的解决方法也是一样的：</p><ul><li>从 V7 回退到 V6，依然找不到尚未访问的顶点；</li><li>从 V6 回退到 V3，依然找不到尚未访问的顶点；</li><li>从 V3 回退到 V1，依然找不到尚未访问的顶点；</li><li>V1 是遍历图的起始顶点，回退到 V1 还找不到尚未访问的顶点，意味着以 V1 顶点为突破口，能访问的顶点全部已经访问完了。这种情况下，深度优先搜索算法会从图的所有顶点中重新选择一个尚未访问的顶点，从该顶点出发查找尚未访问的其它顶点。<br>从图 9 可以看到，图中已经没有尚未访问的顶点了，此时深度优先搜索算法才执行结束。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;图的存储结构&quot;&gt;&lt;a href=&quot;#图的存储结构&quot; class=&quot;headerlink&quot; title=&quot;图的存储结构&quot;&gt;&lt;/a&gt;图的存储结构&lt;/h1&gt;&lt;h2 id=&quot;基本知识（此次都是为图存储结构的基本知识，若已了解可跳至算法部分）&quot;&gt;&lt;a href=&quot;#基本知识</summary>
      
    
    
    
    <category term="数据结构" scheme="https://kalyan-zitiu.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
    <category term="算法" scheme="https://kalyan-zitiu.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>计算机网络学习笔记-物理层</title>
    <link href="https://kalyan-zitiu.github.io/2022/11/14/%E7%89%A9%E7%90%86%E5%B1%82/"/>
    <id>https://kalyan-zitiu.github.io/2022/11/14/%E7%89%A9%E7%90%86%E5%B1%82/</id>
    <published>2022-11-14T13:00:04.000Z</published>
    <updated>2022-11-14T13:43:00.621Z</updated>
    
    <content type="html"><![CDATA[<h1 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h1><h2 id="数据通信基础知识"><a href="#数据通信基础知识" class="headerlink" title="数据通信基础知识"></a>数据通信基础知识</h2><h3 id="数据通信模型"><a href="#数据通信模型" class="headerlink" title="数据通信模型"></a>数据通信模型</h3><ul><li>数据：传送信息的实体，通常时有意义的符号序列</li><li>信号：数据的电气/电磁的表现，时数据传输过程中的存在形式</li><li>信源：产生和发送数据的源头</li><li>信宿：接收数据的终点</li><li>信道：信号的传输媒介，一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道。<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101114805.png" alt="image-20221106163817766"></li></ul><h3 id="三种通信方式"><a href="#三种通信方式" class="headerlink" title="三种通信方式"></a>三种通信方式</h3><ol><li>单工通信：只有一个方向的通信而没有反方向的交互，仅需要一条信道</li><li>半双工通信：通信的双方都可以发送或接收消息，但任何一方都不能同时发送和接收，需要两条信道</li><li>全双工通信：通信双方可以同时发送和接收信息，也需要两条信道</li></ol><h3 id="两种数据传输方式"><a href="#两种数据传输方式" class="headerlink" title="两种数据传输方式"></a>两种数据传输方式</h3><ul><li>串行传输<img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101114004.png" alt="image-20221106165443091"></li><li>并行传输<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101114090.png" alt="image-20221106165454936"></li></ul><h3 id="并口"><a href="#并口" class="headerlink" title="并口"></a>并口</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101114190.png" alt="image-20221106165557385"></p><h3 id="码元"><a href="#码元" class="headerlink" title="码元"></a>码元</h3><ol><li>指的时一个固定时长的信号波形（数字脉冲）代表不同离散数值的基本波形（码元是一个信号）</li><li>数字通信中数字信号的计量单位，这个时长内的信号称为k进制码元，该时长称为码元宽度</li><li>当码元的离散状态右M（M&gt;2）时，此时码元为M进制码元</li><li>1个码元可以携带多个比特信息量。</li></ol><ul><li>举例子：</li></ul><ol><li><p>当码元的<strong>离散状态有四种时</strong>，那么就对应了四种不同的码元<strong>00，01，11，10</strong>。每个码元都对应着自己的电平也就是<strong>数字信号。</strong></p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101114665.png" alt="image-20221108160327118"></p></li></ol><h3 id="速率（数据率）匹配"><a href="#速率（数据率）匹配" class="headerlink" title="速率（数据率）匹配"></a>速率（数据率）匹配</h3><ol><li>数据的传输速率，单位时间内传输的数据量</li></ol><h4 id="传输速率和传播速率的区别"><a href="#传输速率和传播速率的区别" class="headerlink" title="传输速率和传播速率的区别"></a>传输速率和传播速率的区别</h4><p>前者主要针对主机，链路开端方面的数据，即把数据发送到链路的速度。<br>后者是指数据在整个信道上，链路上传播的速度</p><h4 id="码元传输速率（波形速率，调制速率，符号速率）"><a href="#码元传输速率（波形速率，调制速率，符号速率）" class="headerlink" title="码元传输速率（波形速率，调制速率，符号速率）"></a>码元传输速率（波形速率，调制速率，符号速率）</h4><ol><li>表示单位时间内数字通信系统所传输的码元个数，单位波特（Baud），一波特表示数字通信系统每秒传输一个码元。这里的码元可以是多进制的，也可以是二进制的。</li></ol><h4 id="信息传输速率（信息速率，比特率）"><a href="#信息传输速率（信息速率，比特率）" class="headerlink" title="信息传输速率（信息速率，比特率）"></a>信息传输速率（信息速率，比特率）</h4><ol><li>单位时间内数字通信系统传输的二进制码元个数（比特数），单位是比特/秒（1s传输多少比特）</li></ol><h4 id="码元传输和信息传输的关系"><a href="#码元传输和信息传输的关系" class="headerlink" title="码元传输和信息传输的关系"></a>码元传输和信息传输的关系</h4><ol><li>若一个码元携带n bit的信息量，则M Baud的码元传输速率所对应的信息传输速率为M X n bit/s。</li></ol><h3 id="带宽"><a href="#带宽" class="headerlink" title="带宽"></a>带宽</h3><ol><li>表示单位时间内从网络中的某一点到另一点所能通过的“最高数据率”</li><li>表示网络的通信线路所能传输数据的能力。（b/s）</li></ol><h3 id="失真"><a href="#失真" class="headerlink" title="失真"></a>失真</h3><ol><li>现实中的信道会有带宽受限以及噪音等干扰<h4 id="码间串扰"><a href="#码间串扰" class="headerlink" title="码间串扰"></a>码间串扰</h4></li><li>震动的速度和频率太快了，以至于接收端区别不了码元之间的清晰界限的现象。<h5 id="信道带宽"><a href="#信道带宽" class="headerlink" title="信道带宽"></a>信道带宽</h5></li><li>是信道能通过的最高频率和最低频率之差</li></ol><h3 id="奈氏准则"><a href="#奈氏准则" class="headerlink" title="奈氏准则"></a>奈氏准则</h3><ol><li>在理想低通（无噪声，带宽受限）条件下，为了避免码间串扰，极限码元传输速率为2W Baud,W是信道带宽，单位是Hz。</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101114527.png" alt="image-20221108164817649"></p><ol start="2"><li>码元传输当然是有上限速率的。传输速率超过此上限，就会出现严重的码间串扰问题，使接收端对码元的完全正确识别成为不可能</li><li>信道的频带越宽（即能通过的信号高频分量越多），就可以用更高的速率进行码元的有效传输。（也就是W越大）</li><li>奈氏准则给出了码元的传输速率的限制，但并没有对信息传输速率给出限制</li><li>由于码元的传输速率受奈氏准则的制约，所以提高数据的传输速率，就必须设法使每个码元携带跟多个比特的信息量，这就需要采用多元制的调制方法</li></ol><h3 id="香农定理"><a href="#香农定理" class="headerlink" title="香农定理"></a>香农定理</h3><ol><li>噪声的随机产生会使接收端一段时间失去对码元的判断能力。</li><li>因为噪声和信号是相对的，因此引入了一个信噪比的量</li><li>信噪比=信号的平均功率/噪声的平均功率。</li></ol><ul><li>香农定理： 在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值</li></ul><ol><li>信噪比越大，极限传输速率越高</li><li>只有有传输带宽以及信噪比，就能够确定信息传输速率的上限</li><li>只要信息的传输速率低于极限值，就有可能完成无差错的传输</li><li>实际的信道传输速率会比极限值低很多<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101114164.png" alt="image-20221108170535322"></li></ol><h2 id="编码和调制以及其基础知识"><a href="#编码和调制以及其基础知识" class="headerlink" title="编码和调制以及其基础知识"></a>编码和调制以及其基础知识</h2><h3 id="基带信号与宽带信号"><a href="#基带信号与宽带信号" class="headerlink" title="基带信号与宽带信号"></a>基带信号与宽带信号</h3><ol><li>信道：是信号的传输媒介，一般用来表示向某个方向传送信息介质。所以会包含一根发送信道和接收信道</li><li>信道又会根据传输信号和传输介质分为模拟信道（传送模拟信号）/数字信道和无线信道/有线信道<h4 id="基带信号"><a href="#基带信号" class="headerlink" title="基带信号"></a>基带信号</h4></li></ol><ul><li>将数字信号1，0采用不同的电压表示，再送到链路上。来自于信源的信号，像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。直接表达了要传输信息的信号（不加任何东西）</li></ul><h4 id="宽带信号"><a href="#宽带信号" class="headerlink" title="宽带信号"></a>宽带信号</h4><ul><li>将基带信号也就是01010的数字信号进行调制形成的频分复用模拟信号，再送到模拟信道上。</li><li>宽带利用的是载波调制，信号频分，把信号放在较高频段来传输。</li></ul><h3 id="编码与调制"><a href="#编码与调制" class="headerlink" title="编码与调制"></a>编码与调制</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101232481.png" alt="image-20221110123237415"></p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101131784.png" alt="image-20221110113137741"></p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101132385.png" alt="image-20221110113206340"></p><h4 id="数字数据编码为数字信号"><a href="#数字数据编码为数字信号" class="headerlink" title="数字数据编码为数字信号"></a>数字数据编码为数字信号</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101143934.png" alt="image-20221110114311908"></p><h5 id="非归零编码【NRZ】"><a href="#非归零编码【NRZ】" class="headerlink" title="非归零编码【NRZ】"></a>非归零编码【NRZ】</h5><ol><li>高1低0,编码容易实现,但没有检错功能,而且没法判断一个码元的开始和结束.两端的难以保持同步 </li><li>需要一个信道来发送这条信号的周期和速度,以达到发送与接收同步<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101142456.png" alt="image-20221110114258427"></li></ol><h5 id="曼彻斯特编码"><a href="#曼彻斯特编码" class="headerlink" title="曼彻斯特编码"></a><strong>曼彻斯特编码</strong></h5><ol><li>前高后低为1,前低后高为0.当然也可以反着来使用</li><li>曼彻斯特能够实现<strong>自同步接收</strong>,因为它把码元分为了<strong>两个相同的间隔</strong></li><li>编码会在码元的时间中间发生跳变,来告诉接收方时钟信号,并且还能作为数据信号传输</li><li>在一个码元时间内信号变化两次也就是进行了2次脉冲</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101151216.png" alt="image-20221110115150189"></p><h5 id="差分曼彻斯特编码"><a href="#差分曼彻斯特编码" class="headerlink" title="差分曼彻斯特编码"></a><strong>差分曼彻斯特编码</strong></h5><ol><li>同1异0,简单来说就是后半段电平的下一位遇到0的话就变化,遇到1则不变</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101159529.png" alt="image-20221110115928497"></p><h5 id="归零编码【RZ】"><a href="#归零编码【RZ】" class="headerlink" title="归零编码【RZ】"></a>归零编码【RZ】</h5><ol><li>信号的电平在每一个码元后都要恢复到0的状态</li><li>需要信道来传输时钟信号</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101146390.png" alt="image-20221110114621361"></p><h5 id="反向不归零编码【NRZI】"><a href="#反向不归零编码【NRZI】" class="headerlink" title="反向不归零编码【NRZI】"></a>反向不归零编码【NRZI】</h5><ol><li>信号的电平翻转表示0,不变表示1.也就是说遇到0就翻转一次电平,遇到1就不变</li><li>需要信道来传输时钟信号</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101148118.png" alt="image-20221110114824090"></p><h5 id="4B-5B编码"><a href="#4B-5B编码" class="headerlink" title="4B/5B编码"></a>4B/5B编码</h5><ol><li>在一个比特流中插入额外的比特来打破一连串的01数据流,就是用5个比特来编码4个比特的数据,之后再传给接收方.</li><li>每个4比特的不同排序都会对应不同排序的5比特.</li><li>剩下的5比特排序会留给作为<strong>数据的控制码,<strong>也就是</strong>定界</strong>一样的作用</li></ol><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101205953.png" alt="image-20221110120535909"></p><h4 id="数字数据调制为模拟信号"><a href="#数字数据调制为模拟信号" class="headerlink" title="数字数据调制为模拟信号"></a>数字数据调制为模拟信号</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101214059.png" alt="image-20221110121407005"></p><h4 id="模拟数据编码为数字信号（举例：音频数字化）"><a href="#模拟数据编码为数字信号（举例：音频数字化）" class="headerlink" title="模拟数据编码为数字信号（举例：音频数字化）"></a>模拟数据编码为数字信号（举例：音频数字化）</h4><ol><li><p>抽样：对模拟信号周期性扫描，把时间上的连续的信号变成时间上离散的信号（定理：f<del>采样频率</del>&gt;=2f<del>信号最高频率</del>）</p></li><li><p>量化：把取得的电平幅值分级标度转化为对应的数字值，并取整数，这就把连续的电平变为离散的数字量</p></li><li><p>编码：量化结果变为二进制编码</p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211101222807.png" alt="image-20221110122251757"></p></li></ol><h4 id="模拟数据调制为模拟信号"><a href="#模拟数据调制为模拟信号" class="headerlink" title="模拟数据调制为模拟信号"></a>模拟数据调制为模拟信号</h4><ol><li>可以使用频分复用技术，充分利用带宽资源。</li><li>模拟的声音数据是加载到模拟的载波信号中进行传输。</li></ol><h2 id="传输介质及分类"><a href="#传输介质及分类" class="headerlink" title="传输介质及分类"></a>传输介质及分类</h2><ol><li>传输介质也称传输媒体/传输媒介，它是数据传输系统中在发送设备和设备之间的<strong>物理通路</strong></li><li>它是在物理层下面的并不是物理层，有时候会把传输媒体称为体系结构的第0层</li></ol><h3 id="导向性传输介质"><a href="#导向性传输介质" class="headerlink" title="导向性传输介质"></a>导向性传输介质</h3><ol><li>需要依赖物理媒介<h4 id="双绞线"><a href="#双绞线" class="headerlink" title="双绞线"></a>双绞线</h4></li></ol><ul><li>两根采用一定的规则进行并排绞合的，相互绝缘的铜导线组成。能够减少对相邻导线的电磁干扰<br><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211141730472.png" alt="image-20221114173045429"></li></ul><h4 id="同轴电缆"><a href="#同轴电缆" class="headerlink" title="同轴电缆"></a>同轴电缆</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211141736886.png" alt="image-20221114173620742"></p><h4 id="光纤"><a href="#光纤" class="headerlink" title="光纤"></a>光纤</h4><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211141739188.png" alt="image-20221114173936067"></p><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211141740893.png" alt="image-20221114174024782"></p><h3 id="非导向性传输介质"><a href="#非导向性传输介质" class="headerlink" title="非导向性传输介质"></a>非导向性传输介质</h3><h4 id="无线电波"><a href="#无线电波" class="headerlink" title="无线电波"></a>无线电波</h4><ul><li>信号向所有方向传播</li><li>较强的穿透能力，可远距离传输，多用于手机通信</li></ul><h4 id="微波"><a href="#微波" class="headerlink" title="微波"></a>微波</h4><ul><li>信号固定方向传播</li><li>微波通信频率较高，频段范围宽，因此数据率很高<h5 id="卫星通信"><a href="#卫星通信" class="headerlink" title="卫星通信"></a>卫星通信</h5></li><li>通信容量大，距离远，覆盖广，广播通信和多址通信</li><li>传播时延较长，受气候影响大，误码率高，成本高</li></ul><h4 id="红外线，激光"><a href="#红外线，激光" class="headerlink" title="红外线，激光"></a>红外线，激光</h4><ul><li>信号固定方向传播</li><li>把要传输的信号分别转换为各自的信号格式，即红外信号和激光信号在空间中传播。</li></ul><h2 id="物理层设备"><a href="#物理层设备" class="headerlink" title="物理层设备"></a>物理层设备</h2><h3 id="中继器"><a href="#中继器" class="headerlink" title="中继器"></a>中继器</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211141851879.png" alt="image-20221114185153756"></p><h3 id="集线器"><a href="#集线器" class="headerlink" title="集线器"></a>集线器</h3><p><img src="https://gcore.jsdelivr.net/gh/Kalyan-zitiu/TyporaIMG/img/202211141852692.png" alt="image-20221114185248596"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;物理层&quot;&gt;&lt;a href=&quot;#物理层&quot; class=&quot;headerlink&quot; title=&quot;物理层&quot;&gt;&lt;/a&gt;物理层&lt;/h1&gt;&lt;h2 id=&quot;数据通信基础知识&quot;&gt;&lt;a href=&quot;#数据通信基础知识&quot; class=&quot;headerlink&quot; title=&quot;数据通信基</summary>
      
    
    
    
    <category term="计算机网络" scheme="https://kalyan-zitiu.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机网络" scheme="https://kalyan-zitiu.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
</feed>
